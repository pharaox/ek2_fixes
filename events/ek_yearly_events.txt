namespace = ek_yearly_events

# Character hears a bard sing Sway as We Kiss
ek_yearly_events.0001 = {
	type = character_event
	title = {
		first_valid = {
			triggered_desc = {
				trigger = { current_month = 1 }
				desc = ek_yearly_events.0001.new_life.t 
			} 
			desc = ek_yearly_events.0001.t
		}
	}
	desc = ek_yearly_events.0001.desc
	theme = feast_activity
	
	left_portrait = {
		character = root
		animation = happiness
	}	

	trigger = {
		NOT = {	culture = { has_cultural_pillar = heritage_goblinken } }
	}

	cooldown = { years = yearly_cooldown }

	option = { # Bravo!
		name = ek_yearly_events.0001.a
		stress_impact = {
			base = -50
			arrogant = medium_stress_impact_gain
			impatient = medium_stress_impact_gain 
			callous = medium_stress_impact_gain		
		}
		moderate_praxis_increase_effect = yes
		random_list = {
			   10 = { add_trait = drunkard }
			   90 = { }
		}		
	}

	option = { # Meh
		name = ek_yearly_events.0001.b
		stress_impact = { 
			humble = medium_stress_impact_gain 
			compassionate = medium_stress_impact_gain		
		}		
	}

	after = {
		hidden_effect = {
			feast_wrap_up_or_fire_random_event_effect = yes
		}
	}
}


# Cake and the Diamond
ek_yearly_events.0002 = {
	type = character_event
	title = ek_yearly_events.0002.t
	desc = ek_yearly_events.0002.desc
	theme = medicine
	
	left_portrait =  root

	right_portrait = {
		character = scope:cake_alchemist
		animation = idle
	}

	cooldown = { years = yearly_cooldown }

	immediate = {
		create_character = {
			template = cake_alchemist_template
			location = root.capital_province
			gender_female_chance = 100
			save_scope_as = cake_alchemist
		}
	}
	
	trigger = {
		NOT = {	culture = { has_cultural_pillar = heritage_goblinken } }
	}
	
	weight_multiplier = {
		base = 1
		modifier = {
			add = 0.2
			has_trait = drunkard
		}
		modifier = {
			add = 0.2
			has_trait = gregarious
		}
		modifier = {
			add = 0.2
			has_trait = reveler_1
		}
		modifier = {
			add = 0.4
			has_trait = reveler_2
		}
		modifier = {
			add = 0.6
			has_trait = reveler_3
		}
		modifier = {
			add = -0.2
			has_trait = arrogant
		}
		modifier = {
			add = -0.2
			has_trait = shy
		}
		modifier = {
			add = -0.2
			has_trait = paranoid
		}
		modifier = {
			add = -0.2
			has_trait = reclusive
		}
	}
	
	option = { # Fine!
		name = ek_yearly_events.0002.a
		stress_impact = {
			greedy = minor_stress_impact_gain
			comfort_eater = minor_stress_loss
		}			
		remove_short_term_gold = 15
		
		trigger_event = {
			id = ek_yearly_events.0003
			days = {2 4}
		} 
	}

	option = { # Would you accept some fine and local ingredients instead?
		name = ek_yearly_events.0002.b
		
		trigger = { has_trait = lifestyle_herbalist }

		trigger_event = {
			id = ek_yearly_events.0003
			days = {2 4}
		} 
	}
		

	option = { # Away with you!
		name = ek_yearly_events.0002.c
	}	
	

}


# CnD Final
ek_yearly_events.0003 = {
	type = character_event
	title = ek_yearly_events.0003.t
	desc = ek_yearly_events.0003.desc
	theme = medicine
	
	left_portrait = {
		character = root	
	}

	right_portrait = {
		character = scope:cake_alchemist
		animation = idle 
	}
	
	option = { # Eat the Cake
		name = ek_yearly_events.0003.a

		stress_impact = {
			gluttonous = major_stress_impact_loss
			comfort_eater = major_stress_impact_loss
			inappetetic = major_stress_impact_gain
		}
		
		hidden_effect = {
			random_list = { 
				25 = { 
					send_interface_toast = {
						left_icon = root
						title = tooltip.ek_yearly_events.0003.a.health.t
						add_character_modifier = {
							modifier = ek_yearly_events_had_cake_health
							days = 3650	
						}
						add_prestige = minor_prestige_gain	
					}
				}

				25 = { 
					send_interface_toast = {
						left_icon = root
						title = tooltip.ek_yearly_events.0003.a.prowess.t
						add_character_modifier = {
							modifier = ek_yearly_events_had_cake_prowess
							days = 3650	
						}
						add_prestige = minor_prestige_gain	
					}
				} 
				20 = { 
					send_interface_toast = {
						left_icon = root
						title = tooltip.ek_yearly_events.0003.a.fail.t
						desc = tooltip.ek_yearly_events.0003.a.fail.desc
						remove_short_term_gold = 50
						add_prestige = minor_prestige_loss
						stress_impact = {
							base = major_stress_impact_gain	}
						}
				}
				20 = { 
					contract_disease_effect = {
						DISEASE = ill
						TREATMENT_EVENT = yes
					}
				}

				10 = { 
					death = { killer = scope:cake_alchemist death_reason = death_mysterious } 
				} 
							
			}
		} 
						
	}
			
	option = { # Nope, I'm good.
		name = ek_yearly_events.0003.b

		stress_impact = {
			gluttonous = major_stress_impact_gain
			comfort_eater = major_stress_impact_gain
			inappetetic = major_stress_impact_loss
		}		
	}
}

# Kolb and the Dragon 1
ek_yearly_events.0006 = {
	type = character_event
	title = ek_yearly_events.0006.t
	desc = ek_yearly_events.0006.desc
	theme = hunting
	
	left_portrait = {
		character = root
		animation = shock
	}

	right_portrait = { 
		character = scope:katd_courtier 
		animation = beg 
	}

	cooldown = { years = yearly_cooldown }

	trigger = {
		culture = {
			has_cultural_pillar = heritage_atmoran
		}
	}

	immediate = {
		random_courtier = {
			limit = {
				is_available_ai_adult = yes
			}
			save_scope_as = katd_courtier
		}
	
		random_courtier = {
			limit = {
				is_available_ai_adult = yes
				prowess > 10		}
			save_scope_as = katd_champion
		}
	}
	
	option = { # Fine, I'll do it myself.
		name = ek_yearly_events.0006.a	
		trigger_event = {
			id = ek_yearly_events.0007
			days = {2 4}	
		}
		stress_impact = {
			brave = major_stress_impact_loss
			diligent = major_stress_impact_loss
			lazy = major_stress_impact_gain
			craven = major_stress_impact_gain
		}
	}

	option = { # Hey, you. Yeah, you do it.
		name = ek_yearly_events.0006.b

		trigger = { exists = scope:katd_champion }	
		

		scope:katd_champion = {
			random_list = {
				30 = { 
					death = { death_reason = death_disappearance } 
				}
				60 = {
					increase_wounds_effect = {
						REASON = fight	
					} 
				}
				10 = { add_gold = 50 }
			}
		}

		stress_impact = {
			brave = major_stress_impact_gain
			diligent = major_stress_impact_gain
			lazy = major_stress_impact_loss
			craven = major_stress_impact_loss
		}
	}
	

	option = { # dragons? are you mad?
		name = ek_yearly_events.0006.c
		trigger = { 
			OR = { 
				has_trait = cynical
				learning > 9
			}	
		}
		add_prestige = medium_prestige_gain
	}
}


# Katd 2
ek_yearly_events.0007 = {
	type = character_event
	title = ek_yearly_events.0007.t
	desc = ek_yearly_events.0007.desc
	theme = hunting
	right_portrait = root
	
	option = { # Enter Cold Cave
		name = ek_yearly_events.0007.a
		trigger_event = {
			id = ek_yearly_events.0008
			days = {2 4}
		}
	}	

	option = { # Windy Cave
		name = ek_yearly_events.0007.b
		hidden_effect = {
			random_list = {
				25 = { 
					send_interface_toast = {
						type = event_toast_effect_bad
						left_icon = ROOT
						desc = ek_yearly_events.0007.death.b
						death = { death_reason = death_fall } 
					}
				}
				25 = { 
					send_interface_toast = {
						type = event_toast_effect_bad
						left_icon = ROOT
						title = ek_yearly_events.0007.hurt.b
						increase_wounds_effect = { REASON = fall }
						add_prestige = -50
					} 
				}
				25 = {
					send_interface_toast = {
						type = event_toast_effect_good
						left_icon = ROOT
						title = ek_yearly_events.0007.gold.b
						add_gold = 50	
					}
				}
				25 = { 
					send_interface_toast = {
						left_icon = ROOT
						type = event_toast_effect_bad
						title = ek_yearly_events.0007.back.b 
					} 
				}
			}	 
		}
	}

	option = { # Trail
		name = ek_yearly_events.0007.c
		trigger_event = {
			id = ek_yearly_events.0009
			days = {2 4}
		}
	}	
	
}



# Katd - Cold Cave
ek_yearly_events.0008 = {
	type = character_event
	title = ek_yearly_events.0008.t
	desc = ek_yearly_events.0008.desc
	theme = hunting
	
	left_portrait = { character = root }
		
	option = { # Neck
		name = ek_yearly_events.0008.a
		duel = {
			skill = prowess
			value = decent_skill_rating
			10 = {
				desc = ek_yearly_events.0008.a.success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				send_interface_toast = {
					left_icon = root
					type = event_toast_effect_good
					title = tooltip.ek_yearly_events.0008.a.success
					trigger_event = {
						id = ek_yearly_events.0010
						days = {2 4}
					}
				}
			}
			
			5 = {
				desc = ek_yearly_events.0008.a.failure
				send_interface_toast = {
					left_icon = root
					type = event_toast_effect_bad
					title = tooltip.ek_yearly_events.0008.a.failure
					add_prestige = medium_prestige_loss
					random_list = {
						25 = { 
							death = { death_reason = death_battle } 
						}
						25 = { 
							increase_wounds_effect = { REASON = battle }
						} 
					} 
				}
			}
		} 
	}

	option = { # Belly
		name = ek_yearly_events.0008.b
		duel = {
			skill = intrigue
			value = decent_skill_rating
			10 = {
				desc = ek_yearly_events.0008.a.success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				send_interface_toast = {
					left_icon = root
					type = event_toast_effect_good
					title = tooltip.ek_yearly_events.0008.b.success
					trigger_event = {
					id = ek_yearly_events.0010
					days = {2 4}
					}
				}
			}
			
			5 = {
				desc = ek_yearly_events.0008.a.failure
				send_interface_toast = {
					left_icon = root
					type = event_toast_effect_bad
					title = tooltip.ek_yearly_events.0008.b.failure
					add_prestige = medium_prestige_loss
					death = { death_reason = death_battle } 
				}
			} 
		}
	} 
}

# Katd - Trail
ek_yearly_events.0009 = {
	type = character_event
	title = ek_yearly_events.0009.t
	desc = ek_yearly_events.0009.desc
	theme = hunting
	
	left_portrait = {
		character = root
	}

	right_portrait = {
		character = scope:katd_wise
	}
	
	immediate = {
		random_living_character = {
			limit = {
				is_available_ai_adult = yes		
			}
			save_scope_as = katd_wise_base
		}
		create_character = {
			template = katd_wise_template
			culture = scope:katd_wise_base.culture
			faith = scope:katd_wise_base.faith
			gender_female_chance = 50
			dynasty = none
			location = root.location
			save_scope_as = katd_wise
		}
	}

	option = { # Hills
		name = ek_yearly_events.0009.a
		trigger_event = {
			id = ek_yearly_events.0011
			days = {2 4}
		}
	}

	option = { # Marsh
		name = ek_yearly_events.0009.b
		trigger_event = {
			id = ek_yearly_events.0012
			days = {2 4}
		}
	}

	after = {
		scope:katd_wise = {
			silent_disappearance_effect = yes
		}
	}
}



# Katd Victory
ek_yearly_events.0010 = {
	type = character_event
	title = ek_yearly_events.0010.t
	desc =	ek_yearly_events.0010.desc
	theme = hunting
	
	right_portrait = {
		character = root
		animation = war_over_win
	}
		
	option = { # Hell ye
		name = ek_yearly_events.0010.a
		
		set_nickname_effect = {
			NICKNAME = nick_dragonslayer
		}
		large_praxis_increase_effect = yes
		add_gold = major_gold_value
		add_prestige = major_prestige_gain
		capital_county = { 
			random_list = {
				10 = { change_development_level = 1 }
				10 = { change_development_level = 2 }
				10 = { change_development_level = 3 }
				10 = { change_development_level = 4 }
				10 = { change_development_level = 5 }
			}
		}	
	} 
}



# Katd hills
ek_yearly_events.0011 = {
	type = character_event
	title = ek_yearly_events.0011.t
	desc = ek_yearly_events.0011.desc
	theme = hunting
	
	right_portrait = {
		character = root	
	}  
	
	option = { # climb down
		name = ek_yearly_events.0011.a
		stress_impact = {
			drunkard = minor_stress_impact_gain
		}
		trigger_event = {
			id = ek_yearly_events.0008
			days = {2 4}
		}
	}

	option = { # visit tavern
		name = ek_yearly_events.0011.b
		stress_impact = {
			drunkard = minor_stress_impact_loss
		}
		small_praxis_decrease_effect = yes
		trigger_event = {
			id = ek_yearly_events.0013
			days = {2 4}
		}
	} 
}



# Katd Marsh
ek_yearly_events.0012 = {
	type = character_event
	title = ek_yearly_events.0012.t
	desc = ek_yearly_events.0012.desc
	theme = hunting
	
	right_portrait = {
		character = root
		animation = fear
	}  
	
	option = { # attack ghost
		name = ek_yearly_events.0012.a
		send_interface_toast = {
			left_icon = root
			type = event_toast_effect_bad
			desc = tooltip.ek_yearly_events.0012.a
			death = { death_reason = death_vanished } 
		}
	}

	option = { # give gold
		name = ek_yearly_events.0012.b
		send_interface_toast = {
			left_icon = root
			desc = tooltip.ek_yearly_events.0012.b
			remove_short_term_gold = 2
			trigger_event = {
				id = ek_yearly_events.0011
				days = { 2 4}
			}
		}
	}
}

# Katd - Tavern
ek_yearly_events.0013 = {
	type = character_event
	title = ek_yearly_events.0013.t
	desc = ek_yearly_events.0013.desc
	theme = hunting
	
	left_portrait = {
		character = root
	}

	right_portrait = {
		character = scope:katd_owner
	}

	immediate = {
		faith = { save_temporary_scope_as = owner_faith }
		random_living_character = {
			limit = {
				is_available_ai_adult = yes
				NOT = { culture = prev.culture }
				faith = { faith_hostility_level = { target = scope:owner_faith value > faith_hostile_level } }
			}
			save_scope_as = katd_owner_base
		}
		create_character = {
			template = katd_owner_template
			culture = scope:katd_owner_base.culture
			faith = scope:katd_owner_base.faith
			gender_female_chance = 50
			dynasty = none
			location = root.location
			save_scope_as = katd_owner
		}
	}
	
	option = { # drink
		name = ek_yearly_events.0013.a
		stress_impact = {
			drunkard = minor_stress_impact_loss
			diligent = minor_stress_impact_gain
		}
		small_praxis_decrease_effect = yes
		random_list = { 
			25 = { add_prestige = minor_prestige_gain }
			25 = { death = { killer = scope:katd_owner death_reason = death_mysterious } } 
		}
	}

	option = { # sneak away
		name = ek_yearly_events.0013.b
		add_prestige = minor_prestige_loss
		stress_impact = {
			diligent = miniscule_stress_impact_gain
		}
		trigger_event = {
			id = ek_yearly_events.0011
			days = {2 4}
		}
	}
	
	after = {
		scope:katd_owner = {
			silent_disappearance_effect = yes
		}
	}
}

# Naked Nord
ek_yearly_events.0014 = {
	type = character_event
	title = ek_yearly_events.0014.t
	desc = ek_yearly_events.0014.desc
	theme = death
	override_background = { event_background = wilderness }
	
	left_portrait = {
		character = scope:naked_witch
		animation = dismissal }

	right_portrait = {
		character = scope:naked_nord
		animation = shame
	}

	cooldown = { years = yearly_cooldown }

	trigger = {	location = { geographical_region = mundus_tamriel_morrowind } }	
	

	immediate = {
		create_character = {
			template = naked_nord_template
			gender_female_chance = 0
			dynasty = none
			location = root.capital_province
			save_scope_as = naked_nord
		} 
			 
		
		create_character = {
				template = naked_witch_template
				gender_female_chance = 100
				dynasty = none
				location = root.capital_province
				save_scope_as = naked_witch
		}
	}
	
	option = { # side with witch
		name = ek_yearly_events.0014.a
		configure_start_single_combat_effect = {
			SC_INITIATOR = root
			SC_ATTACKER = scope:naked_nord
			SC_DEFENDER = root
			FATALITY = no
			FIXED = no
			LOCALE = terrain_scope
			OUTPUT_EVENT = ek_yearly_events.0015
			INVALIDATION_EVENT = single_combat.1006
		}		
	}

	option = { # side with nord
		name = ek_yearly_events.0014.b
		configure_start_single_combat_effect = {
			SC_INITIATOR = root
			SC_ATTACKER = scope:naked_witch
			SC_DEFENDER = root
			FATALITY = no
			FIXED = no
			LOCALE = terrain_scope
			OUTPUT_EVENT = ek_yearly_events.0016
			INVALIDATION_EVENT = single_combat.1006
		}		
	}

	
	option = { # sneak away
		name = ek_yearly_events.0014.c
		add_prestige = minor_prestige_loss
		trigger = {
		has_trait = craven
	}
		trait = craven
		stress_impact = {
			wrathful = minor_stress_impact_gain
		}
	}

	option = { # shoo peasants
		name = ek_yearly_events.0014.d
		add_prestige = minor_prestige_gain
		trigger = {
			OR = { 
			has_trait = arrogant
			} 
		}
		trait = arrogant
		stress_impact = {
			wrathful = minor_stress_impact_gain
		}
	}

	option = { # steal cloudcleaver
		name = ek_yearly_events.0014.e
		trigger = { intrigue > 10 } 
		skill = intrigue
		duel = {
			skill = intrigue
			value = decent_skill_rating
			10 = { # success
				desc = ek_yearly_events.0014.e.success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				trigger_event = {
					id = ek_yearly_events.0017
					days = {2 4}
				}
			}
			5 = {
				desc = ek_yearly_events.0014.e.failure
				trigger_event = {
					id = ek_yearly_events.0018
					days = {2 4}
				}
			}
		}
	} 
}

ek_yearly_events.0015 = { #duel naked nord
	hidden = yes
	

	immediate = {
		if = {
			limit = {
				root = scope:sc_victor
			}
			trigger_event = { id = ek_yearly_events.0019 days = 1 }
		}
		else = {
			trigger_event = { id = ek_yearly_events.0020 days = 1 }
		}
	}
}

ek_yearly_events.0016 = { #duel naked witch
	hidden = yes

	immediate = {
		if = {
			limit = {
				root = scope:sc_victor
			}
			trigger_event = { id = ek_yearly_events.0021 days = 1 }
		}
		else = {
			trigger_event = { id = ek_yearly_events.0022 days = 1 }
		}
	}
}

ek_yearly_events.0017 = { #stolen artifact
	type = character_event
	title = ek_yearly_events.0017.t
	desc = ek_yearly_events.0017.desc
	theme = death
	override_background = { event_background = wilderness }
	
	left_portrait = {
		character = root }

	option = { # just sell it
		name = ek_yearly_events.0017.a
		add_gold = medium_gold_value

		stress_impact = {
			gregarious = minor_stress_impact_gain
			deceitful = minor_stress_impact_loss
		}
	}

	option = { # return it to naked nord
		name = ek_yearly_events.0017.b
		
		trigger_event = { id = ek_yearly_events.0023 days = 1 }

		stress_impact = {
			shy = minor_stress_impact_gain
			greedy = minor_stress_impact_gain
		}
	} 
}

ek_yearly_events.0018 = { #caught stealing
	type = character_event
	title = ek_yearly_events.0018.t
	desc = ek_yearly_events.0018.desc
	theme = death
	override_background = { event_background = wilderness }
	
	left_portrait = {
		character = root
		animation = fear }

	right_portrait = {
		character = scope:naked_witch
		animation = rage
	}


	option = { # oh no
		name = ek_yearly_events.0018.a
		death = { killer = scope:naked_witch death_reason = death_mysterious }
	}
	
}

ek_yearly_events.0019 = { #defeated nord
	type = character_event
	title = ek_yearly_events.0021.t
	desc = ek_yearly_events.0019.desc
	theme = death
	override_background = { event_background = wilderness }
	
	left_portrait = {
		character = root 
	}


	option = { # just sell it
		name = ek_yearly_events.0017.a
		add_gold = medium_gold_value

		stress_impact = {
			gregarious = minor_stress_impact_gain
			deceitful = minor_stress_impact_loss
		}
	}

	option = { # return it to the witch
		name = ek_yearly_events.0019.b
		
		trigger_event = { id = ek_yearly_events.0024 days = 1 }

		stress_impact = {
			shy = minor_stress_impact_gain
			greedy = minor_stress_impact_gain
		}
	}
	
}

ek_yearly_events.0020 = { #nord wins
	type = character_event
	title = ek_yearly_events.0020.t
	desc = ek_yearly_events.0020.desc
	theme = death
	override_background = { event_background = wilderness }
	
	left_portrait = {
		character = root
		animation = fear 
	}

	right_portrait = {
		character = scope:naked_nord
		animation = rage
	}


	option = { # oh no
		name = ek_yearly_events.0020.a
		
		death = { killer = scope:naked_nord death_reason = death_beaten }
	}
	
}

ek_yearly_events.0021 = { #defeated witch
	type = character_event
	title = ek_yearly_events.0021.t
	desc = ek_yearly_events.0021.desc
	theme = death
	override_background = { event_background = wilderness }
	
	left_portrait = {
		character = root 
	}

	option = { # just sell it
		name = ek_yearly_events.0017.a
		add_gold = medium_gold_value

		stress_impact = {
			gregarious = minor_stress_impact_gain
			deceitful = minor_stress_impact_loss
		}
	}

	option = { # return it to naked nord
		name = ek_yearly_events.0017.b
		
		trigger_event = { id = ek_yearly_events.0023 days = 1 }

		stress_impact = {
			shy = minor_stress_impact_gain
			greedy = minor_stress_impact_gain
		}
	} 
}

ek_yearly_events.0022 = { #witch wins
	type = character_event
	title = ek_yearly_events.0020.t
	desc = ek_yearly_events.0022.desc
	theme = death
	override_background = { event_background = wilderness }
	
	left_portrait = {
		character = root
		animation = fear 
	}

	right_portrait = {
		character = scope:naked_witch
		animation = rage
	}


	option = { # oh no
		name = ek_yearly_events.0018.a
		
		death = { killer = scope:naked_witch death_reason = death_mysterious }
	}
	
}

ek_yearly_events.0023 = { #return to nord
	type = character_event
	title = ek_yearly_events.0023.t
	desc = ek_yearly_events.0023.desc
	theme = death
	override_background = { event_background = wilderness }
	
	left_portrait = {
		character = root
	}

	right_portrait = {
		character = scope:naked_nord
		animation = ecstasy
	}

	immediate = {
		scope:naked_nord = { remove_character_flag = is_naked }
	}

	option = { # pls join court
		name = ek_yearly_events.0023.a
		
		duel = {
			skill = diplomacy
			value = decent_skill_rating
			10 = { # success
				desc = ek_yearly_events.0023.a.success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				send_interface_toast = {
					left_icon = root
					type = event_toast_effect_good
					title = tooltip.ek_yearly_events.0023.a.success
					root = {
						add_courtier = scope:naked_nord    
					}
					add_prestige = minor_prestige_gain	
				}
			}

			10 = { #failure
					desc = ek_yearly_events.0023.a.failure
					send_interface_toast = {
						left_icon = root
						type = event_toast_effect_bad
						title = tooltip.ek_yearly_events.0023.a.failure
						
						add_prestige = minor_prestige_loss	
					}
				}
			}
		}

		option = { # just leave me
		name = ek_yearly_events.0023.b
		add_prestige = medium_prestige_gain

		stress_impact = {
			gregarious = minor_stress_impact_gain
			shy = minor_stress_impact_loss
		}
	} 
}

ek_yearly_events.0024 = { #return to witch
	type = character_event
	title = ek_yearly_events.0024.t
	desc = ek_yearly_events.0024.desc
	theme = death
	override_background = { event_background = wilderness }
	
	left_portrait = {
		character = root
	}

	right_portrait = {
		character = scope:naked_witch
		animation = ecstasy
	}

	option = { # pls join court
		name = ek_yearly_events.0023.a
		
		duel = {
			skill = diplomacy
			value = decent_skill_rating
			10 = { # success
				desc = ek_yearly_events.0024.a.success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				send_interface_toast = {
					left_icon = root
					type = event_toast_effect_good
					title = tooltip.ek_yearly_events.0024.a.success
					root = {
						add_courtier = scope:naked_witch    
					}
					add_prestige = minor_prestige_gain	
				}
			}

		10 = { #failure
				desc = ek_yearly_events.0024.a.failure
				send_interface_toast = {
					left_icon = root
					type = event_toast_effect_bad
					title = tooltip.ek_yearly_events.0024.a.failure
					
					add_prestige = minor_prestige_loss	
				}
			}
		}
	}

	option = { # just leave me
		name = ek_yearly_events.0023.b
		add_prestige = medium_prestige_gain

		stress_impact = {
			gregarious = minor_stress_impact_gain
			shy = minor_stress_impact_loss
		}
	} 
}

# Clever Kail-Perwa and the Great Boast 
ek_yearly_events.00240 = {
	type = character_event
	title = ek_yearly_events.00240.t
	desc = ek_yearly_events.00240.desc
	theme = faith
	
	left_portrait =  root

	right_portrait = {
		character = scope:kpgb_ancestor
	}
	cooldown = { years = yearly_cooldown }

	trigger = {
		faith = { has_doctrine = tenet_ancestor_worship } 
		has_trait = arrogant
		OR = {
			intrigue > 9
			learning > 9 
		} 
		any_ancestor = {
			OR = {
				intrigue > 10
				learning > 10
			}
			NOT = { has_trait = arrogant }
			is_alive = no
			}
		}	

	immediate = {
		random_ancestor = {
		even_if_dead = yes
			limit = {
			OR = {
				intrigue > 10
				learning > 10
			}
			NOT = { has_trait = arrogant }
			is_alive = no
			}
			save_scope_as = kpgb_ancestor
		}
	}

	
	
	option = { # oh yes, im very clever much smort
		name = ek_yearly_events.00240.a
		moderate_praxis_decrease_effect = yes
		trigger_event = {
			id = ek_yearly_events.0025
			days = {2 4}
		} 
	}		
		

	option = { # I hereby renounce said smortiness
		name = ek_yearly_events.00240.b
		stress_impact = { 
			arrogant = medium_stress_impact_gain
			stubborn = medium_stress_impact_gain		
		}
		moderate_praxis_increase_effect = yes
		send_interface_toast = {
			type = event_toast_effect_good
			left_icon = ROOT
			title = tooltip.ek_yearly_events.00240.b
			remove_trait = arrogant
			add_trait = humble	
		}
	}	
}

# First Warning
ek_yearly_events.0025 = {
	type = character_event
	title = ek_yearly_events.00240.t
	desc = ek_yearly_events.0025.desc
	theme = faith
	
	left_portrait = {
		character = root }

		right_portrait = {
		character = scope:kpgb_ancestor
		animation = disapproval
	}

	option = { # so be it
		name = ek_yearly_events.0025.a
		
		stress_impact = { paranoid = medium_stress_impact_gain	}

		trigger_event = {
			id = ek_yearly_events.0026
			days = {2 4} 
		} 
	} 
}

#first challenge
ek_yearly_events.0026 = {
	type = character_event
	title = ek_yearly_events.00240.t
	desc = ek_yearly_events.0026.desc
	theme = faith
	
	left_portrait = {
		character = root
		animation = fear }

	right_portrait = {
		character = scope:second_ancestor
	}

	immediate = {
		random_ancestor = {
		even_if_dead = yes
			limit = {
			OR = {
				intrigue > 10
				learning > 10
			}
			NOT = { has_trait = arrogant }
			is_alive = no
			}
			save_scope_as = second_ancestor
		}
	}

	option = { # solve the puzzle
		name = ek_yearly_events.0026.a
		
		duel = {
			skill = intrigue
			value = decent_skill_rating
			10 = { # success
				desc = ek_yearly_events.0026.a.success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				trigger_event = {
					id = ek_yearly_events.0027
					days = {2 4}
				}
			}

			10 = { #failure
				desc = ek_yearly_events.0026.a.failure
				send_interface_toast = {
					left_icon = root
					type = event_toast_effect_bad
					title = tooltip.ek_yearly_events.0026.a.failure
					death = { killer = scope:second_ancestor death_reason = death_mysterious }	
				}
			}
		}

	}

	option = { # I give up
		name = ek_yearly_events.0026.b
		stress_impact = { 
			arrogant = medium_stress_impact_gain
			stubborn = medium_stress_impact_gain		
		}
		send_interface_toast = {
			type = event_toast_effect_good
			left_icon = ROOT
			title = tooltip.ek_yearly_events.00240.b
			add_prestige = minor_prestige_loss
			small_praxis_increase_effect = yes
			remove_trait = arrogant
			add_trait = humble	
		}
	} 
}

#first victory
ek_yearly_events.0027 = {
	type = character_event
	title = ek_yearly_events.00240.t
	desc = ek_yearly_events.0027.desc
	theme = faith
	
	left_portrait = {
		character = root 
	}

	right_portrait = {
		character = scope:second_ancestor
	}

	option = { # let the sun shine
		name = ek_yearly_events.0027.a
		
		add_prestige = minor_prestige_gain

		trigger_event = {
			id = ek_yearly_events.0028
			days = {2 4} 
		} 
	} 
}

#second challenge
ek_yearly_events.0028 = {
	type = character_event
	title = ek_yearly_events.00240.t
	desc = ek_yearly_events.0028.desc
	theme = faith
	
	left_portrait = {
		character = root }

	right_portrait = {
		character = scope:third_ancestor
	}

	immediate = {
  		random_ancestor = {
			even_if_dead = yes
			limit = {
				OR = {
					intrigue > 10
					learning > 10
				}
				NOT = { has_trait = arrogant }
				is_alive = no
			}
			save_scope_as = third_ancestor
  		}
	}

	option = { # stop the victory
		name = ek_yearly_events.0028.a
		
		duel = {
			skill = learning
			value = decent_skill_rating
			10 = { # success
				desc = ek_yearly_events.0028.a.success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				trigger_event = {
					id = ek_yearly_events.0029
					days = {2 4}
				}
			}

			10 = { #failure
				desc = ek_yearly_events.0028.a.failure
				send_interface_toast = {
					left_icon = root
					type = event_toast_effect_bad
					title = tooltip.ek_yearly_events.0026.a.failure
					death = { killer = scope:third_ancestor death_reason = death_mysterious }	
				}
			}
		}
	}

	option = { # I give up
		name = ek_yearly_events.0026.b
		stress_impact = { 
			arrogant = medium_stress_impact_gain
			stubborn = medium_stress_impact_gain		
		}
		send_interface_toast = {
			type = event_toast_effect_good
			left_icon = ROOT
			title = tooltip.ek_yearly_events.00240.b
			add_prestige = minor_prestige_loss
			small_praxis_increase_effect = yes
			remove_trait = arrogant
			add_trait = humble	
		}
	} 
}

#second victory
ek_yearly_events.0029 = {
	type = character_event
	title = ek_yearly_events.00240.t
	desc = ek_yearly_events.0029.desc
	theme = faith
	
	left_portrait = {
		character = root 
	}

	right_portrait = {
		character = scope:third_ancestor
	}

	option = { # let the sun shine
		name = ek_yearly_events.0027.a
		
		add_prestige = minor_prestige_gain

		trigger_event = {
			id = ek_yearly_events.0030
			days = {2 4} 
		} 
	} 
}

ek_yearly_events.0030 = { #final test
	type = character_event
	title = ek_yearly_events.00240.t
	desc = ek_yearly_events.0030.desc
	theme = faith
	
	left_portrait = {
		character = root 
	}

	right_portrait = {
		character = scope:kpgb_ancestor
	}

	option = { # convince ancestor
		name = ek_yearly_events.0030.a
	
		duel = {
			skill = learning
			value = decent_skill_rating
			10 = { # success
				desc = ek_yearly_events.0030.a.success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				trigger_event = {
					id = ek_yearly_events.0031
					days = {2 4}
				}
			}
			10 = { #failure
				desc = ek_yearly_events.0030.a.failure
				send_interface_toast = {
					left_icon = root
					type = event_toast_effect_bad
					title = tooltip.ek_yearly_events.0026.a.failure
					death = { killer = scope:kpgb_ancestor death_reason = death_mysterious }	
				}
			}
		}
	}

	option = { # I give up
		name = ek_yearly_events.0026.b
		stress_impact = { 
			arrogant = medium_stress_impact_gain
			stubborn = medium_stress_impact_gain		
		}
		send_interface_toast = {
			type = event_toast_effect_good
			left_icon = ROOT
			title = tooltip.ek_yearly_events.00240.b
			add_prestige = minor_prestige_loss
			small_praxis_increase_effect = yes
			remove_trait = arrogant
			add_trait = humble	
		}
	} 
}

#final victory
ek_yearly_events.0031 = {
	type = character_event
	title = ek_yearly_events.00240.t
	desc = ek_yearly_events.0031.desc
	theme = faith
	
	left_portrait = {
		character = root 
	}

	right_portrait = {
		character = scope:kpgb_ancestor
	}

	option = { # ok
		name = ek_yearly_events.0031.a
		
		send_interface_toast = {
			type = event_toast_effect_good
			left_icon = ROOT
			title = tooltip.ek_yearly_events.00240.b
			add_prestige = major_prestige_gain
			remove_trait = arrogant
			add_trait = humble	
		}
	} 
}

# Relative wishes to become an Arena Contestant
ek_yearly_events.0032 = {
	type = character_event
	title = ek_yearly_events.0032.t
	desc = ek_yearly_events.0032.desc
	theme = family
	
	left_portrait = {
		character = root
	}	

	right_portrait = {
		character = scope:family_contestant
		animation = beg
	}

	cooldown = { years = yearly_cooldown }

	trigger = {
		capital_county.title_province = { has_building_or_higher = arena_01 }
		any_close_or_extended_family_member = {
			is_courtier = yes 			
			prowess > 11
			OR = {
				has_trait = brave
				has_trait = fickle
				has_trait = arrogant
				has_trait = stubborn
				has_trait = ambitious
			}
			NOT = { has_trait = craven }
			is_available_ai_adult = yes
		}
	}
	
	immediate = {
  		random_close_or_extended_family_member = {
			limit = { 
				is_courtier = yes 			
				prowess > 11
				OR = {
					has_trait = brave
					has_trait = fickle
					has_trait = arrogant
					has_trait = stubborn
					has_trait = ambitious
				}
				NOT = { has_trait = craven }    
				is_available_ai_adult = yes
			}
    		save_scope_as = family_contestant
  		}
	}
	
	option = { # a'ight
		name = ek_yearly_events.0032.a
		stress_impact = { gregarious = medium_stress_impact_gain }

		scope:family_contestant = { 
			move_to_pool = yes
			add_opinion = {
				modifier = grateful_opinion
				target = root
				opinion = 20
			} 
		}
		hidden_effect = { 
			random_list = {
			   	50 = { 
					send_interface_toast = {
						type = event_toast_effect_good
						left_icon = scope:family_contestant
						title = ek_yearly_events.0032.a.good
						this.dynasty = { add_dynasty_prestige = minor_dynasty_prestige_value }	
						moderate_praxis_increase_effect = yes
					} 
				}
			   	25 = { 
					send_interface_toast = {
						type = event_toast_effect_bad
						left_icon = scope:family_contestant
						title = ek_yearly_events.0032.a.bad
						this.dynasty = { add_dynasty_prestige = minor_dynasty_prestige_loss	} 
						small_praxis_decrease_effect = yes
					}
				}
				25 = { 
					send_interface_toast = {
						type = event_toast_effect_bad
						left_icon = scope:family_contestant
						title = ek_yearly_events.0032.a.worse
						scope:family_contestant = { death = { death_reason = death_fight } }
						small_praxis_decrease_effect = yes
					} 
				}
			}
		}
	} 

	option = { # nope
		name = ek_yearly_events.0032.b
		trigger = { exists = scope:family_contestant }
		scope:family_contestant = { 
			add_opinion = {
				modifier = cruelty_opinion
				target = root
				opinion = -20
			}
		}
		add_dread = minor_dread_gain
		stress_impact = { 
			brave = medium_stress_impact_gain 
			compassionate = medium_stress_impact_gain		
			arbitrary = medium_stress_impact_loss
		}
		hidden_effect = { 
			random_list = {
			   	50 = {}
				17 = {
					modifier = {
						factor = 0
						scope:family_contestant = {
							OR = {
								has_trait = content
								has_trait = lazy
								has_trait = trusting
							}
						}
					} 
					send_interface_toast = {
						type = event_toast_effect_good
						left_icon = scope:family_contestant
						title = ek_yearly_events.0032.b.good
						scope:family_contestant = { move_to_pool = yes }
						this.dynasty = { add_dynasty_prestige = minor_dynasty_prestige_value }	
					} 
				}
			   	17 = {
					modifier = {
						factor = 0
						scope:family_contestant = {
							OR = {
								has_trait = content
								has_trait = lazy
								has_trait = trusting
							}
						}
					} 
					send_interface_toast = {
						type = event_toast_effect_bad
						left_icon = ROOT
						title = ek_yearly_events.0032.b.bad
						scope:family_contestant = { move_to_pool = yes }
						this.dynasty = { add_dynasty_prestige = minor_dynasty_prestige_loss } 
					}
				}
				10 = {
					modifier = {
						factor = 0
						scope:family_contestant = {
							OR = {
								has_trait = content
								has_trait = lazy
								has_trait = trusting
							}
						}
					} 
					send_interface_toast = {
						type = event_toast_effect_bad
						left_icon = scope:family_contestant
						title = ek_yearly_events.0032.b.worse
						scope:family_contestant = {
							move_to_pool = yes 
							increase_wounds_effect = { REASON = fight }
						}
						this.dynasty = { add_dynasty_prestige = medium_dynasty_prestige_loss } 
					} 
				}
				5 = {
					modifier = {
						factor = 0
						scope:family_contestant = {
							OR = {
								has_trait = content
								has_trait = lazy
								has_trait = trusting
							}
						}
					} 
					send_interface_toast = {
						type = event_toast_effect_bad
						left_icon = scope:family_contestant
						title = ek_yearly_events.0032.b.worse2
						scope:family_contestant = {
							move_to_pool = yes 
							increase_wounds_effect = { REASON = fight }
							increase_wounds_effect = { REASON = fight }
						}
					} 
				}
				1 = {
					modifier = {
						factor = 0
						scope:family_contestant = {
							OR = {
								has_trait = content
								has_trait = lazy
								has_trait = trusting
							}
						}
					} 
					send_interface_toast = {
						type = event_toast_effect_bad
						left_icon = scope:family_contestant
						title = ek_yearly_events.0032.b.worst
						scope:family_contestant = { move_to_pool = yes }
						scope:family_contestant = {death = { death_reason = death_fight } }
					} 
				}
			}		
		}
	}
}

# Researcher asks permission to conduct research in local ruins
ek_yearly_events.0033 = {
	type = letter_event
	opening = { desc = ek_yearly_events.0033.t }
	desc = ek_yearly_events.0033.desc
	
	sender = scope:ek_scholar
	cooldown = { years = yearly_cooldown }
	trigger = {
		NOT = { 
			has_trait = lich_character
			has_trait = necromancer
		}
		is_undead = no
		is_independent_ruler = yes
	}
	
	immediate = {
  		random_living_character = {
			limit = { learning > 9 }
			save_scope_as = ek_scholar
		}
	}
	
	option = { # what gold? give gold
		name = ek_yearly_events.0033.a
		add_gold = medium_gold_value
		
		hidden_effect = { 
			random_list = {
			   50 = {
				   trigger_event = {
						id = ek_yearly_events.0034
						days = {2 4}
					} 
				}
			   25 = {
				    trigger_event = {
						id = ek_yearly_events.0035
						days = {2 4}
					} 
				}
				25 = {
					trigger_event = {
						id = ek_yearly_events.0036
						days = {2 4}
					} 
				}	 
			}
		}
	} 

	option = { # ok, but sweeten the deal
		name = ek_yearly_events.0033.b
		trigger = { stewardship > 9 }

		duel = {
			skill = stewardship
			value = decent_skill_rating
			10 = { # success
				desc = ek_yearly_events.0033.b.success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				send_interface_toast = {
					type = event_toast_effect_good
					left_icon = scope:ek_scholar
					title = tooltip.ek_yearly_events.0033.b.success
					add_gold = major_gold_value	
				}
			}

		10 = { #failure
				desc = ek_yearly_events.0033.b.failure
				send_interface_toast = {
					type = event_toast_effect_bad
					left_icon = scope:ek_scholar
					title = tooltip.ek_yearly_events.0033.b.failure
					add_prestige = minor_prestige_loss	
				}
			}
		}
		
		hidden_effect = { 
			random_list = {
			   50 = {
				   trigger_event = {
						id = ek_yearly_events.0034
						days = {2 4}
					} 
				}
			   25 = {
				    trigger_event = {
						id = ek_yearly_events.0035
						days = {2 4}
					} 
				}
				25 = {
					trigger_event = {
						id = ek_yearly_events.0036
						days = {2 4}
					} 
				}	 
			}
		}
	}

	option = { # no!
		name = ek_yearly_events.0033.c
		add_prestige = minor_prestige_gain
		small_praxis_increase_effect = yes
	}
}

# Researcher gets ambushed on the ruins
ek_yearly_events.0034 = {
	type = letter_event
	opening = { desc = ek_yearly_events.0034.t }
	desc = ek_yearly_events.0034.desc
	
	sender = scope:ek_scholar

	immediate = {
		random_held_title = {
			limit = {
				tier = tier_county
			}
			title_create_faction = {
				type = crisis_undead_faction
				target = root
			}
		}
	}

	option = { # oh no
		name = ek_yearly_events.0034.a
		add_prestige = medium_prestige_loss 
		small_praxis_decrease_effect = yes
	}

	option = { # oh no, you're not
		name = ek_yearly_events.0034.b
		trigger = { intrigue > 9 }
		
		duel = {
			skill = intrigue
			value = decent_skill_rating
			10 = { # success
				desc = ek_yearly_events.0034.b.success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				send_interface_toast = {
					type = event_toast_effect_good
					left_icon = scope:ek_scholar
					title = tooltip.ek_yearly_events.0034.b.success
					add_prestige = major_prestige_gain 
				}
			}

		10 = { #failure
				desc = ek_yearly_events.0034.b.failure
				send_interface_toast = {
					type = event_toast_effect_bad
					left_icon = scope:ek_scholar
					title = tooltip.ek_yearly_events.0034.b.failure
					add_prestige = major_prestige_loss	
					small_praxis_decrease_effect = yes
				}
			}
		}
	}
}

# Researcher finds prestige
ek_yearly_events.0035 = {
	type = letter_event
	opening = { desc = ek_yearly_events.0034.t }
	desc = ek_yearly_events.0035.desc
	
	sender = scope:ek_scholar

	option = { # hell ye
		name = ek_yearly_events.0035.a
		add_prestige = major_prestige_gain
		dynasty = {
			add_dynasty_prestige = major_dynasty_prestige_gain 
		}
		moderate_praxis_increase_effect = yes
	}
}

# Researcher finds treasure
ek_yearly_events.0036 = {
	type = letter_event
	opening = { desc = ek_yearly_events.0034.t }
	desc = ek_yearly_events.0036.desc
	
	sender = scope:ek_scholar

	option = { # hell ye
		name = ek_yearly_events.0035.a
		add_gold = major_gold_value
	}
}

# Crow's Wood
ek_yearly_events.0037 = {
	type = character_event
	title = ek_yearly_events.0037.t
	desc = ek_yearly_events.0037.desc
	theme = secret
	
	left_portrait = {
		character = root
		animation = shock
	}

	right_portrait = { 
		character = scope:cw_courtier 
		animation = beg 
	}

	cooldown = { years = yearly_cooldown }

	trigger = {
		has_title = title:b_davon_watch
	}

	immediate = {
		random_courtier = {
			limit = {
				is_available_ai_adult = yes		
			}
			save_scope_as = cw_courtier
		}
	
		random_courtier = {
			limit = {
				is_available_ai_adult = yes
				prowess > 10		
			}
			save_scope_as = cw_champion
		}
	}
		
	weight_multiplier = {
		base = 1
		modifier = {
			add = 0.2
			prowess > 10
		}
		modifier = {
			add = 0.2
			has_trait = brave
		}
		modifier = {
			add = 0.2
			has_trait = wrathful
		}
		modifier = {
			add = -0.2
			has_trait = craven
		}
		modifier = {
			add = 0.2
			has_trait = ambitious
		}
		modifier = {
			add = 0.2
			has_trait = arrogant
		}
		modifier = {
			add = -0.2
			has_trait = calm
		}
		modifier = {
			add = -0.2
			has_trait = lazy
		}
		modifier = {
			add = 0.2
			has_trait = diligent
		}
		modifier = {
			add = -0.2
			has_trait = paranoid
		}
		modifier = {
			add = 0.2
			has_trait = compassionate
		}
	}
	
	option = { # No, I'll do it myself.
		name = ek_yearly_events.0037.a	
		trigger_event = {
			id = ek_yearly_events.0038
			days = {2 4}	
		}
		stress_impact = {
			brave = major_stress_impact_loss
			diligent = major_stress_impact_loss
			greedy = major_stress_impact_loss
			ambitious = major_stress_impact_loss
			content = major_stress_impact_gain
			lazy = major_stress_impact_gain
			craven = major_stress_impact_gain
			generous = major_stress_impact_gain
		}
	}

	option = { # You do it, I don't care.
		name = ek_yearly_events.0037.b

		trigger = { exists = scope:cw_courtier }	
		
		scope:cw_courtier = {
			random_list = {
				30 = { death = { death_reason = death_disappearance } }
				60 = {
					increase_wounds_effect = {
						REASON = fight	
					} 
				}
				10 = { add_gold = 50 }
			}
		}

		stress_impact = {
			brave = major_stress_impact_gain
			diligent = major_stress_impact_gain
			greedy = major_stress_impact_gain
			ambitious = major_stress_impact_gain
			content = major_stress_impact_loss
			lazy = major_stress_impact_loss
			craven = major_stress_impact_loss
			generous = major_stress_impact_loss
		}
	}
	

	option = { # My champion will do it
		name = ek_yearly_events.0037.c

		trigger = { exists = scope:cw_champion }	
		

		scope:cw_champion = {
			random_list = {
				30 = { death = { death_reason = death_disappearance } }
				60 = {
					increase_wounds_effect = {
						REASON = fight	
					} 
				}
				10 = { add_gold = 50 }
			}
		}

		stress_impact = {
			brave = major_stress_impact_gain
			diligent = major_stress_impact_gain
			greedy = major_stress_impact_gain
			ambitious = major_stress_impact_gain
			content = major_stress_impact_loss
			lazy = major_stress_impact_loss
			craven = major_stress_impact_loss
			generous = major_stress_impact_loss
		}
	}
}

# Crow's Wood
ek_yearly_events.0038 = {
	type = character_event
	title = ek_yearly_events.0038.t
	desc = ek_yearly_events.0038.desc
	theme = dungeon
	
	left_portrait = {
		character = root
		animation = fear
	}
		
	option = { # Try to get out
		name = ek_yearly_events.0038.a
		duel = {
			skill = intrigue
			value = decent_skill_rating
			10 = {
				desc = ek_yearly_events.0038.a.success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
			send_interface_toast = {
				left_icon = root
				type = event_toast_effect_good
				title = tooltip.ek_yearly_events.0038.a.success
				add_prestige = minor_prestige_gain
				}
			}
			
			5 = {
				desc = ek_yearly_events.0038.a.failure
				send_interface_toast = {
					left_icon = root
					type = event_toast_effect_bad
					title = tooltip.ek_yearly_events.0038.a.failure
					death = { death_reason = death_vanished } 
				} 
			} 
		}
	}
			

	option = { # Try to study this strange place
		name = ek_yearly_events.0038.b
		trigger = {
			OR = {
				has_trait = greedy
				has_trait = ambitious
				learning > 9
			} 
		}
		duel = {
			skill = learning
			value = decent_skill_rating
			10 = {
				desc = ek_yearly_events.0038.b.success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				send_interface_toast = {
					left_icon = root
					type = event_toast_effect_good
					title = tooltip.ek_yearly_events.0038.b.success
					add_prestige = major_prestige_gain
					add_arcana_skill = { VALUE = 5 }
					add_learning_skill = 2
				}
			}
			
			5 = {
				desc = ek_yearly_events.0038.b.failure
				send_interface_toast = {
					left_icon = root
					type = event_toast_effect_bad
					title = tooltip.ek_yearly_events.0038.a.failure
					death = { death_reason = death_vanished } 
				}
			} 
		}
	}
}

# Possible forged letter
ek_yearly_events.0039 = {
	type = letter_event
	opening = { desc = ek_yearly_events.0039.t }
	desc = ek_yearly_events.0039.desc
	
	sender = root.liege
	cooldown = { years = yearly_cooldown }
	trigger = {
		is_councillor = yes
		exists = root.liege
		NOT = {	culture = { has_cultural_pillar = heritage_goblinken } }
	}

	immediate = {
		root.liege = {
			save_scope_as = forged_liege
		}
	}
	
	
	option = { # oki
		name = ek_yearly_events.0039.a
		remove_short_term_gold = medium_gold_value
		
		hidden_effect = { 
			random_list = {
			   50 = {
				   send_interface_toast = {
						left_icon = root
						type = event_toast_effect_good
						title = tooltip.ek_yearly_events.0039.a.success
						add_prestige = minor_prestige_gain
						small_praxis_increase_effect = yes
						add_opinion = {
							modifier = grateful_opinion
							target = root.liege
							opinion = 30
						}
					} 
				}	 
							   
			   50 = {
				    send_interface_toast = {
						left_icon = root
						type = event_toast_effect_bad
						title = tooltip.ek_yearly_events.0039.a.failure
						add_prestige = minor_prestige_loss
						small_praxis_decrease_effect = yes
						reverse_add_opinion = {
							modifier = disappointed_opinion
							target = root.liege
							opinion = -30
						}
					}  
				}		 
			}
		}
	} 

	option = { # no way
		name = ek_yearly_events.0039.b
		
		hidden_effect = { 
			random_list = {
			   50 = {
				   send_interface_toast = {
						left_icon = root
						type = event_toast_effect_good
						title = tooltip.ek_yearly_events.0039.b.success
						add_prestige = minor_prestige_gain
						small_praxis_increase_effect = yes
						add_opinion = {
							modifier = grateful_opinion
							target = root.liege
							opinion = 30
						}
					} 
				}	 
							   
			   50 = {
				    send_interface_toast = {
						left_icon = root
						type = event_toast_effect_bad
						title = tooltip.ek_yearly_events.0039.b.failure
						add_prestige = minor_prestige_loss
						small_praxis_decrease_effect = yes
						reverse_add_opinion = {
						modifier = disappointed_opinion
						target = root.liege
						opinion = -30
						}
					}  
				}		 
			}
		}
	} 

	option = { # this is clearly fake
		name = ek_yearly_events.0039.c
		trigger = {intrigue > 9}
		add_prestige = minor_prestige_gain
		add_opinion = {
			modifier = grateful_opinion
			target = root.liege
			opinion = 30
		}
	}
}

# Note of Bounty from Oblivion
ek_yearly_events.0040 = {
	type = character_event
	title = ek_yearly_events.0040.t
	desc = ek_yearly_events.0040.desc
	theme = secret
	
	left_portrait = {
		character = root
		animation = worry
	}	

	cooldown = { years = yearly_cooldown }

	trigger = {
		location = { geographical_region = mundus_tamriel_cyrodiil }
		NOT = {	culture = { has_cultural_pillar = heritage_goblinken } }
	}
	
	option = { # That's odd.
		name = ek_yearly_events.0040.a
		trigger = { 
			NOT = {
				has_trait = paranoid
				has_trait = adventurer 
			} 
		}	
	}

	option = { # oh no
		name = ek_yearly_events.0040.b
		trigger = { has_trait = paranoid }	
		stress_impact = { paranoid = major_stress_impact_gain }
	}

	option = { # boken da boken
		name = ek_yearly_events.0040.c
		trigger = { has_trait = adventurer }
		hidden_effect = {	
			send_interface_toast = {
				type = event_toast_effect_good
				left_icon = ROOT
				title = ek_yearly_events.0040.gold.c
				add_gold = 50
				add_prestige = minor_prestige_gain
				stress_impact = { adventurer = minor_stress_impact_loss }	
			}
		} 
	}
}

# Salskap
ek_yearly_events.0041 = {
	type = character_event
	title = ek_yearly_events.0041.t
	desc = ek_yearly_events.0041.desc
	theme = feast_activity
	
	left_portrait = {
		character = root
	}	

	cooldown = { years = yearly_cooldown }

	trigger = {
		has_title = title:c_solitude
	}

	immediate = {
		add_character_flag = {
			flag = planning_an_activity
			days = 30
		}
	}
	
	option = { # wohoo!
		name = ek_yearly_events.0041.a
		capital_province = {
			spawn_activity = {
				type = activity_feast
				owner = root
			}
		}
		trigger = { 
			NOT = {
				has_trait = shy
				has_trait = callous 
			} 
		}	
	}

	option = { # oh no
		name = ek_yearly_events.0041.b
		trigger = {
			has_trait = shy
			has_trait = callous
		}
		remove_character_flag = planning_an_activity		
		stress_impact = { shy = major_stress_impact_gain }
	}
}

# Hidden Hoard
ek_yearly_events.0042 = {
	type = character_event
	title = ek_yearly_events.0042.t
	desc = ek_yearly_events.0042.desc
	theme = prison
	
	left_portrait = {
		character = root
	}

	right_portrait = {
		character = scope:hoarder
		animation = beg
	}	

	cooldown = { years = yearly_cooldown }

	trigger = {
		any_prisoner = {
			is_imprisoned_by = ROOT
			is_adult = yes
		}
	}

	immediate = {
		random_prisoner = {
			limit = {
				is_imprisoned_by = ROOT
				is_adult = yes
			}
			save_scope_as = hoarder
		}
	}

	
	option = { # deal
		name = ek_yearly_events.0042.a	
		scope:hoarder = { release_from_prison = yes }
		hidden_effect = { 
			random_list = {
			   50 = {
				   send_interface_toast = {
						left_icon = root
						type = event_toast_effect_good
						title = tooltip.ek_yearly_events.0042.a.success
						add_prestige = minor_prestige_gain
						add_gold = medium_gold_value
					}
			   }	 
							   
			   50 = {
				    send_interface_toast = {
						left_icon = root
						type = event_toast_effect_bad
						title = tooltip.ek_yearly_events.0042.a.failure
						add_prestige = minor_prestige_loss
					}  
				}		 
			}
		}
	}

	option = { # no deal
		name = ek_yearly_events.0042.b	
		stress_impact = { greedy = major_stress_impact_gain }
	}

	option = { # best of both worlds
		name = ek_yearly_events.0042.c
		trigger = { intrigue > 9 }
		stress_impact = { compassionate = major_stress_impact_gain }	
		send_interface_toast = {
			left_icon = root
			type = event_toast_effect_good
			title = tooltip.ek_yearly_events.0042.a.success
			add_prestige = minor_prestige_gain
			add_gold = medium_gold_value
			add_dread = minor_dread_gain
		}
	}

	option = { # torture fellas
		name = ek_yearly_events.0042.d
		trigger = { has_trait = torturer }
		stress_impact = { compassionate = major_stress_impact_gain }
		random_list = {
			50 = {	
				scope:hoarder = { increase_wounds_effect = { REASON = beaten } }
				send_interface_toast = {
					left_icon = root
					type = event_toast_effect_good
					title = tooltip.ek_yearly_events.0042.a.success
					add_prestige = minor_prestige_gain
					add_gold = medium_gold_value
					add_dread = minor_dread_gain
				}
			}
			25 = {	
				scope:hoarder = { add_trait = maimed }
				send_interface_toast = {
					left_icon = root
					type = event_toast_effect_good
					title = tooltip.ek_yearly_events.0042.a.success
					add_gold = medium_gold_value
					add_dread = medium_dread_gain
				}
			}
			25 = {	
				scope:hoarder = { death = { killer = root death_reason = death_torture } }
				send_interface_toast = {
					left_icon = root
					type = event_toast_effect_good
					title = tooltip.ek_yearly_events.0042.d.death
					add_dread = major_dread_gain
				}
			}
		}
	}
}

# Clandestine Arena
ek_yearly_events.0043 = {
	type = character_event
	title = ek_yearly_events.0043.t
	desc = ek_yearly_events.0043.desc
	theme = intrigue
	
	left_portrait = {
		character = root
	}

	right_portrait = {
		character = cp:councillor_spymaster
	}	

	cooldown = { years = yearly_cooldown }

	trigger = {
		exists = cp:councillor_spymaster
		cp:councillor_spymaster = { intrigue >= 10 }
	}

	immediate = {
		cp:councillor_spymaster = {
			save_scope_as = spymaster
		}
	}

	
	option = { # let them be
		name = ek_yearly_events.0043.a
		moderate_praxis_decrease_effect = yes	
		hidden_effect = { 
			random_list = {
				50 = {
				   send_interface_toast = {
						left_icon = root
						type = event_toast_effect_good
						title = tooltip.ek_yearly_events.0043.a.success
						add_prestige = minor_prestige_gain
						root.capital_county = {
							add_county_modifier = { 
								modifier = clandestine_arena_positive 
								years = 5
							}
							change_county_control = -10
						}
			    	}
				}
				50 = {
				    send_interface_toast = {
						left_icon = root
						type = event_toast_effect_bad
						title = tooltip.ek_yearly_events.0043.a.failure
						add_prestige = minor_prestige_loss
						root.capital_county = {
							add_county_modifier = { 
								modifier = clandestine_arena_negative 
								years = 5
							}
							change_county_control = -10
						}
					}  
				}		 
			}
		}
	}


	option = { # shut them off
		name = ek_yearly_events.0043.b
		small_praxis_increase_effect = yes	
		hidden_effect = { 
			random_list = {
			   50 = {
				   send_interface_toast = {
						left_icon = root
						type = event_toast_effect_good
						title = tooltip.ek_yearly_events.0043.a.success
						add_prestige = minor_prestige_gain
						add_dread = minor_dread_gain
						root.capital_county = {
							add_county_modifier = { 
								modifier = clandestine_arena_dread_positive 
								years = 5
							}
							change_county_control = 10
						}
					}
			    }
			   50 = {
				    send_interface_toast = {
						left_icon = root
						type = event_toast_effect_bad
						title = tooltip.ek_yearly_events.0043.a.failure
						add_prestige = minor_prestige_loss
						add_dread = minor_dread_gain
						root.capital_county = {
							add_county_modifier = { 
								modifier = clandestine_arena_dread_negative 
								years = 5
							}
							change_county_control = 10
						}
					}  
				}		 
			}
		}
	}

	option = { # make it legal
		name = ek_yearly_events.0043.c
		trigger = { stewardship > 9 }
		skill = stewardship
		send_interface_toast = {
		left_icon = root
		type = event_toast_effect_good
		title = tooltip.ek_yearly_events.0043.a.success
		add_prestige = minor_prestige_gain
		add_dread = minor_dread_gain
			root.capital_county = {
				add_county_modifier = { 
					modifier = clandestine_arena_legal 
					years = 5
				}
				change_county_control = 10
			}
		}
	}
}

# Cultural Exchange (VERY WIP)
ek_yearly_events.0044 = {
	type = character_event
	title = ek_yearly_events.0044.t
	desc = ek_yearly_events.0044.desc
	theme = diplomacy_foreign_affairs_focus
	
	left_portrait = {
		character = root
	}

	right_portrait = {
		character = scope:exchange_ambassador
	}	

	cooldown = { years = yearly_cooldown }

	trigger = {
		NOT = {	culture = { has_cultural_pillar = heritage_goblinken } }
		any_ally = {
			is_available_ai_adult = yes
			NOT = {
				has_culture = root.culture
			}
		}
		any_courtier = {
			is_available_ai_adult = yes
			has_culture = root.culture
		}
	}

	immediate = {
			root.culture = {
				save_scope_as = mc_culture
			}
			random_ally = {
				limit = {
					is_available_ai_adult = yes
					NOT = {
						has_culture = scope:mc_culture
					}
				}
				save_scope_as = exchange_ally
			}
			scope:exchange_ally.culture = {
				save_scope_as = ally_culture
			}

			random_courtier = {
				limit = {
					is_available_ai_adult = yes
					has_culture = scope:mc_culture
				}
				save_scope_as = exchange_ambassador
			}
	}
		
	option = { # go ahead
		name = ek_yearly_events.0044.a
		custom_tooltip = ek_yearly_events.0044.a.tooltip
		large_praxis_decrease_effect = yes
	}
}

# Missing Hides

scripted_trigger ek_0045_valid_character = {
	is_available_ai_adult = yes
	has_government = tribal_government
	NOT = { has_culture = root.culture }
	in_diplomatic_range = root
}

scripted_trigger ek_0045_valid_courtier = {
	is_courtier_of = root
	is_available_ai_adult = yes
	NOT = {
		has_government = tribal_government
	}
}

ek_yearly_events.0045 = {
	type = character_event
	title = ek_yearly_events.0045.t
	desc = ek_yearly_events.0045.desc
	theme = diplomacy
	
	left_portrait = {
		character = root
	}

	right_portrait = {
		character = scope:hide_robbed
		animation = beg
	}	

	cooldown = { years = yearly_cooldown }

	trigger = {
		NOT = {	culture = { has_cultural_pillar = heritage_goblinken } }
		any_courtier = {
			ek_0045_valid_courtier = yes
		}
		any_living_character = {
			ek_0045_valid_character = yes
		}
	}

	immediate = {
		root.culture = {
			save_scope_as = mc_culture
		}
		random_living_character = {
			limit = {
				ek_0045_valid_character = yes
			}
			save_scope_as = hide_robber
		}
		random_courtier = {
			limit = {
				ek_0045_valid_courtier = yes
			}
			save_scope_as = hide_robbed
		}
		select_local_animal_effect = yes
		random_held_title = {
			save_scope_as = disputed_title
		}
	}
	
	option = { # sure
		name = ek_yearly_events.0045.a
		custom_tooltip = ek_yearly_events.0045.a.tooltip
		scope:hide_robbed = {
			add_opinion = {
				modifier = grateful_opinion
				target = root
				opinion = 20
			}
		}
		trigger_event = {
			id = ek_yearly_events.0046
			days = {2 4}
		}
	}

	option = { # nah
		name = ek_yearly_events.0045.b
		add_prestige = minor_prestige_gain
		scope:hide_robbed = {
			add_opinion = {
				modifier = disappointed_opinion
				target = root
				opinion = -30
			}
		}
	}
}

# Missing Hides 2
ek_yearly_events.0046 = {
	type = character_event
	title = ek_yearly_events.0045.t
	desc = ek_yearly_events.0046.desc
	theme = diplomacy
	
	left_portrait = {
		character = root
	}

	right_portrait = {
		character = scope:hide_robber
	}	

	immediate = {
		random_held_title = {
			save_scope_as = disputed_title
		}
	}

	option = { # let them keep the hides
			name = ek_yearly_events.0046.a
			custom_tooltip = ek_yearly_events.0046.a.tooltip
			moderate_praxis_decrease_effect = yes
			add_character_modifier = {
			modifier = pleased_tribals
			days = 3650
			}
			scope:hide_robbed = { add_prestige = minor_prestige_loss }
	}

	option = { # nope
			name = ek_yearly_events.0046.b
			moderate_praxis_increase_effect = yes
			custom_tooltip = ek_yearly_events.0046.b.tooltip
			add_prestige = minor_prestige_gain
			add_dread = minor_dread_gain
			scope:hide_robbed = {
				add_opinion = {
					modifier = grateful_opinion
					target = root
					opinion = 20
				}
				add_prestige = minor_prestige_gain
			}
		add_character_modifier = {
			modifier = insulted_tribals
			days = 3650
		}
	}
}

# A Supplicant's Song
ek_yearly_events.0047 = {
	type = character_event
	title = {
		first_valid = {
			triggered_desc = {
				trigger = { current_month = 1 }
				desc = ek_yearly_events.0047.new_life.t 
			} 
			desc = ek_yearly_events.0047.t
		}
	}
	desc = ek_yearly_events.0047.desc
	theme = feast_activity
	
	left_portrait = {
		character = root
	}
	
	cooldown = { years = yearly_cooldown }

	trigger = {
		faith = {
				OR = {
					has_doctrine_parameter = worship_mehrunes_shunned_active
					has_doctrine_parameter = worship_mehrunes_criminal_active
				}
		}
		NOT = {	has_trait = p_ob_mehrunes }
		NOT = {	culture = { has_cultural_pillar = heritage_goblinken } }
	}

	option = { # Bravo!
		name = ek_yearly_events.0047.a
		add_character_modifier = {
			modifier = ek_yearly_events_heard_supplicant
			days = 3650
		}
		small_praxis_increase_effect = yes
		stress_impact = { 
			base = medium_stress_impact_loss
			arrogant = medium_stress_impact_gain
			impatient = medium_stress_impact_gain 
			cynical = medium_stress_impact_gain
		}
		random_list = {
		   10 = { add_trait = holy_warrior }
		   90 = { }
		}		
	}

	option = { # Meh
		name = ek_yearly_events.0047.b
		add_piety = minor_piety_loss
		stress_impact = { 
			zealous = medium_stress_impact_gain 
			compassionate = medium_stress_impact_gain		
		}
		small_praxis_decrease_effect = yes
		random_list = {
		   10 = { give_mehrunes_worshipper_secret_or_trait_effect = yes }
		   90 = { }
		}						
	}

	after = {
		hidden_effect = {
			feast_wrap_up_or_fire_random_event_effect = yes
		}
	}
}

# Red Mountain Drinking Song
ek_yearly_events.0048 = {
	type = character_event
	title = ek_yearly_events.0048.t
	desc = ek_yearly_events.0048.desc
	theme = feast_activity
	
	left_portrait = {
		character = root
	}

	cooldown = { years = yearly_cooldown }

	trigger = {
		location = { geographical_region = custom_nativity_vvardenfell }
		NOT = {	culture = { has_cultural_pillar = heritage_goblinken } }
		faith = { has_doctrine = doctrine_pantheon_tribunal }
	}

	option = { # Bravo!
		name = ek_yearly_events.0048.a
		add_stress = -50
		add_character_modifier = {
		modifier = ek_yearly_events_heard_red_mountain
		days = 3650
		}
		stress_impact = { 
			arrogant = medium_stress_impact_loss
			impatient = medium_stress_impact_gain 
			cynical = medium_stress_impact_loss
		}
		if = {
			limit = {
				NOT = {	has_trait = cynical	}
			}
			random_list = {
				10 = { add_trait = cynical }
				90 = { }
			}
		}
		else = {
			add_dread = medium_dread_gain
		}		
	}

	option = { # Meh
		name = ek_yearly_events.0048.b
		add_piety = minor_piety_gain
		stress_impact = { 
			zealous = medium_stress_impact_loss 
			compassionate = medium_stress_impact_loss		
		}

		random_list = {
			   10 = { add_trait = zealous }
			   90 = { }
		}						
	}

	after = {
		hidden_effect = {
			feast_wrap_up_or_fire_random_event_effect = yes
		}
	}
}

# The Fate of a Friend
ek_yearly_events.0049 = {
	type = character_event
	title = ek_yearly_events.0049.t
	desc = ek_yearly_events.0049.desc
	theme = friendly
	
	left_portrait = {
		character = root
		animation = worried
	}

	lower_center_portrait = {
		character = scope:missing_friend
	}

	cooldown = { years = yearly_cooldown }

	trigger = {
		any_courtier = {
			is_available_ai_adult = yes
			has_relation_friend = root
		}
	}

	immediate = {
		select_local_mount_effect = yes
		random_courtier = {
			limit = {
				is_available_ai_adult = yes
				has_relation_friend = root
			}
			save_scope_as = missing_friend
		}
	}

	option = { # look for friend
		name = ek_yearly_events.0049.a

		stress_impact = { 
			craven = medium_stress_impact_gain
			lazy = medium_stress_impact_gain 
			callous = medium_stress_impact_gain
		}
		hidden_effect = { 
			random_list = {
				25 = {
					trigger_event = {
						id = ek_yearly_events.0050 # friend found
						days = {2 4}
					} 
				}
				25 = {
					trigger_event = {
						id = ek_yearly_events.0051 # friend dead
						days = {2 4}
					} 
				}	 
			}
		}		
	}

	option = { # Meh
		name = ek_yearly_events.0049.b
		stress_impact = { 
			diligent = medium_stress_impact_gain
			compassionate = medium_stress_impact_gain	
			lazy = medium_stress_impact_loss	
		}
		hidden_effect = { 
			random_list = {
				25 = {
					trigger_event = {
						id = ek_yearly_events.0052 # friend found friend dead
						days = {2 4}
					} 
				}
			   	25 = {
				   	send_interface_toast = {
						type = event_toast_effect_good
						left_icon = scope:missing_friend
						title = tooltip.ek_yearly_events.0049.b.fine # friend was ok
					} 
				}	 
			}
		}						
	}
}

# friend found
ek_yearly_events.0050 = {
	type = character_event
	title = ek_yearly_events.0049.t
	desc = ek_yearly_events.0050.desc
	theme = friendly
	override_background = {
		event_background = terrain_scope
	}

	left_portrait = {
		character = root
		animation = happiness
	}

	right_portrait = {
		character = scope:missing_friend
	}

	immediate = {
		scope:missing_friend.location = { save_scope_as = background_terrain_scope }
	}

	option = { # i actually wanna lay with you
		name = ek_yearly_events.0050.a
		trigger = { 
			root = { is_attracted_to_gender_of = scope:missing_friend  }
		}
		stress_impact = { 
			chaste = medium_stress_impact_gain
			shy = medium_stress_impact_gain
		}

		show_as_tooltip = {
			had_sex_with_effect = {
				CHARACTER = scope:missing_friend
				PREGNANCY_CHANCE = seduce_pregnancy_chance
			}
			custom_tooltip = seduce_outcome.0003.a.tt
		}

		random_list = {
			25 = {  }
			25 = { set_relation_lover = { reason = lover_history target = scope:missing_friend } }
		}
	}		


	option = { # of course, you my bff
		name = ek_yearly_events.0050.b
		
		stress_impact = { 
			shy = medium_stress_impact_gain
		}

		random_list = {
			25 = {  }
			25 = { set_relation_best_friend = { reason = best_friend_sworn target = scope:missing_friend }	}
		}
	}

	option = { # shut up
		name = ek_yearly_events.0050.c
		
		stress_impact = { 
			gregarious = medium_stress_impact_gain
		}
	}
}

#friend found dead
ek_yearly_events.0051 = {
	type = character_event
	title = ek_yearly_events.0049.t
	desc = ek_yearly_events.0051.desc
	theme = death
	override_background = {
		event_background = terrain_scope
	}

	left_portrait = {
		character = root
		animation = grief
	}

	right_portrait = {
		character = scope:missing_friend
	}

	immediate = {
		scope:missing_friend.location = { save_scope_as = background_terrain_scope }
		dangerous_animal_effect = { CHARACTER = scope:missing_friend }
		set_signature_weapon_effect = yes
		scope:missing_friend = { death = { death_reason = death_eaten } }
		add_stress = medium_stress_impact_gain
	}

	option = { # by the power of love!
		name = ek_yearly_events.0051.a
		trigger = { root = { is_attracted_to_gender_of = scope:missing_friend } }
		
		custom_tooltip = ek_yearly_events.0051.a.tooltip
		stress_impact = { 
			craven = medium_stress_impact_gain
			lazy = medium_stress_impact_gain
		}

		duel = {
			skill = prowess
			value = mediocre_skill_rating
			10 = {
				desc = ek_yearly_events.0008.a.success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				send_interface_toast = {
					left_icon = scope:missing_friend
					type = event_toast_effect_good
					title = tooltip.ek_yearly_events.0051.a.success
					add_prestige = minor_prestige_gain
				}
			}
			
			5 = {
				desc = ek_yearly_events.0008.a.failure
				send_interface_toast = {
					left_icon = root
					type = event_toast_effect_bad
					title = tooltip.ek_yearly_events.0008.a.failure
					add_prestige = medium_prestige_loss
					random_list = {
						25 = { death = { death_reason = death_battle } }
						25 = { increase_wounds_effect = { REASON = battle } }
					}
				}
			}
		}
	}

	option = { # by the power of friendship!
		name = ek_yearly_events.0051.b
		
		custom_tooltip = ek_yearly_events.0051.b.tooltip
		stress_impact = { 
			craven = medium_stress_impact_gain
			lazy = medium_stress_impact_gain
		}

		duel = {
			skill = prowess
			value = decent_skill_rating
			10 = {
				desc = ek_yearly_events.0008.a.success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				send_interface_toast = {
					left_icon = scope:missing_friend
					type = event_toast_effect_good
					title = tooltip.ek_yearly_events.0051.a.success
					add_prestige = minor_prestige_gain
				}
			}
			
			5 = {
				desc = ek_yearly_events.0008.a.failure
				send_interface_toast = {
					left_icon = root
					type = event_toast_effect_bad
					title = tooltip.ek_yearly_events.0008.a.failure
					add_prestige = medium_prestige_loss
					random_list = {
						25 = { death = { death_reason = death_battle } }
						25 = { increase_wounds_effect = { REASON = battle } }
					}
				}
			}
		}
	}

	option = { # I'm out
		name = ek_yearly_events.0051.c
		custom_tooltip = ek_yearly_events.0051.c.tooltip
		add_prestige = major_prestige_loss
		
		stress_impact = { 
			gregarious = medium_stress_impact_gain
			brave = medium_stress_impact_gain
			vengeful = medium_stress_impact_gain
		}
	}
}

# friend found friend dead
ek_yearly_events.0052 = {
	type = character_event
	title = ek_yearly_events.0049.t
	desc = ek_yearly_events.0052.desc
	theme = death

	left_portrait = {
		character = root
		animation = grief
	}

	right_portrait = {
		character = scope:messenger_friend
		animation = sadness
	}

	immediate = {
		dangerous_animal_effect = { CHARACTER = scope:missing_friend }
		set_signature_weapon_effect = yes
		scope:missing_friend = { death = { death_reason = death_eaten } }
		add_stress = medium_stress_impact_gain
		random_courtier = {
			limit = { is_available_ai_adult = yes }
			save_scope_as = messenger_friend
		}
	}

	option = { # i actually wanna lay with you
		name = ek_yearly_events.0052.a
		trigger = { 
			root = { is_attracted_to_gender_of = scope:messenger_friend  }
		}
		stress_impact = { 
			chaste = medium_stress_impact_gain
			shy = medium_stress_impact_gain
			rakish = medium_stress_impact_loss
		}

		show_as_tooltip = {
			had_sex_with_effect = {
				CHARACTER = scope:messenger_friend
				PREGNANCY_CHANCE = seduce_pregnancy_chance
			}
		}

		random_list = {
			25 = {  }
			25 = {
				if = {
					limit = {
						scope:missing_friend = {
							is_alive = yes
						}
					}
					set_relation_lover = { reason = lover_missing_friend target = scope:missing_friend } 
				}
			}
		}
	}		

	option = { # of course, you my bff
		name = ek_yearly_events.0052.b
		
		stress_impact = { 
			shy = medium_stress_impact_gain
		}

		random_list = {
			25 = {  }
			25 = { set_relation_best_friend = { reason = best_friend_sworn target = scope:messenger_friend } }
		}
	}

	option = { # shut up
		name = ek_yearly_events.0052.c
		
		stress_impact = { 
			gregarious = medium_stress_impact_gain
		}
	}
}

# The Smiler
ek_yearly_events.0053 = {
	type = character_event
	title = ek_yearly_events.0053.t
	desc = ek_yearly_events.0053.desc
	theme = unfriendly
	
	left_portrait = {
		character = root
		animation = stress
	}

	right_portrait = {
		character = scope:smiler
		animation = happiness
	}

	immediate = {
		random_courtier = {
			limit = {
				is_available_ai_adult = yes
				OR = {
					has_trait = content
					has_trait = trusting
				}
			}
			save_scope_as = smiler
			if = {
				limit = {
					nickname_already_given_list_trigger = { NICKNAME = nick_smiler }
				}
				set_epithet_effect = { NICKNAME = nick_smiler }
			}
		}
	}
	
	cooldown = { years = yearly_cooldown }

	trigger = {
		OR = {
			has_trait = cynical
			has_trait = callous
			has_trait = sadistic
			has_trait = wrathful
			stress_level >= 1
		}
		any_courtier = {
			is_available_ai_adult = yes
			OR = {
				has_trait = content
				has_trait = trusting
			}
		}
	}

	option = { # accept poem
		name = ek_yearly_events.0053.a

		stress_impact = { 
			cynical = medium_stress_impact_gain
			wrathful = medium_stress_impact_gain
			callous = medium_stress_impact_gain
		}

		add_character_modifier = {
			modifier = ek_yearly_events_read_smiler
			days = 3650
		}
		hidden_effect = {
			random_list = {
				25 = {  }
				25 = {
					if = {
						limit = {
							nickname_already_given_list_trigger = { NICKNAME = nick_smiler }
						}
						set_epithet_effect = { NICKNAME = nick_smiler }
					}  
				}	 
			}
		}		
	}

	option = { # steal the poem
		name = ek_yearly_events.0053.b
		trigger = { NOT = {	culture = { has_cultural_pillar = heritage_goblinken } } }
		stress_impact = { 
			cynical = medium_stress_impact_loss
			wrathful = medium_stress_impact_loss
			callous = medium_stress_impact_loss
		}
		duel = {
			skill = intrigue
			value = decent_skill_rating
			10 = {
				desc = ek_yearly_events.0053.b.success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				send_interface_toast = {
					left_icon = scope:smiler
					type = event_toast_effect_good
					title = tooltip.ek_yearly_events.0053.b.success
					add_dread = minor_dread_gain
					scope:smiler = {
						if = {
							limit = { has_nickname = nick_smiler }
						}
						remove_nickname = yes
					}
				}
			}
			
			5 = {
				desc = ek_yearly_events.0053.b.failure
				send_interface_toast = {
					left_icon = scope:smiler
					type = event_toast_effect_bad
					title = tooltip.ek_yearly_events.0053.b.failure
					add_prestige = minor_prestige_loss
					add_stress = medium_stress_impact_gain
				}
			} 
		}						
	}
	option = { # no thanks
		name = ek_yearly_events.0053.c
		stress_impact = { 
			gregarious = medium_stress_impact_gain
			wrathful = medium_stress_impact_gain
			callous = medium_stress_impact_gain
			shy = medium_stress_impact_loss
		}
	}
}

# Godspeak
ek_yearly_events.0054 = {
	type = character_event
	title = ek_yearly_events.0054.t
	desc = ek_yearly_events.0054.desc
	theme = feast_activity
	
	left_portrait = {
		character = root
		animation = happiness
	}

	right_portrait = {
		character = cp:councillor_court_chaplain
		animation = personality_zealous
	}	

	cooldown = { years = yearly_cooldown }

	trigger = {
		exists = cp:councillor_court_chaplain
		culture = { has_cultural_pillar = heritage_goblinken }
	}
	
	weight_multiplier = {
		base = 1
		modifier = {
			add = 0.2
			has_trait = compassionate
		}
		modifier = {
			add = -0.2
			has_trait = callous
		}
		modifier = {
			add = 0.2
			has_trait = patient
		}
		modifier = {
			add = -0.2
			has_trait = impatient
		}
		modifier = {
			add = 0.2
			has_trait = humble
		}
		modifier = {
			add = -0.2
			has_trait = arrogant
		}
	}

	option = { # Partake
		name = ek_yearly_events.0054.a
		add_stress = -50
		add_character_modifier = {
			modifier = participate_godspeak
			days = 3650
		}
		stress_impact = { arrogant = medium_stress_impact_gain
						cynical = medium_stress_impact_gain 
						callous = medium_stress_impact_gain		}
		random_list = {
			   10 = { add_trait = drunkard }
			   90 = { }
			}		
	}

	option = { # Meh
		name = ek_yearly_events.0054.b
		trigger = { has_trait = cynical }
		trait = cynical

		stress_impact = { 
			zealous = medium_stress_impact_gain 
			gregarious = medium_stress_impact_gain		
		}		
	}
}

# Missing Hides - Tribal Version
ek_yearly_events.0055 = {
	type = character_event
	title = ek_yearly_events.0055.t
	desc = ek_yearly_events.0055.desc
	theme = diplomacy
	
	left_portrait = {
		character = root
	}

	right_portrait = {
		character = scope:hide_robbed_tribal
		animation = beg
	}

	cooldown = { years = yearly_cooldown }	

	trigger = {
		has_government = tribal_government
	}

	immediate = {
			root.culture = {
				save_scope_as = mc_culture
			}
			random_ruler = {
				limit = {
				is_available_ai_adult = yes
				NOT = {
					has_culture = scope:mc_culture
					has_government = tribal_government
				}
				in_diplomatic_range = root
				}
				save_scope_as = hide_robber_tribal
			}
			random_courtier = {
				limit = {
					is_available_ai_adult = yes
					has_government = tribal_government
				}
				save_scope_as = hide_robbed_tribal
			}
			select_local_animal_effect = yes
			scope:hide_robber_tribal = {
				random_held_title = {
					save_scope_as = disputed_title
				}
			}
		}

		option = { # sure
			name = ek_yearly_events.0055.a
			custom_tooltip = ek_yearly_events.0055.a.tooltip
			scope:hide_robbed_tribal = {
				add_opinion = {
					modifier = grateful_opinion
					target = root
					opinion = 20
				}
			}
			trigger_event = {
				id = ek_yearly_events.0056
				days = {2 4}
			}
		}

		option = { # nah
			name = ek_yearly_events.0055.b
			add_prestige = minor_prestige_gain
			scope:hide_robbed_tribal = {
				add_opinion = {
						modifier = disappointed_opinion
						target = root
						opinion = -30
				}
			}
		}
}

# Missing Hides 2 - Tribal Version
ek_yearly_events.0056 = {
	type = character_event
	title = ek_yearly_events.0055.t
	desc = ek_yearly_events.0056.desc
	theme = diplomacy
	
	left_portrait = {
		character = root
	}

	right_portrait = {
		character = scope:hide_robber_tribal
	}

	immediate = {
		scope:hide_robber_tribal = {
			random_held_title = {
				save_scope_as = disputed_title
			}
		}
	}	

	option = { # let them keep the hides
			name = ek_yearly_events.0056.a
			custom_tooltip = ek_yearly_events.0056.a.tooltip
			add_character_modifier = {
				modifier = insulted_tribe
				days = 3650
			}
			
			add_prestige = minor_prestige_loss
	}

	option = { # nope
			name = ek_yearly_events.0056.b
			custom_tooltip = ek_yearly_events.0056.b.tooltip
			add_prestige = minor_prestige_gain
			scope:hide_robbed_tribal = {
				add_opinion = {
					modifier = grateful_opinion
					target = root
					opinion = 20
				}
			}
		add_character_modifier = {
			modifier = pleased_tribe
			days = 3650
		}
		add_unpressed_claim = scope:disputed_title
	}
}

# Kyne's Sacred Trials
ek_yearly_events.0057 = {
	type = character_event
	title = ek_yearly_events.0057.t
	desc = ek_yearly_events.0057.desc
	theme = pilgrimage_activity
	override_icon = {
		reference = "gfx/interface/icons/event_types/type_faith.dds"
	}
	override_background = {
		event_background = temple
	}
	
	left_portrait = {
		character = root
	}

	immediate = {
		# Stop characters from planning multiple activities at once.
		add_character_flag = {
			flag = planning_an_activity
			days = 30
		}
	}

	cooldown = { years = yearly_cooldown }

	trigger = {
		has_trait = p_at_hawk
		has_religion = religion:nedic_nordic_religion
	}	

	option = { # praise kyne
			name = ek_yearly_events.0057.a
			custom_tooltip = ek_yearly_events.0057.a.tooltip
			trait = p_dv_kynareth
			add_piety = minor_piety_gain

			stress_impact = { cynical = medium_stress_impact_gain	}

			trigger_event = {
				id = ek_yearly_events.0058
				days = {2 4}
			}
	}

	option = { # nope
		name = ek_yearly_events.0057.b
		add_piety = minor_piety_loss
		stress_impact = { zealous = medium_stress_impact_gain }
		remove_decision_cooldown = go_on_pilgrimage_decision
		remove_character_flag = planning_an_activity
	}
}

#Mudcrab
ek_yearly_events.0058 = {
	type = character_event
	title = ek_yearly_events.0058.t
	desc = ek_yearly_events.0058.desc
	theme = faith

	override_icon = {
		reference = "gfx/interface/icons/event_types/type_faith.dds"
	}
	override_background = {
		event_background = wilderness_steppe
	}
	
	left_portrait = {
		character = root
	}

	option = { # die crab
			name = ek_yearly_events.0058.a
			add_piety = minor_piety_gain

			stress_impact = { craven = medium_stress_impact_gain	}

			duel = {
			skill = prowess
			value = mediocre_skill_rating
			10 = {
				desc = ek_yearly_events.0058.a.success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				send_interface_toast = {
					left_icon = root
					type = event_toast_effect_good
					title = tooltip.ek_yearly_events.0058.a.success
					add_character_modifier = {
						modifier = kynes_resilience
					}
					trigger_event = {
					id = ek_yearly_events.0059
					days = {2 4}
						}
					}
				}
			
			5 = {
				desc = ek_yearly_events.0058.a.failure
				send_interface_toast = {
					left_icon = root
					type = event_toast_effect_bad
					title = tooltip.ek_yearly_events.0058.a.failure
					add_prestige = medium_prestige_loss
					random_list = {
						25 = { 
							increase_wounds_effect = { REASON = fight }
						}
						25 = { 
							increase_wounds_effect = { REASON = fight }
							increase_wounds_effect = { REASON = fight }
						} 
					} 
				}
			}
		}
	}

	option = { # nope
			name = ek_yearly_events.0057.b
			stress_impact = { brave = medium_stress_impact_gain }
			add_piety = minor_piety_loss
			scope:activity = {
			complete_activity = yes
		}
	}
}

#Skeever
ek_yearly_events.0059 = {
	type = character_event
	title = ek_yearly_events.0059.t
	desc = ek_yearly_events.0059.desc
	theme = faith

	override_background = {
		event_background = wilderness
	}

	override_icon = {
		reference = "gfx/interface/icons/event_types/type_faith.dds"
	}
	
	left_portrait = {
		character = root
	}

	option = { # die skeever
			name = ek_yearly_events.0059.a
			add_piety = minor_piety_gain

			stress_impact = { craven = medium_stress_impact_gain }

			duel = {
			skill = prowess
			value = mediocre_skill_rating
			10 = {
				desc = ek_yearly_events.0058.a.success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				send_interface_toast = {
					left_icon = root
					type = event_toast_effect_good
					title = tooltip.ek_yearly_events.0059.a.success
					add_character_modifier = {
						modifier = kynes_resilience
					}
					trigger_event = {
					id = ek_yearly_events.0060
					days = {2 4}
						}
					}
				}
			
			5 = {
				desc = ek_yearly_events.0058.a.failure
				send_interface_toast = {
					left_icon = root
					type = event_toast_effect_bad
					title = tooltip.ek_yearly_events.0058.a.failure
					add_prestige = medium_prestige_loss
					random_list = {
						25 = { 
							increase_wounds_effect = { REASON = fight }
						}
						25 = { 
							increase_wounds_effect = { REASON = fight }
							increase_wounds_effect = { REASON = fight }
						} 
					} 
				}
			}
		}
	}

	option = { # nope
			name = ek_yearly_events.0059.b
			stress_impact = { 
				brave = medium_stress_impact_gain
				ambitious = medium_stress_impact_gain
			}
			add_piety = minor_piety_loss
			scope:activity = {
			complete_activity = yes
		}
	}
}

#Wolf
ek_yearly_events.0060 = {
	type = character_event
	title = ek_yearly_events.0060.t
	desc = ek_yearly_events.0060.desc
	theme = faith
	override_background = {
		event_background = wilderness_mountains
	}
	override_icon = {
		reference = "gfx/interface/icons/event_types/type_faith.dds"
	}
	
	left_portrait = {
		character = root
	}

	option = { # die wolf
			name = ek_yearly_events.0060.a
			add_piety = minor_piety_gain

			stress_impact = { craven = medium_stress_impact_gain }

			duel = {
			skill = prowess
			value = mediocre_skill_rating
			10 = {
				desc = ek_yearly_events.0058.a.success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				send_interface_toast = {
					left_icon = root
					type = event_toast_effect_good
					title = tooltip.ek_yearly_events.0060.a.success
					add_character_modifier = {
						modifier = kynes_wind
					}
					trigger_event = {
					id = ek_yearly_events.0061
					days = {2 4}
						}
					}
				}
			
			5 = {
				desc = ek_yearly_events.0058.a.failure
				send_interface_toast = {
					left_icon = root
					type = event_toast_effect_bad
					title = tooltip.ek_yearly_events.0058.a.failure
					add_prestige = medium_prestige_loss
					random_list = {
						25 = { 
							increase_wounds_effect = { REASON = fight }
						}
						25 = { 
							increase_wounds_effect = { REASON = fight }
							increase_wounds_effect = { REASON = fight }
						} 
					} 
				}
			}
		}
	}

	option = { # nope
			name = ek_yearly_events.0059.b
			stress_impact = { 
				brave = medium_stress_impact_gain
				ambitious = medium_stress_impact_gain
			}
			add_piety = minor_piety_loss
			scope:activity = {
			complete_activity = yes
		}
	}
}

#Bear
ek_yearly_events.0061 = {
	type = character_event
	title = ek_yearly_events.0061.t
	desc = ek_yearly_events.0061.desc
	theme = faith
	override_background = {
		event_background = wilderness_mountains
	}

	override_icon = {
		reference = "gfx/interface/icons/event_types/type_faith.dds"
	}
	
	left_portrait = {
		character = root
	}

	option = { # die bear
			name = ek_yearly_events.0061.a
			add_piety = minor_piety_gain

			stress_impact = { craven = medium_stress_impact_gain }

			duel = {
			skill = prowess
			value = decent_skill_rating
			10 = {
				desc = ek_yearly_events.0058.a.success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				send_interface_toast = {
					left_icon = root
					type = event_toast_effect_good
					title = tooltip.ek_yearly_events.0061.a.success
					add_character_modifier = {
						modifier = kynes_deliverance
					}
					trigger_event = {
					id = ek_yearly_events.0062
					days = {2 4}
						}
					}
				}
			
			5 = {
				desc = ek_yearly_events.0058.a.failure
				send_interface_toast = {
					left_icon = root
					type = event_toast_effect_bad
					title = tooltip.ek_yearly_events.0058.a.failure
					add_prestige = medium_prestige_loss
					random_list = {
						25 = { 
							increase_wounds_effect = { REASON = fight }
						}
						25 = { 
							increase_wounds_effect = { REASON = fight }
							increase_wounds_effect = { REASON = fight }
						} 
					} 
				}
			}
		}
	}

	option = { # nope
			name = ek_yearly_events.0059.b
			stress_impact = { 
				brave = medium_stress_impact_gain
				ambitious = medium_stress_impact_gain
			}
			add_piety = minor_piety_loss
			scope:activity = {
			complete_activity = yes
		}
	}
}

#Mammoth
ek_yearly_events.0062 = {
	type = character_event
	title = ek_yearly_events.0062.t
	desc = ek_yearly_events.0062.desc
	theme = faith
	override_background = {
		event_background = farmland
	}
	override_icon = {
		reference = "gfx/interface/icons/event_types/type_faith.dds"
	}
	
	left_portrait = {
		character = root
	}

	option = { # die mammoth
			name = ek_yearly_events.0062.a
			add_piety = minor_piety_gain

			stress_impact = { craven = medium_stress_impact_gain }

			duel = {
			skill = prowess
			value = decent_skill_rating
			10 = {
				desc = ek_yearly_events.0058.a.success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				send_interface_toast = {
					left_icon = root
					type = event_toast_effect_good
					title = tooltip.ek_yearly_events.0062.a.success
					add_character_modifier = {
						modifier = kynes_deliverance
					}
					trigger_event = {
					id = ek_yearly_events.0063
					days = {2 4}
						}
					}
				}
			
			5 = {
				desc = ek_yearly_events.0058.a.failure
				send_interface_toast = {
					left_icon = root
					type = event_toast_effect_bad
					title = tooltip.ek_yearly_events.0058.a.failure
					add_prestige = medium_prestige_loss
					random_list = {
						25 = { 
							increase_wounds_effect = { REASON = fight }
						}
						25 = { 
							increase_wounds_effect = { REASON = fight }
							increase_wounds_effect = { REASON = fight }
						} 
					} 
				}
			}
		}
	}

	option = { # nope
			name = ek_yearly_events.0059.b
			stress_impact = { 
				brave = medium_stress_impact_gain
				ambitious = medium_stress_impact_gain
			}
			add_piety = minor_piety_loss
			scope:activity = {
			complete_activity = yes
		}
	}
}

#Sabre Cat
ek_yearly_events.0063 = {
	type = character_event
	title = ek_yearly_events.0063.t
	desc = ek_yearly_events.0063.desc
	theme = faith
	override_background = {
		event_background = wilderness
	}
		override_icon = {
		reference = "gfx/interface/icons/event_types/type_faith.dds"
	}
	
	left_portrait = {
		character = root
	}

	option = { # die cat
			name = ek_yearly_events.0063.a
			add_piety = minor_piety_gain

			stress_impact = { craven = medium_stress_impact_gain }

			duel = {
			skill = prowess
			value = decent_skill_rating
			10 = {
				desc = ek_yearly_events.0058.a.success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				send_interface_toast = {
					left_icon = root
					type = event_toast_effect_good
					title = tooltip.ek_yearly_events.0063.a.success
					add_character_modifier = {
						modifier = kynes_deliverance
					}
					trigger_event = {
					id = ek_yearly_events.0064
					days = {2 4}
						}
					}
				}
			
			5 = {
				desc = ek_yearly_events.0058.a.failure
				send_interface_toast = {
					left_icon = root
					type = event_toast_effect_bad
					title = tooltip.ek_yearly_events.0058.a.failure
					add_prestige = medium_prestige_loss
					random_list = {
						25 = { 
							increase_wounds_effect = { REASON = fight }
						}
						25 = { 
							increase_wounds_effect = { REASON = fight }
							increase_wounds_effect = { REASON = fight }
						} 
					} 
				}
			}
		}
	}

	option = { # nope
		name = ek_yearly_events.0059.b
		stress_impact = { 
			brave = medium_stress_impact_gain
			ambitious = medium_stress_impact_gain
		}
		add_piety = minor_piety_loss
		scope:activity = {
		complete_activity = yes
		}
	}
}

#Troll
ek_yearly_events.0064 = {
	type = character_event
	title = ek_yearly_events.0064.t
	desc = ek_yearly_events.0064.desc
	theme = faith
	override_background = {
		event_background = wilderness
	}
	override_icon = {
		reference = "gfx/interface/icons/event_types/type_faith.dds"
	}
	
	left_portrait = {
		character = root
	}

	option = { # die troll
		name = ek_yearly_events.0064.a
		add_piety = minor_piety_gain

		stress_impact = { craven = medium_stress_impact_gain }

		duel = {
			skill = prowess
			value = decent_skill_rating
			10 = {
				desc = ek_yearly_events.0058.a.success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				send_interface_toast = {
					left_icon = root
					type = event_toast_effect_good
					title = tooltip.ek_yearly_events.0064.a.success
					remove_character_modifier =	kynes_resilience
					remove_character_modifier = kynes_tears
					remove_character_modifier = kynes_wind
					remove_character_modifier = kynes_deliverance
					remove_character_modifier = kynes_guidance
					remove_character_modifier = kynes_kiss
					trigger_event = {
					id = ek_yearly_events.0065
					days = {2 4}
					}
				}
			}
			
			5 = {
				desc = ek_yearly_events.0058.a.failure
				send_interface_toast = {
					left_icon = root
					type = event_toast_effect_bad
					title = tooltip.ek_yearly_events.0058.a.failure
					add_prestige = medium_prestige_loss
					random_list = {
						25 = { 
							increase_wounds_effect = { REASON = fight }
						}
						25 = { 
							increase_wounds_effect = { REASON = fight }
							increase_wounds_effect = { REASON = fight }
						}
						25 = { 
							death = { death_reason = death_fight }
						} 
					} 
				}
			}
		}
	}

	option = { # nope
			name = ek_yearly_events.0059.b
			stress_impact = { 
				brave = medium_stress_impact_gain
				ambitious = medium_stress_impact_gain
			}
			add_piety = minor_piety_loss
			scope:activity = {
			complete_activity = yes
		}
	}
}

# End Kyne's Trials
ek_yearly_events.0065 = {
	type = character_event
	title = ek_yearly_events.0057.t
	desc = ek_yearly_events.0065.desc
	theme = faith
	override_background = {
		event_background = terrain_activity
	}
	override_icon = {
		reference = "gfx/interface/icons/event_types/type_faith.dds"
	}
	
	left_portrait = {
		character = root
	}

	option = { # finally
			name = ek_yearly_events.0065.a
			add_character_modifier = {
						modifier = kynes_watch
			}
			scope:activity = {
			complete_activity = yes
		}
	}
}

# To Dream Beyond Dreams
ek_yearly_events.0066 = {
	type = character_event
	title = ek_yearly_events.0066.t
	desc = ek_yearly_events.0066.desc
	theme = mental_health
	
	left_portrait = {
		character = root
		animation = stress
	}

	cooldown = { years = yearly_cooldown }

	weight_multiplier = {
		base = 1
		modifier = {
			add = -0.2
			has_trait = gluttonous
		}
		modifier = {
			add = -0.2
			has_trait = craven
		}
		modifier = {
			add = -0.2
			has_trait = shy
		}
		modifier = {
			add = -0.2
			has_trait = just
		}
		modifier = {
			add = -0.2
			has_trait = stubborn
		}
		modifier = {
			add = 0.2
			has_trait = depressed_1
		}
		modifier = {
			add = 0.2
			has_trait = depressed_genetic
		}
		modifier = {
			add = 0.2
			has_trait = lunatic_1
		}
		modifier = {
			add = 0.2
			has_trait = lunatic_genetic
		}
		modifier = {
			add = 0.2
			has_trait = mystic_1
		}
		modifier = {
			add = 0.4
			has_trait = mystic_2
		}
		modifier = {
			add = 0.6
			has_trait = mystic_3
		}
		modifier = {
			add = 0.2
			has_trait = witch
		}
		modifier = {
			add = 0.2
			has_trait = reclusive
		}
		modifier = {
			add = 0.2
			has_trait = poet
		}
		modifier = {
			add = 0.2
			has_trait = skooma_drinker
		}
		modifier = {
			add = 0.2
			has_trait = depressed_genetic
		}
		modifier = {
			add = 0.2
			has_trait = temperate
		}
		modifier = {
			add = 0.2
			has_trait = brave
		}
		modifier = {
			add = 0.2
			has_trait = gregarious
		}
		modifier = {
			add = 0.2
			has_trait = arbitrary
		}
		modifier = {
			add = 0.2
			has_trait = fickle
		}
		modifier = {
			add = 0.2
			has_trait = lifestyle_physician
		}
		modifier = {
			add = 1
			has_character_modifier = vaerminas_attention
		}
		
	}

	trigger = {
		can_secretly_worship_vaermina = yes
		is_daedric_champion = no
		any_artifact = {
			count < 1
			has_artifact_modifier = skull_corruption_modifier
		}
	}

	option = { # Ver-Menevia
		name = ek_yearly_events.0066.a
		add_piety = medium_piety_loss
		give_vaermina_worshipper_secret_or_trait_effect = yes		
	}

	option = { # Vaermina
		name = ek_yearly_events.0066.b
		add_piety_level = -1
		stress_impact = { zealous = major_stress_impact_gain }
		if = {
			limit = {
				any_artifact = {
					count < 1
					has_artifact_modifier = skull_corruption_modifier
				}
			}
			create_artifact_skull_corruption_effect = { OWNER = ROOT }
			add_trait = champion_vaermina
			add_character_flag = vaermina_conversion
			save_scope_as = vaerminas_champion
			every_player = {
				limit = {
					is_of_major_or_minor_interest_trigger = { CHARACTER = scope:vaerminas_champion }
				}
				trigger_event = ek_daedric_artifacts.0047 # Someone has become Vaermina's Champion
			}
		}		
	}

	option = { # Resist
		name = ek_yearly_events.0066.c
		add_character_modifier = vaerminas_wrath
		add_piety = minor_piety_gain
	}
}

# Orcish daughter runs away
ek_yearly_events.0067 = {
	type = character_event
	title = ek_yearly_events.0067.t
	desc = ek_yearly_events.0067.desc
	theme = family
	
	left_portrait = {
		character = root
	}

	lower_right_portrait = {
		character = scope:escapee_daughter
	}	

	cooldown = { years = yearly_cooldown }

	trigger = {
		culture = { has_cultural_pillar = heritage_orsimeri }
		faith = {
			has_doctrine = doctrine_gender_male_dominated
			has_doctrine = doctrine_marriage_suitable_party_one_landed
		}
		any_child = {
			is_female = yes 			
			is_married = no
			age > 11
  		}		
	}
	
	immediate = {
  		random_child = {
			limit = {
				is_female = yes 			
				is_married = no
				age > 11	    
			}
    	save_scope_as = escapee_daughter
  		}
		scope:escapee_daughter = { 
			move_to_pool = yes
		}
	}
	
	option = { # a'ight
		name = ek_yearly_events.0067.a
		stress_impact = { gregarious = medium_stress_impact_gain }

		scope:escapee_daughter = { 
			add_opinion = {
				modifier = grateful_opinion
				target = root
				opinion = 20
			} 
		}

		trigger_event = {
			id = ek_yearly_events.0068
			days = { 300 3652 }
		}
	}

	option = { # nope
		name = ek_yearly_events.0067.b
		custom_tooltip = ek_yearly_events.0067.b.tooltip
		scope:escapee_daughter = { 
			add_opinion = {
				modifier = cruelty_opinion
				target = root
				opinion = -20
			} 
		}
		add_dread = minor_dread_gain
		stress_impact = {
			humble = medium_stress_impact_gain 
			compassionate = medium_stress_impact_gain		
		}
		hidden_effect = {
			random_list = {
				50 = {
					send_interface_toast = {
							type = event_toast_effect_bad
							left_icon = scope:escapee_daughter
							title = ek_yearly_events.0067.b.worse
							scope:escapee_daughter = { death = { death_reason = death_fight } }
					} 
				}
				50 = {
					send_interface_toast = {
							type = event_toast_effect_bad
							left_icon = scope:escapee_daughter
							title = ek_yearly_events.0067.b.good
							imprison = {
								target = scope:escapee_daughter
								type = house_arrest
							}
					}
				}
				25 = {
					send_interface_toast = {
							type = event_toast_effect_bad
							left_icon = scope:escapee_daughter
							title = ek_yearly_events.0067.b.bad
							trigger_event = {
								id = ek_yearly_events.0068
								days = { 300 3652 }
							}
					}
				}
			}
		}
	} 
}

ek_yearly_events.0068 = {
	type = character_event
	title = ek_yearly_events.0068.t
	desc = {
		desc = ek_yearly_events.0068.desc.beginning
		first_valid = {
			triggered_desc = {
				trigger = {	scope:escapee_outcome = flag:never_return }
				desc = ek_yearly_events.0068.desc.never_return
			}
			triggered_desc = {
				trigger = {	scope:escapee_outcome = flag:return_dead }
				desc = ek_yearly_events.0068.desc.return_dead
			}
			triggered_desc = {
				trigger = {	scope:escapee_outcome = flag:return_disgrace }
				desc = ek_yearly_events.0068.desc.return_disgrace
			}
		}
	}
	theme = family
	
	left_portrait = root

	right_portrait = {
		trigger = {
			OR = {
				scope:escapee_outcome = flag:return_dead
				scope:escapee_outcome = flag:return_disgrace
			}
		}
		character = scope:escapee_daughter
	}

	immediate = {
		random_list = {
			80 = {
				save_scope_value_as = {
					name = escapee_outcome
					value = flag:never_return
				}
			}
			20 = {
				scope:escapee_daughter = { death = { death_reason = death_mysterious } }
				save_scope_value_as = {
					name = escapee_outcome
					value = flag:return_dead
				}
			}
			20 = {
				scope:escapee_daughter = { increase_wounds_effect = { REASON = beaten } }
				save_scope_value_as = {
					name = escapee_outcome
					value = flag:return_disgrace
				}
			}
		}
	}

	option = {
		name = ek_yearly_events.0068.a
		trigger = {	scope:escapee_outcome = flag:never_return }
		add_stress = medium_stress_loss
	}

	option = {
		name = ek_yearly_events.0068.b
		trigger = {	scope:escapee_outcome = flag:return_dead }
		add_stress = medium_stress_loss
	}

	option = {
		name = ek_yearly_events.0068.c
		trigger = {	scope:escapee_outcome = flag:return_disgrace }
		scope:escapee_daughter = { 
			return_to_court = yes
			add_opinion = {
					modifier = grateful_opinion
					target = root
					opinion = 20
			} 
		}
	}

	option = {
		name = ek_yearly_events.0068.d
		add_dread = minor_dread_gain
		trigger = {	scope:escapee_outcome = flag:return_disgrace }
		scope:escapee_daughter = { 
			add_opinion = {
				modifier = cruelty_opinion
				target = root
				opinion = -20
			} 
		}
	}
}

# Vosh Ball
ek_yearly_events.0069 = {
	type = character_event
	title = ek_yearly_events.0069.t
	desc = ek_yearly_events.0069.desc
	theme = friendly
	override_background = {
		event_background = courtyard
	}
	left_portrait = scope:referee

	cooldown = { years = 5 }

	trigger = {
		number_of_knights > 1
		culture = { has_cultural_pillar = heritage_orsimeri }
	}


	immediate = {
		every_knight = {
			add_to_list = list_of_all_knights
		}
		random_knight = {
			save_scope_as = referee
		}
		random_child = {
			weight = {
				base = 1
				modifier = {
					add = 5
					this = root.player_heir
				}
			}
			save_scope_as = child
		}
	}

	option = {
		name = ek_yearly_events.0069.a
		every_in_list = {
			list = list_of_all_knights
			add_opinion = {
				target = root
				modifier = spouse_held_local_tourney_opinion
				years = 8
			}
		}
	}

	option = {
		name = ek_yearly_events.0069.b
		trigger = {
			exists = scope:child
			prowess > scope:child.prowess
		}
		scope:child = {
			random_list = {
				10 = { add_prowess_skill = 1 }
				9 = { add_prowess_skill = 2 }
				8 = { add_prowess_skill = 3 }
				7 = { add_prowess_skill = 4 }
				6 = { add_prowess_skill = 5 }
				5 = { add_prowess_skill = 6 }
			}
		}
	}
	
	option = {
		name = ek_yearly_events.0069.c
		duel = {
			skill = prowess
			value = decent_skill_rating
			10 = {
				desc = ek_yearly_events.0069.c.success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				send_interface_toast = {
					left_icon = root
					type = event_toast_effect_good
					title = tooltip.ek_yearly_events.0069.c.success
					add_prestige = medium_prestige_gain
					every_in_list = {
						list = list_of_all_knights
						add_opinion = {
							target = root
							modifier = spouse_held_local_tourney_opinion
							years = 8
						}
					}
				}
			}
			
			5 = {
				desc = ek_yearly_events.0069.c.failure
				send_interface_toast = {
					left_icon = root
					type = event_toast_effect_bad
					title = tooltip.ek_yearly_events.0069.c.failure
					add_prestige = medium_prestige_loss
					every_in_list = {
						list = list_of_all_knights
						add_opinion = {
							target = root
							modifier = cruelty_opinion
							opinion = -20
						}
					}
				}
			}
		}
	}
}

# The Triumph of the Sep Adder
ek_yearly_events.0070 = {
	type = character_event
	title = ek_yearly_events.0070.t
	desc = ek_yearly_events.0070.desc
	theme = education
	override_background = {
		event_background = market
	}

	left_portrait = {
		character = root
	}	

	cooldown = { years = yearly_cooldown }

	trigger = {
		location = { geographical_region = mundus_tamriel_hammerfell_hew_bane }
	}
	
	option = { # nice
		trigger = { intrigue < 10 }	
		name = ek_yearly_events.0070.a
		add_stress = minor_stress_loss	
	}

	option = { # overcome
		name = ek_yearly_events.0070.b
		trigger = { intrigue > 10 }	
		add_stress = minor_stress_loss
		add_character_modifier = {
			modifier = sep_overcome
		}
	}
}

#M'aiq Discount Event
ek_yearly_events.0071 = {
	type = character_event
	title = ek_court.0003.t
	desc = {
		desc = ek_court.0003.intro
		random_valid = {
			desc = ek_court.0003.desc1
			desc = ek_court.0003.desc2
			desc = ek_court.0003.desc3
			desc = ek_court.0003.desc4
			desc = ek_court.0003.desc5
			desc = ek_court.0003.desc6
			desc = ek_court.0003.desc7
			desc = ek_court.0003.desc8
			desc = ek_court.0003.desc9
			desc = ek_court.0003.desc10
			desc = ek_court.0003.desc11
			desc = ek_court.0003.desc12
			desc = ek_court.0003.desc13
			desc = ek_court.0003.desc14
			desc = ek_court.0003.desc15
			desc = ek_court.0003.desc16
			desc = ek_court.0003.desc17
			desc = ek_court.0003.desc18
			desc = ek_court.0003.desc19
			desc = ek_court.0003.desc20
			desc = ek_court.0003.desc21
			desc = ek_court.0003.desc22
			desc = ek_court.0003.desc23
			desc = ek_court.0003.desc24
			desc = ek_court.0003.desc25
			desc = ek_court.0003.desc26
			desc = ek_court.0003.desc27
			desc = ek_court.0003.desc28
			desc = ek_court.0003.desc29
			desc = ek_court.0003.desc30
			desc = ek_court.0003.desc31
			desc = ek_court.0003.desc32
			desc = ek_court.0003.desc33
			desc = ek_court.0003.desc34
			desc = ek_court.0003.desc35
			desc = ek_court.0003.desc36
			desc = ek_court.0003.desc37
			desc = ek_court.0003.desc38
			desc = ek_court.0003.desc39
			desc = ek_court.0003.desc40
			desc = ek_court.0003.desc41
			desc = ek_court.0003.desc42
			desc = ek_court.0003.desc43
			desc = ek_court.0003.desc44
			desc = ek_court.0003.desc45
			desc = ek_court.0003.desc46
			desc = ek_court.0003.desc47
			desc = ek_court.0003.desc48
			desc = ek_court.0003.desc49
		}
		desc = ek_court.0003.end
	}
	theme = friendly

	left_portrait = {
		character = root
		animation = disbelief
	}

	right_portrait = {
		character = scope:maiq
		animation = personality_cynical
	}
	
	trigger = {
		NOT = { has_character_modifier = maiq_modifier }
		has_royal_court = no
	}

	weight_multiplier = {
		base = 1
	}

	immediate = {
		create_character = {
			location = root.capital_province
			template = maiq_template
			dynasty = none
			gender = male
			save_scope_as = maiq
		}

		scope:maiq = {
			add_character_flag = {
				flag = colovian_fur_hat
			}
		}
	}

	option = { # ok then
		name = ek_court.0003.a
		add_character_modifier = {
				modifier = maiq_modifier
			}
	}

	after = {
		scope:maiq = {
			silent_disappearance_effect = yes
		}
	}
}

# Skald-Royalty
ek_yearly_events.0072 = { 
	type = character_event
	title = ek_yearly_events.0072.t
	desc = ek_yearly_events.0072.desc
	theme = diplomacy
	left_portrait = root
	
	trigger = {
		
		OR = { # Has no nickname or a bad nickname
			has_any_nickname = no
			has_bad_nickname = yes
		}
		OR = { #owns a kingdom or father/mother does
			highest_held_title_tier >= tier_kingdom
			AND = {
				exists = root.father
				root.father = {
					highest_held_title_tier >= tier_kingdom 
					is_alive = yes
				}
			}
			AND = {
				exists = root.mother
				root.mother = {
					highest_held_title_tier >= tier_kingdom 
					is_alive = yes
				}
			}
		}
		NOR = {
			has_character_flag = had_nickname_event
			has_trait = humble
			has_trait = content
			has_trait = shy
		}
		AND = {
			has_trait = poet
			culture = { has_cultural_pillar = heritage_atmoran }
		}
	}

	weight_multiplier = {
		base = 1
		modifier = {
			factor = 3
			OR = {
				has_trait = arrogant
				has_trait = ambitious
			}
		}
	}
	
	immediate = {
		add_character_flag = {
			flag = had_nickname_event
		}
	}


	option = { # skald-prince
		name = ek_yearly_events.0072.a
		trigger = {
			is_male = yes
			OR = {
				father = { highest_held_title_tier >= tier_kingdom }
				mother = { highest_held_title_tier >= tier_kingdom }
			}
		}
		if = {
			limit = {
				nickname_already_given_list_trigger = { NICKNAME = nick_the_skald-prince }
			}
			set_epithet_effect = { NICKNAME = nick_the_skald-prince }
		}
		add_prestige = medium_prestige_gain
		
		ai_chance = {
			base = 100
		}
	}
	
	option = { # skald-princess
		name = ek_yearly_events.0072.b
		trigger = {
			is_female = yes
			OR = {
				father = { highest_held_title_tier >= tier_kingdom }
				mother = { highest_held_title_tier >= tier_kingdom }
			}
		}
		if = {
			limit = {
				nickname_already_given_list_trigger = { NICKNAME = nick_the_skald-princess }
			}
			set_epithet_effect = { NICKNAME = nick_the_skald-princess }
		}
		add_prestige = medium_prestige_gain
		
		ai_chance = {
			base = 100
		}
	}
	
	option = { # skald-king
		name = ek_yearly_events.0072.c
		trigger = {
			is_male = yes
			highest_held_title_tier >= tier_kingdom
		}
		if = {
			limit = {
				nickname_already_given_list_trigger = { NICKNAME = nick_the_skald-king }
			}
			set_epithet_effect = { NICKNAME = nick_the_skald-king }
		}
		add_prestige = medium_prestige_gain
		
		ai_chance = {
			base = 100
		}
	}

	option = { # skald-queen
		name = ek_yearly_events.0072.d
		trigger = {
			is_female = yes
			highest_held_title_tier >= tier_kingdom
		}
		if = {
			limit = {
				nickname_already_given_list_trigger = { NICKNAME = nick_the_skald-queen }
			}
			set_epithet_effect = { NICKNAME = nick_the_skald-queen }
		}
		add_prestige = medium_prestige_gain
		
		ai_chance = {
			base = 100
		}
	}
}

# Character hears a bard sing The Battle of Glenumbria Moors
ek_yearly_events.0073 = {
	type = character_event
	title = {
		first_valid = {
			triggered_desc = {
				trigger = { current_month = 1 }
				desc = ek_yearly_events.0073.new_life.t 
			} 
			desc = ek_yearly_events.0073.t
		}
	}
	desc = ek_yearly_events.0073.desc
	theme = feast_activity
	
	left_portrait = {
		character = root
		animation = happiness
	}

	cooldown = { years = yearly_cooldown }	

	trigger = {
		scope:activity.activity_owner = {
			culture = { has_cultural_pillar = heritage_breton }
		}		
	}
	
	option = { # yay breton!
		name = ek_yearly_events.0073.a
		scope:activity = {
			every_participant = {
				custom = ek_yearly_events.0073.a.non-breton
				limit = {
					feast_default_participant_trigger = yes
					NOT = { culture = { has_cultural_pillar = heritage_breton } }
				}
				add_opinion = {
				modifier = disappointed_opinion
				target = root
				opinion = -20
				}
			}
			every_participant = {
				custom = ek_yearly_events.0073.a.breton
				limit = {
					feast_default_participant_trigger = yes
					culture = { has_cultural_pillar = heritage_breton }
				}
				add_opinion = {
				modifier = pleased_opinion
				target = root
				opinion = 20
				}
			}
		}

		stress_impact = { 
			base = -50
			humble = major_stress_impact_gain 
			compassionate = major_stress_impact_gain		
		}		
	}

	option = { # cringe
		name = ek_yearly_events.0073.b
		scope:activity = {
			every_participant = {
				custom = ek_yearly_events.0073.a.non-breton
				limit = {
					feast_default_participant_trigger = yes
					NOT = { culture = { has_cultural_pillar = heritage_breton } }
				}
				add_opinion = {
				modifier = pleased_opinion
				target = root
				opinion = 20
				}
			}
			every_participant = {
				custom = ek_yearly_events.0073.a.breton
				limit = {
					feast_default_participant_trigger = yes
					culture = { has_cultural_pillar = heritage_breton }
				}
				add_opinion = {
				modifier = disappointed_opinion
				target = root
				opinion = -20
				}
			}
		}
		
		stress_impact = { 
			arrogant = medium_stress_impact_gain
			callous = medium_stress_impact_gain		
		}		
	}

	after = {
		hidden_effect = {
			feast_wrap_up_or_fire_random_event_effect = yes
		}
	}

}

# Character can't stand bard singing Red Diamond
ek_yearly_events.0074 = {
	type = character_event
	title = {
		first_valid = {
			triggered_desc = {
				trigger = { current_month = 1 }
				desc = ek_yearly_events.0074.new_life.t 
			} 
			desc = ek_yearly_events.0074.t
		}
	}
	desc = ek_yearly_events.0074.desc
	theme = feast_activity
	
	left_portrait = {
		character = root
		animation = stress
	}	

	cooldown = { years = yearly_cooldown }

	trigger = {
		culture = { NOT = { has_cultural_pillar = heritage_goblinken } }
	}
	
	option = { # SHUT UP
		name = ek_yearly_events.0074.a
		name = {
			text = ek_yearly_events.0074.a.lunatic
			trigger = {
				has_trait = lunatic
			}
		}
		trigger = {
			has_two_stress_coping_traits_trigger = no
			NOT = { has_trait = irritable }
		}
		random_list = {
			10 = {}
			1 = { add_trait = irritable }
		}
		small_praxis_decrease_effect = yes
		scope:activity = {
			every_participant = {
				limit = {
					is_ai = yes
				}
				add_opinion = {
					modifier = disappointed_opinion
					target = root
					opinion = -20
				}
			}
		}
		stress_impact = { 
			base = -50
			humble = major_stress_impact_gain 
			compassionate = major_stress_impact_gain		
		}		
	}

	option = { # endure
		name = ek_yearly_events.0074.b
				
		stress_impact = { 
			base = 50
			arrogant = medium_stress_impact_gain
			callous = medium_stress_impact_gain		
		}		
	}

	after = {
		hidden_effect = {
			feast_wrap_up_or_fire_random_event_effect = yes
		}
	}
}

# Coldharbour Compact Song
ek_yearly_events.0075 = {
	type = character_event
	title = {
		first_valid = {
			triggered_desc = {
				trigger = { current_month = 1 }
				desc = ek_yearly_events.0075.new_life.t 
			} 
			desc = ek_yearly_events.0075.t
		}
	}
	desc = ek_yearly_events.0075.desc
	theme = feast_activity
	
	left_portrait = {
		character = root
	}

	cooldown = { years = yearly_cooldown }	

	trigger = {
		culture = { NOT = { has_cultural_pillar = heritage_goblinken } }
		faith = { has_doctrine = doctrine_pantheon_tribunal }
	}

	immediate = {
		random_list = {
			10 = {
				save_scope_value_as = {
						name = interesting_prince
						value = flag:molag
				}
			}
			10 = {
				save_scope_value_as = {
						name = interesting_prince
						value = flag:boethiah
				}
			}
			10 = {
				save_scope_value_as = {
						name = interesting_prince
						value = flag:hircine
				}
			}
			10 = {
				save_scope_value_as = {
						name = interesting_prince
						value = flag:malacath
				}
			}
			10 = {
				save_scope_value_as = {
						name = interesting_prince
						value = flag:herma
				}
			}
			10 = {
				save_scope_value_as = {
						name = interesting_prince
						value = flag:dagon
				}
			}
			10 = {
				save_scope_value_as = {
						name = interesting_prince
						value = flag:sheo
				}
			}
			10 = {
				save_scope_value_as = {
						name = interesting_prince
						value = flag:azura
				}
			}
		}
	}
	
	option = { # Sing Along
		name = ek_yearly_events.0075.a		
		add_piety = minor_piety_gain
		
		stress_impact = { 
			base = -50
			cynical = major_stress_gain
		}		
	}

	option = { # daedra are actually pog
		name = {
			text = ek_yearly_events.0075.b.molag
			trigger = {
				scope:interesting_prince = flag:molag
			}
		}
		name = {
			text = ek_yearly_events.0075.b.boethiah
			trigger = {
				scope:interesting_prince = flag:boethiah
			}
		}
		name = {
			text = ek_yearly_events.0075.b.hircine
			trigger = {
				scope:interesting_prince = flag:hircine
			}
		}
		name = {
			text = ek_yearly_events.0075.b.malacath
			trigger = {
				scope:interesting_prince = flag:malacath
			}
		}
		name = {
			text = ek_yearly_events.0075.b.herma
			trigger = {
				scope:interesting_prince = flag:herma
			}
		}
		name = {
			text = ek_yearly_events.0075.b.dagon
			trigger = {
				scope:interesting_prince = flag:dagon
			}
		}
		name = {
			text = ek_yearly_events.0075.b.sheo
			trigger = {
				scope:interesting_prince = flag:sheo
			}
		}
		name = {
			text = ek_yearly_events.0075.b.azura
			trigger = {
				scope:interesting_prince = flag:azura
			}
		}
		if = {
			limit = {
				scope:interesting_prince = flag:molag
			}
			give_molag_worshipper_secret_or_trait_effect = yes
		}
		else_if = {
			limit = {
				scope:interesting_prince = flag:boethiah
			}
			give_boethiah_worshipper_secret_or_trait_effect = yes
		}
		else_if = {
			limit = {
				scope:interesting_prince = flag:hircine
			}
			give_hircine_worshipper_secret_or_trait_effect = yes
		}
		else_if = {
			limit = {
				scope:interesting_prince = flag:malacath
			}
			give_malacath_worshipper_secret_or_trait_effect = yes
		}
		else_if = {
			limit = {
				scope:interesting_prince = flag:herma
			}
			give_hermaeus_worshipper_secret_or_trait_effect = yes
		}
		else_if = {
			limit = {
				scope:interesting_prince = flag:dagon
			}
			give_mehrunes_worshipper_secret_or_trait_effect = yes
		}
		else_if = {
			limit = {
				scope:interesting_prince = flag:sheo
			}
			give_sheogorath_worshipper_secret_or_trait_effect = yes
		}
		else_if = {
			limit = {
				scope:interesting_prince = flag:azura
			}
			give_azura_worshipper_secret_or_trait_effect = yes
		}

				
		stress_impact = { 
			zealous = major_stress_impact_gain
			holy_warrior = major_stress_impact_gain		
		}		
	}

	option = { # Sing Along With Fervor
		name = ek_yearly_events.0075.c
		trigger = {
			has_trait = p_tr_sotha
		}
		add_piety = major_piety_gain
		
		stress_impact = { 
			base = -50
			cynical = major_stress_gain
		}		
	}

	after = {
		hidden_effect = {
			feast_wrap_up_or_fire_random_event_effect = yes
		}
	}
}

# Hymn to Kyne
ek_yearly_events.0076 = {
	type = character_event
	title = {
		first_valid = {
			triggered_desc = {
				trigger = { current_month = 1 }
				desc = ek_yearly_events.0076.new_life.t 
			} 
			desc = ek_yearly_events.0076.t
		}
	}
	desc = ek_yearly_events.0076.desc
	theme = feast_activity
	
	left_portrait = {
		character = root
	}	

	cooldown = { years = yearly_cooldown }

	trigger = {
		scope:activity.activity_owner = {
			faith = { has_doctrine = doctrine_pantheon_nord }
		}
	}

	option = { # Kyne is the best
		name = ek_yearly_events.0076.a

		trigger = {
			has_trait = p_dv_kynareth
		}
		add_piety = medium_piety_gain
		
		stress_impact = { 
			humble = medium_stress_impact_loss
			cynical = medium_stress_impact_gain
		}	
	}
	
	option = { # Kyne is great
		name = ek_yearly_events.0076.b

		trigger = {
			NOT = { has_trait = p_dv_kynareth }
			faith = { has_doctrine = doctrine_pantheon_nord }
		}
		add_piety = minor_piety_gain
		stress_impact = { 
			humble = medium_stress_impact_loss
			cynical = medium_stress_impact_gain
		}		
	}

	option = { # not that again
		name = ek_yearly_events.0076.c

		add_piety = minor_piety_loss
		stress_impact = { 
			humble = medium_stress_impact_gain
			cynical = medium_stress_impact_loss		
		}		
	}

	after = {
		hidden_effect = {
			feast_wrap_up_or_fire_random_event_effect = yes
		}
	}
}

# Ithguleoir
ek_yearly_events.0077 = {
	type = character_event
	title = {
		first_valid = {
			triggered_desc = {
				trigger = { current_month = 1 }
				desc = ek_yearly_events.0077.new_life.t 
			} 
			desc = ek_yearly_events.0077.t
		}
	}
	desc = ek_yearly_events.0077.desc
	theme = feast_activity
	
	left_portrait = {
		character = root
	}	

	cooldown = { years = yearly_cooldown }

	trigger = {
		exists = location.county
		location.county = {
			OR = {
				is_coastal_county = yes
				any_neighboring_county = {
				is_coastal_county = yes
				}
			}
		}
	}

	option = { # shit's scary
		name = ek_yearly_events.0077.a

		trigger = {
			NOT = { has_trait = brave }
		}
		small_praxis_decrease_effect = yes

		add_prestige = medium_prestige_loss
		
		stress_impact = { 
			craven = major_stress_impact_loss
		}	
	}
	
	option = { # brave option
		name = ek_yearly_events.0077.b

		trigger = {
			has_trait = brave
		}
		small_praxis_increase_effect = yes
		add_prestige = medium_prestige_gain
		stress_impact = { 
			base = -50
			craven = major_stress_impact_gain
		}		
	}

	option = { # pretend to be brave
		name = ek_yearly_events.0077.c

		trigger = {
			NOT = { has_trait = brave }
		}

		

		stress_impact = { 
			base = 50
			craven = major_stress_impact_gain
		}		
	}

	after = {
		hidden_effect = {
			feast_wrap_up_or_fire_random_event_effect = yes
		}
	}
}

# Six are the Walking Ways
ek_yearly_events.0078 = {
	type = character_event
	title = {
		first_valid = {
			triggered_desc = {
				trigger = { current_month = 1 }
				desc = ek_yearly_events.0078.new_life.t 
			} 
			desc = ek_yearly_events.0078.t
		}
	}
	desc = ek_yearly_events.0078.desc
	theme = feast_activity
	
	left_portrait = {
		character = root
	}
	
	cooldown = { years = yearly_cooldown }

	trigger = {
		NOT = {	culture = { has_cultural_pillar = heritage_goblinken } }
		scope:activity.activity_owner = {
			faith = { has_doctrine = doctrine_pantheon_tribunal }
		}
	}

	option = { # diplomacy
		name = ek_yearly_events.0078.a
		trigger = { diplomacy >= 10 }
		random_list = {
			10 = { add_diplomacy_lifestyle_xp = major_lifestyle_xp }
			10 = {
				trigger = { NOT = { has_trait = lunatic } }
				add_trait = lunatic_1
			}
			80 = {  add_diplomacy_lifestyle_xp = minor_lifestyle_xp }
		}

		stress_impact = {
			cynical = major_stress_impact_gain
		}						
	}

	option = { # martial
		name = ek_yearly_events.0078.b
		trigger = { martial >= 10 }
		random_list = {
			10 = { add_martial_lifestyle_xp = major_lifestyle_xp }
			10 = {
				trigger = { NOT = { has_trait = lunatic } }
				add_trait = lunatic_1
			}
			80 = {  add_martial_lifestyle_xp = minor_lifestyle_xp }
		}

		stress_impact = {
			cynical = major_stress_impact_gain
		}						
	}

	option = { # stewardship
		name = ek_yearly_events.0078.c
		trigger = { stewardship >= 10 }
		random_list = {
			10 = { add_stewardship_lifestyle_xp = major_lifestyle_xp }
			10 = {
				trigger = { NOT = { has_trait = lunatic } }
				add_trait = lunatic_1
			}
			80 = {  add_stewardship_lifestyle_xp = minor_lifestyle_xp }
		}

		stress_impact = {
			cynical = major_stress_impact_gain
		}						
	}

	option = { # intrigue
		name = ek_yearly_events.0078.d
		trigger = { intrigue >= 10 }
		random_list = {
			10 = { add_intrigue_lifestyle_xp = major_lifestyle_xp }
			10 = {
				trigger = { NOT = { has_trait = lunatic } }
				add_trait = lunatic_1
			}
			80 = {  add_intrigue_lifestyle_xp = minor_lifestyle_xp }
		}

		stress_impact = {
			cynical = major_stress_impact_gain
		}						
	}

	option = { # learning
		name = ek_yearly_events.0078.e
		trigger = { intrigue >= 10 }
		random_list = {
			10 = { add_learning_lifestyle_xp = major_lifestyle_xp }
			10 = {
				trigger = { NOT = { has_trait = lunatic } }
				add_trait = lunatic_1
			}
			80 = {  add_learning_lifestyle_xp = minor_lifestyle_xp }
		}

		stress_impact = {
			cynical = major_stress_impact_gain
		}						
	}

	option = { # prowess
		name = ek_yearly_events.0078.f
		trigger = { prowess >= 10 }
		random_list = {
			10 = { add_prestige = medium_prestige_gain }
			10 = {
				trigger = { NOT = { has_trait = lunatic } }
				add_trait = lunatic_1
			}
			80 = { add_prestige = minor_prestige_gain }
		}

		stress_impact = {
			cynical = major_stress_impact_gain
		}						
	}

	option = { # arcana
		name = ek_yearly_events.0078.g
		trigger = { root.arcana >= 10 }
		random_list = {
			10 = { add_magic_lifestyle_xp = major_lifestyle_xp }
			10 = {
				trigger = { NOT = { has_trait = lunatic } }
				add_trait = lunatic_1
			}
			80 = {  add_magic_lifestyle_xp = minor_lifestyle_xp }
		}

		stress_impact = {
			cynical = major_stress_impact_gain
		}						
	}

	option = { # idc
		name = ek_yearly_events.0078.h
	}

	after = {
		hidden_effect = {
			feast_wrap_up_or_fire_random_event_effect = yes
		}
	}
}

# Cliff-Strider Song
ek_yearly_events.0079 = {
	type = character_event
	title = {
		first_valid = {
			triggered_desc = {
				trigger = { current_month = 1 }
				desc = ek_yearly_events.0079.new_life.t 
			} 
			desc = ek_yearly_events.0079.t
		}
	}
	desc = ek_yearly_events.0079.desc
	theme = feast_activity
	
	left_portrait = {
		character = root
	}
	
	cooldown = { years = yearly_cooldown }

	trigger = {
		NOT = {	culture = { has_cultural_pillar = heritage_goblinken } }
		location = { geographical_region = custom_nativity_vvardenfell }
		scope:activity.activity_owner = {
			faith = { has_doctrine = doctrine_pantheon_tribunal }
		}
	}

	option = { # fuck yeah cliff-strider
		name = ek_yearly_events.0079.a
		trigger = { prowess < 10 }
		add_prowess_skill = 5
			
		stress_impact = {
			cynical = major_stress_impact_gain
		}		
	}

	option = { # nice song
		name = ek_yearly_events.0079.b
		trigger = { martial > 10 }
		add_martial_lifestyle_xp = major_lifestyle_xp						
	}

	option = { # stupid song
		name = ek_yearly_events.0079.c
		stress_impact = {
			cynical = major_stress_impact_loss
		}		
	}

	after = {
		hidden_effect = {
			feast_wrap_up_or_fire_random_event_effect = yes
		}
	}
}

# Armiger Marching Song
ek_yearly_events.0080 = {
	type = character_event
	title = {
		first_valid = {
			triggered_desc = {
				trigger = { current_month = 1 }
				desc = ek_yearly_events.0080.new_life.t 
			} 
			desc = ek_yearly_events.0080.t
		}
	}
	desc = ek_yearly_events.0080.desc
	theme = feast_activity
	
	left_portrait = {
		character = root
	}
	
	cooldown = { years = yearly_cooldown }

	trigger = {
		NOT = {	culture = { has_cultural_pillar = heritage_goblinken } }
		scope:activity.activity_owner = {
			faith = { has_doctrine = doctrine_pantheon_tribunal }
		}
	}

	immediate = {
		scope:activity.activity_owner = {
			save_scope_as = feast_host
		}
	}

	option = { # yes, kill more
		name = ek_yearly_events.0080.a
		trigger = {
			faith = { has_doctrine = doctrine_pantheon_tribunal }
		}
		add_character_modifier = {
			modifier = ek_yearly_events_heard_armiger
			days = 3650
		}
		stress_impact = { 
			base = -50
			arrogant = medium_stress_impact_gain
			impatient = medium_stress_impact_gain 
			cynical = medium_stress_impact_gain
		}
		random_list = {
		   10 = { add_trait = holy_warrior }
		   90 = { }
		}		
	}

	option = { # wtf
		name = ek_yearly_events.0080.b
		trigger = {
			faith = { NOT = { has_doctrine = doctrine_pantheon_tribunal } }
		}

		stress_impact = { 
			base = -50
			arrogant = medium_stress_impact_loss
			impatient = medium_stress_impact_loss 
			zealous = medium_stress_impact_loss
		}
		add_opinion = {
			target = scope:activity.activity_owner
			modifier = cruelty_opinion
			opinion = -20
		}
		add_piety = minor_piety_gain
	}

	option = { # is ok
		name = ek_yearly_events.0080.c
		add_piety = minor_piety_loss
		stress_impact = {
			compassionate = medium_stress_impact_loss	
		}						
	}

	after = {
		hidden_effect = {
			feast_wrap_up_or_fire_random_event_effect = yes
		}
	}
}

# Song of the Word
ek_yearly_events.0081 = {
	type = character_event
	title = {
		first_valid = {
			triggered_desc = {
				trigger = { current_month = 1 }
				desc = ek_yearly_events.0081.new_life.t 
			} 
			desc = ek_yearly_events.0081.t
		}
	}
	desc = ek_yearly_events.0081.desc
	theme = feast_activity
	
	left_portrait = {
		character = root
	}
	

	trigger = {
		NOT = {	culture = { has_cultural_pillar = heritage_goblinken } }
		scope:activity.activity_owner = {
			faith = { has_doctrine = doctrine_pantheon_tribunal }
		}
	}

	immediate = {
		scope:activity.activity_owner = {
			save_scope_as = feast_host
		}
	}

	option = { # pay attention and try to decipher
		name = ek_yearly_events.0081.a
		trigger = {
			NOT = { has_trait = lunatic }
		}
		stress_impact = { 
			base = 50
			arrogant = medium_stress_impact_gain
			impatient = medium_stress_impact_gain 
			cynical = medium_stress_impact_gain
		}
		duel = {
			skill = learning
			value = decent_skill_rating
			10 = {
				desc = ek_yearly_events.0081.a.success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				send_interface_toast = {
					left_icon = root
					type = event_toast_effect_good
					title = tooltip.ek_yearly_events.0081.a.success
					add_learning_lifestyle_xp = major_lifestyle_xp
					}
				}
			
			5 = {
				desc = ek_yearly_events.0081.a.failure
				send_interface_toast = {
					left_icon = root
					type = event_toast_effect_bad
					title = tooltip.ek_yearly_events.0081.a.failure
					add_trait = lunatic_1
				}
			} 
		}		
	}

	option = { # three gods, one true faith
		name = ek_yearly_events.0081.b
		trigger = {
			NOT = { has_trait = lunatic }
			faith = { has_doctrine = doctrine_pantheon_tribunal }
		}

		stress_impact = { 
			zealous = medium_stress_impact_loss
		}

		add_piety = minor_piety_gain
	}

	option = { # is ok
		name = ek_yearly_events.0081.c
		trigger = {
			NOT = { has_trait = lunatic }
		}

		stress_impact = { 
			base = -50
			arrogant = medium_stress_impact_loss
			impatient = medium_stress_impact_loss 
			cynical = medium_stress_impact_loss
			zealous = medium_stress_impact_loss
		}							
	}

	option = { # uncle sheo
		name = ek_yearly_events.0081.d
		trigger = {
			has_trait = lunatic
		}
		give_sheogorath_worshipper_secret_or_trait_effect = yes

		stress_impact = { 
			base = -50
			zealous = major_stress_impact_gain
		}

		add_piety = minor_piety_gain
	}

	after = {
		hidden_effect = {
			feast_wrap_up_or_fire_random_event_effect = yes
		}
	}
}

# Charge of the Welkynar
ek_yearly_events.0082 = {
	type = character_event
	title = {
		first_valid = {
			triggered_desc = {
				trigger = { current_month = 1 }
				desc = ek_yearly_events.0082.new_life.t 
			} 
			desc = ek_yearly_events.0082.t
		}
	}
	desc = ek_yearly_events.0082.desc
	theme = feast_activity
	
	left_portrait = {
		character = root
	}	

	cooldown = { years = yearly_cooldown }

	trigger = {
		NOT = {	culture = { has_cultural_pillar = heritage_goblinken } }
		culture = { culture_has_heavy_cavalry_maa = yes }
		scope:activity.activity_owner = {
			culture = { has_cultural_pillar = heritage_aldmeri }
		}
	}

	immediate = {
		scope:activity.activity_owner = {
			save_scope_as = feast_host
		}
	}
	
	
	option = { # Bravo!
		name = ek_yearly_events.0082.a
		trigger = {
			is_ruler = yes
		}
		small_praxis_increase_effect = yes
		add_character_modifier = {
			modifier = ek_yearly_events_heard_welkynar
			days = 3650
		}
		stress_impact = {
			base = -50
			arrogant = medium_stress_impact_gain
			impatient = medium_stress_impact_gain 
			callous = medium_stress_impact_gain		
		}	
	}

	option = { # Meh
		name = ek_yearly_events.0082.b
		stress_impact = { 
			humble = medium_stress_impact_gain 
			compassionate = medium_stress_impact_gain	
			cynical = medium_stress_impact_loss	
		}		
	}

	after = {
		hidden_effect = {
			feast_wrap_up_or_fire_random_event_effect = yes
		}
	}
}

# Folly of Man
ek_yearly_events.0083 = {
	type = character_event
	title = {
		first_valid = {
			triggered_desc = {
				trigger = { current_month = 1 }
				desc = ek_yearly_events.0083.new_life.t 
			} 
			desc = ek_yearly_events.0083.t
		}
	}
	desc = ek_yearly_events.0083.desc
	theme = feast_activity
	
	left_portrait = {
		character = root
	}	

	cooldown = { years = yearly_cooldown }

	trigger = {
		NOT = {	culture = { has_cultural_pillar = heritage_goblinken } }
		scope:activity.activity_owner = {
			culture = { has_cultural_pillar = heritage_aldmeri }
		}
	}

	immediate = {
		scope:activity.activity_owner = {
			save_scope_as = feast_host
		}
		scope:activity.activity_owner = {
			primary_title = {
				save_scope_as = disputed_title
			}
		}
	}	
	
	option = { # Bravo!
		name = ek_yearly_events.0083.a
		trigger = {
			culture = {
				NOT = {
					has_cultural_pillar = heritage_atmoran
					has_cultural_pillar = heritage_breton
					has_cultural_pillar = heritage_cyrodiilic
					has_cultural_pillar = heritage_nedic_central
					has_cultural_pillar = heritage_nedic_north
					has_cultural_pillar = heritage_nedic_south
					has_cultural_pillar = heritage_yokudan
				}
			}
		}
		small_praxis_increase_effect = yes
		add_character_modifier = {
			modifier = ek_yearly_events_sang_folly
			days = 3650
		}
		stress_impact = {
			base = -50
			cynical = medium_stress_impact_gain
			humble = medium_stress_impact_gain 
			compassionate = medium_stress_impact_gain
		}	
	}

	option = { # rather not
		name = ek_yearly_events.0083.b
		trigger = {
			culture = {
				NOT = {
					has_cultural_pillar = heritage_atmoran
					has_cultural_pillar = heritage_breton
					has_cultural_pillar = heritage_cyrodiilic
					has_cultural_pillar = heritage_nedic_central
					has_cultural_pillar = heritage_nedic_north
					has_cultural_pillar = heritage_nedic_south
					has_cultural_pillar = heritage_yokudan
				}
			}
		}
		
		stress_impact = {
			base = 50
			cynical = medium_stress_impact_loss
			humble = medium_stress_impact_loss
			compassionate = medium_stress_impact_loss
		}	
	}

	option = { # holy shit
		name = ek_yearly_events.0083.c
		trigger = {
			culture = {
				OR = {
					has_cultural_pillar = heritage_atmoran
					has_cultural_pillar = heritage_breton
					has_cultural_pillar = heritage_cyrodiilic
					has_cultural_pillar = heritage_nedic_central
					has_cultural_pillar = heritage_nedic_north
					has_cultural_pillar = heritage_nedic_south
					has_cultural_pillar = heritage_yokudan
				}
			}
		}
		
		random_list = {
			10 = { add_unpressed_claim = scope:disputed_title }
			90 = { }
		}

		add_opinion = {
			modifier = insulted_opinion
			target = scope:activity.activity_owner
			opinion = -50
		}

		stress_impact = {
			base = 50
		}	
	}

	option = { # Meh
		name = ek_yearly_events.0083.d
		
		stress_impact = { 
			humble = medium_stress_impact_gain 
			compassionate = medium_stress_impact_gain	
			cynical = medium_stress_impact_loss	
		}		
	}

	after = {
		hidden_effect = {
			feast_wrap_up_or_fire_random_event_effect = yes
		}
	}
}

# Praise Be
ek_yearly_events.0084 = {
	type = character_event
	title = {
		first_valid = {
			triggered_desc = {
				trigger = { current_month = 1 }
				desc = ek_yearly_events.0084.new_life.t 
			} 
			desc = ek_yearly_events.0084.t
		}
	}
	desc = ek_yearly_events.0084.desc
	theme = feast_activity
	
	left_portrait = {
		character = root
	}	

	cooldown = { years = yearly_cooldown }

	trigger = {
		scope:activity.activity_owner = {
			faith = { has_doctrine = doctrine_pantheon_aedra }
		}
	}

	immediate = {
		scope:activity.activity_owner = {
			save_scope_as = feast_host
		}
	}

	option = { # praise be!
		name = ek_yearly_events.0084.a

		trigger = {
			faith = { has_doctrine = doctrine_pantheon_aedra }
			has_trait = zealous
		}
		add_piety = medium_piety_gain
		small_praxis_increase_effect = yes
		
		stress_impact = { 
			base = -50
		}	
	}
	
	option = { # nice
		name = ek_yearly_events.0084.b

		trigger = {
			NOT = { has_trait = zealous }
			faith = { has_doctrine = doctrine_pantheon_aedra }
		}
		add_piety = minor_piety_gain
		
		stress_impact = { 
			cynical = medium_stress_impact_gain
		}		
	}

	option = { # not that again
		name = ek_yearly_events.0084.c
		add_piety = minor_piety_loss
		small_praxis_decrease_effect = yes
		stress_impact = { 
			cynical = medium_stress_impact_loss		
		}		
	}

	after = {
		hidden_effect = {
			feast_wrap_up_or_fire_random_event_effect = yes
		}
	}
}

# EK TODO: figure out how this and threnody could be different
## The Star-Eyed Bride of Alinor
#ek_yearly_events.0085 = {
#	type = character_event
#	title = {
#		first_valid = {
#			triggered_desc = {
#				trigger = { current_month = 1 }
#				desc = ek_yearly_events.0085.new_life.t 
#			} 
#			desc = ek_yearly_events.0085.t
#		}
#	}
#	desc = ek_yearly_events.0085.desc
#	theme = feast_activity
#	
#	left_portrait = {
#		character = root
#	}	
#
#	trigger = {
#		NOT = { has_character_flag = ek_yearly_events_heard_bride_event_happened }
#		scope:activity.activity_owner = {
#			culture = { has_cultural_pillar = heritage_aldmeri }
#		}
#	}
#
#	immediate = {
#		scope:activity.activity_owner = {
#			save_scope_as = feast_host
#		}
#	}
#
#	option = { # i weep
#		name = ek_yearly_events.0085.a
#
#		add_character_flag = ek_yearly_events_heard_bride_event_happened
#				
#		stress_impact = { 
#			base = -50
#			cynical = medium_stress_impact_gain
#			callous = medium_stress_impact_gain
#		}	
#	}
#	
#	option = { # boohoo
#		name = ek_yearly_events.0085.b
#
#		add_character_flag = ek_yearly_events_heard_bride_event_happened
#		add_dread = minor_dread_gain
#		stress_impact = { 
#			cynical = medium_stress_impact_loss		
#		}		
#	}
#
#	after = {
#		hidden_effect = {
#			feast_wrap_up_or_fire_random_event_effect = yes
#		}
#	}
#}

# The Tale of Syrabane
ek_yearly_events.0086 = {
	type = character_event
	title = {
		first_valid = {
			triggered_desc = {
				trigger = { current_month = 1 }
				desc = ek_yearly_events.0086.new_life.t 
			} 
			desc = ek_yearly_events.0086.t
		}
	}
	desc = ek_yearly_events.0086.desc
	theme = feast_activity
	
	left_portrait = {
		character = root
	}	

	cooldown = { years = yearly_cooldown }

	trigger = {
		scope:activity.activity_owner = {
			faith = { has_doctrine = doctrine_pantheon_aedra }
		}
	}

	immediate = {
		scope:activity.activity_owner = {
			save_scope_as = feast_host
		}
	}

	option = { # Syrabane is the best
		name = ek_yearly_events.0086.a

		trigger = {
			has_trait = p_ae_syrabane
		}
		add_piety = medium_piety_gain
		small_praxis_increase_effect = yes
		
		stress_impact = { 
			humble = medium_stress_impact_loss
			cynical = medium_stress_impact_gain
		}	
	}
	
	option = { # Syrabane is great
		name = ek_yearly_events.0086.b

		trigger = {
			NOT = { has_trait = p_ae_syrabane }
			faith = { has_doctrine = doctrine_pantheon_aedra }
		}
		add_piety = minor_piety_gain
		small_praxis_increase_effect = yes
		stress_impact = { 
			humble = medium_stress_impact_loss
			cynical = medium_stress_impact_gain
		}		
	}

	option = { # not that again
		name = ek_yearly_events.0086.c
		add_piety = minor_piety_loss
		small_praxis_decrease_effect = yes
		stress_impact = { 
			humble = medium_stress_impact_gain
			cynical = medium_stress_impact_loss		
		}		
	}

	after = {
		hidden_effect = {
			feast_wrap_up_or_fire_random_event_effect = yes
		}
	}
}

# Hear the Hist Speak
ek_yearly_events.0087 = {
	type = character_event
	title = {
		first_valid = {
			triggered_desc = {
				trigger = { current_month = 1 }
				desc = ek_yearly_events.0087.new_life.t 
			} 
			desc = ek_yearly_events.0087.t
		}
	}
	desc = ek_yearly_events.0087.desc
	theme = feast_activity
	
	left_portrait = {
		character = root
	}	

	cooldown = { years = yearly_cooldown }

	trigger = {
		scope:activity.activity_owner = {
			faith = { has_doctrine = doctrine_pantheon_hist }
		}
	}

	immediate = {
		scope:activity.activity_owner = {
			save_scope_as = feast_host
		}
	}

	option = { # all are one!
		name = ek_yearly_events.0087.a

		trigger = {
			faith = { has_doctrine = doctrine_pantheon_hist }
			has_trait = zealous
		}
		add_piety = medium_piety_gain
		
		stress_impact = { 
			base = -50
		}	
	}
	
	option = { # nice
		name = ek_yearly_events.0087.b

		trigger = {
			NOT = { has_trait = zealous }
			faith = { has_doctrine = doctrine_pantheon_hist }
		}
		add_piety = minor_piety_gain
		
		stress_impact = { 
			cynical = medium_stress_impact_gain
		}		
	}

	option = { # not that again
		name = ek_yearly_events.0087.c
		add_piety = minor_piety_loss
		stress_impact = { 
			cynical = medium_stress_impact_loss		
		}		
	}

	after = {
		hidden_effect = {
			feast_wrap_up_or_fire_random_event_effect = yes
		}
	}
}

# Ku-Vastei
ek_yearly_events.0088 = {
	type = character_event
	title = {
		first_valid = {
			triggered_desc = {
				trigger = { current_month = 1 }
				desc = ek_yearly_events.0088.new_life.t 
			} 
			desc = ek_yearly_events.0088.t
		}
	}
	desc = ek_yearly_events.0088.desc
	theme = feast_activity
	
	left_portrait = {
		character = root
	}	

	cooldown = { years = yearly_cooldown }

	trigger = {
		exists = capital_province
		NOT = { 
			faith = { has_doctrine = doctrine_pantheon_hist }
		}
		scope:activity.activity_owner = {
			culture = { has_cultural_pillar = heritage_argonian }
		}

	}

	immediate = {
		scope:activity.activity_owner = {
			save_scope_as = feast_host
		}
		random_held_title = {
			limit = {
				tier = tier_county
				NOT = { this = root.capital_county}
			}
			save_scope_as = selected_title
		}
		# Pick a courtier or pool character to be our candidate
		every_courtier = {
		limit = { 
			culture = root.culture
			faith = root.faith
			is_ai = yes
		}
			add_to_list = potential_candidates
		}
		every_pool_guest = {
			limit = { 
				culture = root.culture
				faith = root.faith
				is_ai = yes
			}
			add_to_list = potential_candidates
		}
		every_pool_character = {
			province = root.capital_province
			limit = { 
				culture = root.culture
				faith = root.faith
				is_ai = yes
			}
			add_to_list = potential_candidates
		}
		random_in_list = {
			list = potential_candidates
			save_scope_as = chosen_candidate
		}
		random_sub_realm_barony = {
			limit = { 
				county = { holder = root } 
				holder = { 
					NOT = { this = root } 
					culture = root.culture
				}
				NOT = { culture = root.culture }
			}
			save_scope_as = village
			holder = {
				save_scope_as = holder_of_area
				court_event_character_flag_effect = yes
				}
			county = { save_scope_as = village_county } 
		}
	}

	option = { # change to autocracy
		name = ek_yearly_events.0088.a
		trigger = {
			has_government = tribal_government
		}

		change_government = autocracy_government

		stress_impact = { 
			base = -50
			cynical = medium_stress_impact_gain
			stubborn = medium_stress_impact_gain
		}	
	}

	option = { # change title
		name = ek_yearly_events.0088.b

		trigger = {
			exists = scope:selected_title
			exists = scope:chosen_candidate
		}
		create_title_and_vassal_change = {
  			type = granted
  			save_scope_as = change
  		}
		scope:selected_title = {
	  		change_title_holder = {
				holder = scope:chosen_candidate
				change = scope:change
				take_baronies = no
			}
  		}
		resolve_title_and_vassal_change = scope:change
		scope:chosen_candidate = {
			add_opinion = {
				modifier = received_title_county
				target = root
			}
		}

		stress_impact = { 
			base = -50
			cynical = medium_stress_impact_gain
			stubborn = medium_stress_impact_gain
		}	
	}

	option = { # change to accept culture
		name = ek_yearly_events.0088.c
		trigger = {
			exists = scope:village
		}

		root.culture = {
			change_cultural_acceptance = {
				target = scope:village.culture
				value = low_positive_culture_acceptance
				desc = cultural_acceptance_gain_hold_court_event_outcome
			}
		}

		stress_impact = { 
			base = 50
			cynical = major_stress_impact_gain
			stubborn = major_stress_impact_gain
		}	
	}
	
	
	option = { # I'm not changing
		name = ek_yearly_events.0088.d
		trigger = {
			culture = { has_cultural_pillar = heritage_argonian }
		}
		add_character_modifier = {
			modifier = refused_kuvastei
			days = 3650
		}
		stress_impact = { 
			base = 50
			cynical = major_stress_impact_loss	
			stubborn = major_stress_impact_loss	
		}		
	}

	option = { # nice tune
		name = ek_yearly_events.0088.e
		trigger = {
			culture = { NOT = { has_cultural_pillar = heritage_argonian } }
		}
		
		stress_impact = { 
			base = -50
		}		
	}

	after = {
		hidden_effect = {
			feast_wrap_up_or_fire_random_event_effect = yes
		}
	}
}

# Shunatei
ek_yearly_events.0089 = {
	type = character_event
	title = {
		first_valid = {
			triggered_desc = {
				trigger = { current_month = 1 }
				desc = ek_yearly_events.0089.new_life.t 
			} 
			desc = ek_yearly_events.0089.t
		}
	}
	desc = ek_yearly_events.0089.desc
	theme = feast_activity
	
	left_portrait = {
		character = root
	}	

	cooldown = { years = yearly_cooldown }

	trigger = {
		scope:activity.activity_owner = {
			culture = { has_cultural_pillar = heritage_argonian }
		}
	}

	immediate = {
		scope:activity.activity_owner = {
			save_scope_as = feast_host
		}
		random_relation = {
			type = rival
			limit = {
				opinion = {
					target = root
					value >= 20
				}
				is_ai = yes
			}
			alternative_limit = {
				opinion = {
					target = root
					value >= 10
				}
				is_ai = yes
			}
			save_scope_as = rival
		}
	}

	option = { # forgive and forget
		name = ek_yearly_events.0089.a
		trigger = {
			exists = scope:rival
		}
		show_as_tooltip = {
			remove_relation_rival = scope:rival
		}
		hidden_effect = {
			scope:rival = {
				trigger_event = rivalry.0002
			}
		}		
		stress_impact = {
			base = -50
			paranoid = major_stress_gain
			vengeful = major_stress_gain
		}	
	}

	option = { # no
		name = ek_yearly_events.0089.a
		trigger = {
			exists = scope:rival
		}

		add_prestige = medium_prestige_loss

		scope:rival = {
			add_opinion = {
				target = root
				modifier = hate_opinion
				opinion = -15
			}
		}		
		stress_impact = {
			paranoid = major_stress_loss
			vengeful = major_stress_loss
		}	
	}
	
	option = { # nice song
		name = ek_yearly_events.0089.c
		trigger = {
			NOT = {	exists = scope:rival }
		}

		stress_impact = { 
			base = -10
			cynical = medium_stress_impact_gain	
		}		
	}

	after = {
		hidden_effect = {
			feast_wrap_up_or_fire_random_event_effect = yes
		}
	}
}

# Dancing Among the Flowers Fine
ek_yearly_events.0090 = {
	type = character_event
	title = {
		first_valid = {
			triggered_desc = {
				trigger = { current_month = 1 }
				desc = ek_yearly_events.0090.new_life.t 
			} 
			desc = ek_yearly_events.0090.t
		}
	}
	desc = ek_yearly_events.0090.desc
	theme = feast_activity
	
	left_portrait = {
		character = root
	}	

	cooldown = { years = yearly_cooldown }

	trigger = {
		scope:activity.activity_owner = {
			culture = { has_cultural_pillar = heritage_khajiiti }
		}
	}

	immediate = {
		scope:activity.activity_owner = {
			save_scope_as = feast_host
		}
	}
	
	option = { # Bravo!
		name = ek_yearly_events.0090.a
		
		add_character_modifier = {
			modifier = danced_among_flowers_fine
			days = 3650
		}
		stress_impact = { 
			base = -20
			arrogant = medium_stress_impact_gain
			impatient = medium_stress_impact_gain 
			lazy = medium_stress_impact_gain		
		}		
	}

	option = { # Meh
		name = ek_yearly_events.0090.b
		stress_impact = { 
			humble = medium_stress_impact_gain 
			compassionate = medium_stress_impact_gain		
			diligent = medium_stress_impact_gain
		}		
	}

	after = {
		hidden_effect = {
			feast_wrap_up_or_fire_random_event_effect = yes
		}
	}
}

# Val Vijah Va Rhook, Baandari
ek_yearly_events.0091 = {
	type = character_event
	title = {
		first_valid = {
			triggered_desc = {
				trigger = { current_month = 1 }
				desc = ek_yearly_events.0091.new_life.t 
			} 
			desc = ek_yearly_events.0091.t
		}
	}
	desc = ek_yearly_events.0091.desc
	theme = feast_activity
	
	left_portrait = {
		character = root
	}	

	cooldown = { years = yearly_cooldown }

	trigger = {
		scope:activity.activity_owner = {
			OR = {
				has_culture = culture:baandari
				has_faith = faith:baandari
			}
		}
	}

	immediate = {
		scope:activity.activity_owner = {
			save_scope_as = feast_host
		}
	}
	
	option = { # Bravo!
		name = ek_yearly_events.0091.a
		trigger = {
			NOT = {
				has_culture = culture:baandari
			}
		}
		root.culture = {
			change_cultural_acceptance = {
				target = culture:baandari
				value = low_positive_culture_acceptance
				desc = cultural_acceptance_gain_hold_court_event_outcome
			}
		}

		stress_impact = { 
			base = -20
			arrogant = medium_stress_impact_gain
			impatient = medium_stress_impact_gain 
			paranoid = medium_stress_impact_gain		
		}		
	}

	option = { # Meh
		name = ek_yearly_events.0091.b
		trigger = {
			NOT = {
				has_culture = culture:baandari
			}
		}
		root.culture = {
			change_cultural_acceptance = {
				target = culture:baandari
				value = low_negative_culture_acceptance
				desc = cultural_acceptance_gain_hold_court_event_outcome
			}
		}

		stress_impact = { 
			humble = medium_stress_impact_gain 
			compassionate = medium_stress_impact_gain		
			trusting = medium_stress_impact_gain
		}		
	}

	option = { # baandari
		name = ek_yearly_events.0091.c
		trigger = {
			has_culture = culture:baandari
		}

		scope:feast_host = {
			add_opinion = {
				modifier = pleased_opinion
				target = root
				opinion = 20
			}
		}

		set_relation_potential_friend = scope:feast_host

		stress_impact = { 
			base = -50
		}		
	}

	after = {
		hidden_effect = {
			feast_wrap_up_or_fire_random_event_effect = yes
		}
	}
}

# Sweet Moon-Sugar Cane
ek_yearly_events.0092 = {
	type = character_event
	title = {
		first_valid = {
			triggered_desc = {
				trigger = { current_month = 1 }
				desc = ek_yearly_events.0092.new_life.t 
			} 
			desc = ek_yearly_events.0092.t
		}
	}
	desc = ek_yearly_events.0092.desc
	theme = feast_activity
	
	left_portrait = {
		character = root
	}	

	cooldown = { years = yearly_cooldown }

	trigger = {
		scope:activity.activity_owner = {
			culture = { has_cultural_pillar = heritage_khajiiti }
		}
	}

	immediate = {
		scope:activity.activity_owner = {
			save_scope_as = feast_host
		}
	}
	
	option = { # Bravo!
		name = ek_yearly_events.0092.a
		add_character_modifier = {
			modifier = sweet_moon_sugar_cane
			days = 3650
		}
		stress_impact = {
			base = -50
			arrogant = medium_stress_impact_gain
			temperate = medium_stress_impact_gain 
			cynical = medium_stress_impact_gain		
		}
		random_list = {
			   10 = { add_trait = skooma_drinker }
			   90 = { }
		}		
	}

	option = { # Meh
		name = ek_yearly_events.0092.b
		stress_impact = { 
			gregarious = medium_stress_impact_gain 
			gluttonous = major_stress_impact_gain		
		}		
	}

	after = {
		hidden_effect = {
			feast_wrap_up_or_fire_random_event_effect = yes
		}
	}
}

# A Cat's Serenade
ek_yearly_events.0093 = {
	type = character_event
	title = {
		first_valid = {
			triggered_desc = {
				trigger = { current_month = 1 }
				desc = ek_yearly_events.0093.new_life.t 
			} 
			desc = ek_yearly_events.0093.t
		}
	}
	desc = ek_yearly_events.0093.desc
	theme = feast_activity

	cooldown = { years = yearly_cooldown }
	
	left_portrait = {
		character = root
	}

	right_portrait = {
		character = scope:the_cat
		animation = flirtation
	}	

	trigger = {
		scope:activity.activity_owner = {
			culture = { has_cultural_pillar = heritage_khajiiti }
		}
		scope:activity = {
			any_participant = {
				feast_default_participant_trigger = yes
				culture = { has_cultural_pillar = heritage_khajiiti }
				OR = {
					is_attracted_to_gender_of = ROOT
					has_perk = unshackled_lust_perk
				}
				NOR = {
					has_trait = chaste
					has_trait = celibate
				}
			}
		}
	}

	on_trigger_fail = {
		debug_log = "ek_yearly_events.0093 fired without a the_cat scope"
		debug_log_scopes = yes
	}

	immediate = {
		scope:activity = {
			random_participant = {
				limit = {
						is_ai = yes
						NOT = { this = root }
						is_alive = yes
						is_imprisoned = no
						culture = { has_cultural_pillar = heritage_khajiiti }
					OR = {
						is_attracted_to_gender_of = ROOT
						has_perk = unshackled_lust_perk
					}
					NOR = {
						has_trait = chaste
						has_trait = celibate
					}
				}
			save_scope_as = the_cat
			}
		}
	}
	
	option = { # oh yes
		name = ek_yearly_events.0093.a
		trigger = {
			is_attracted_to_gender_of = scope:the_cat
		}

		progress_towards_lover_effect = {
			CHARACTER = scope:the_cat
			OPINION = 15
			REASON = lover_feast_crush
		}
		
		had_sex_with_effect = {
			CHARACTER = scope:the_cat
			PREGNANCY_CHANCE = pregnancy_chance
		}
		if = {
			limit = {
				OR = {
					trait_is_shunned_in_faith_trigger = {
						TRAIT = adulterer
						GENDER_CHARACTER = root
						FAITH = root.faith
					}
					trait_is_criminal_in_faith_trigger = {
						TRAIT = adulterer
						GENDER_CHARACTER = root
						FAITH = root.faith
					}
				}
			}
			stress_impact = {
				zealous = major_stress_impact_gain
				chaste = major_stress_impact_gain
				callous = minor_stress_impact_gain
				cynical = minor_stress_impact_gain
				craven = minor_stress_impact_gain
			}
		}
		else = {
			stress_impact = {
				chaste = major_stress_impact_gain
				callous = minor_stress_impact_gain
				cynical = minor_stress_impact_gain
				craven = minor_stress_impact_gain
			}
		}	
	}

	option = { # sorry but
		name = ek_yearly_events.0093.b
		trigger = {
			NOT = { is_attracted_to_gender_of = scope:the_cat }
		}
	}

	option = { # no thanks
		name = ek_yearly_events.0093.c
		trigger = {
			is_attracted_to_gender_of = scope:the_cat
		}

		stress_impact = {
			base = 20
			lustful = major_stress_impact_gain
			chaste = massive_stress_impact_loss	
		}	
	}

	after = {
		hidden_effect = {
			feast_wrap_up_or_fire_random_event_effect = yes
		}
	}
}

# The Song of Khunzar-Ri
ek_yearly_events.0094 = {
	type = character_event
	title = {
		first_valid = {
			triggered_desc = {
				trigger = { current_month = 1 }
				desc = ek_yearly_events.0094.new_life.t 
			} 
			desc = ek_yearly_events.0094.t
		}
	}
	desc = ek_yearly_events.0094.desc
	theme = feast_activity
	
	left_portrait = {
		character = root
	}	

	cooldown = { years = yearly_cooldown }

	trigger = {
		scope:activity.activity_owner = {
			culture = { has_cultural_pillar = heritage_khajiiti }
		}
	}

	immediate = {
		random_list = {
			10 = {
				save_scope_value_as = {
						name = khunzar-ri
						value = flag:fighter
				}
			}
			10 = {
				save_scope_value_as = {
						name = khunzar-ri
						value = flag:lover
				}
			}
			10 = {
				save_scope_value_as = {
						name = khunzar-ri
						value = flag:poet
				}
			}
			10 = {
				save_scope_value_as = {
						name = khunzar-ri
						value = flag:thief
				}
			}
		}
	}
	
	option = { # who is he?
		name = {
			text = ek_yearly_events.0094.a.fighter
			trigger = {
				scope:khunzar-ri = flag:fighter
			}
		}
		name = {
			text = ek_yearly_events.0094.a.lover
			trigger = {
				scope:khunzar-ri = flag:lover
			}
		}
		name = {
			text = ek_yearly_events.0094.a.poet
			trigger = {
				scope:khunzar-ri = flag:poet
			}
		}
		name = {
			text = ek_yearly_events.0094.a.thief
			trigger = {
				scope:khunzar-ri = flag:thief
			}
		}
		
		trigger = {
			culture = { has_cultural_pillar = heritage_khajiiti }
			NOT = { 
				has_trait = craven
				has_trait = shy 
			}
		}
		if = {
			limit = {
				scope:khunzar-ri = flag:fighter
			}
			add_prowess_skill = 5
		}
		else_if = {
			limit = {
				scope:khunzar-ri = flag:lover
			}
			add_character_modifier = {
				modifier = how_fragrant
			}
		}
		else_if = {
			limit = {
				scope:khunzar-ri = flag:poet
			}
			if = {
				limit = {
					NOT = { has_trait = poet }
				}
				add_trait = poet
			}
			else = { add_prestige = medium_prestige_gain }
		}
		else_if = {
			limit = {
				scope:khunzar-ri = flag:thief
			}
			add_intrigue_skill = 2
		}	
	}

	option = { # nice
		name = ek_yearly_events.0094.b
		trigger = {
			culture = {
				NOT = {
					has_cultural_pillar = heritage_khajiiti 
				}
			}
			NOT = { 
				has_trait = craven
				has_trait = shy 
			}
		}
	}

	option = { # =(
		name = ek_yearly_events.0094.c
		trigger = {
			OR = {
				has_trait = craven
				has_trait = shy
			}			
		}
		stress_impact = {
			shy = medium_stress_impact_gain
			craven = medium_stress_impact_gain
		}
	}

	after = {
		hidden_effect = {
			feast_wrap_up_or_fire_random_event_effect = yes
		}
	}
}

# The Gambler's Art
ek_yearly_events.0095 = {
	type = character_event
	title = {
		first_valid = {
			triggered_desc = {
				trigger = { current_month = 1 }
				desc = ek_yearly_events.0095.new_life.t 
			} 
			desc = ek_yearly_events.0095.t
		}
	}
	desc = ek_yearly_events.0095.desc
	theme = feast_activity
	
	left_portrait = {
		character = root
	}	

	cooldown = { years = yearly_cooldown }

	trigger = {
		scope:activity.activity_owner = {
			culture = { has_cultural_pillar = heritage_khajiiti }
		}
	}

	immediate = {
		scope:activity.activity_owner = {
			save_scope_as = feast_host
		}
	}
	
	option = { # i'll gamble a little
		name = ek_yearly_events.0095.a
		trigger = {
			short_term_gold >= minor_gold_value
		}
		show_as_unavailable = {
			short_term_gold < minor_gold_value
		}		
		random_list = {
			10 = {
				add_gold = medium_gold_value
			}
			50 = {
				remove_short_term_gold = minor_gold_value
			}
			40 = { }
		}
		stress_impact = {
			generous = medium_stress_impact_gain 
			content = medium_stress_impact_gain
			temperate = medium_stress_impact_gain 
		}		
	}

	option = { # i'll gamble a lot
		name = ek_yearly_events.0095.b
		trigger = {
			short_term_gold >= major_gold_value
		}
		show_as_unavailable = {
				short_term_gold < major_gold_value
		}		
		random_list = {
			10 = {
				add_gold = massive_gold_value
			}
			50 = {
				remove_short_term_gold = major_gold_value
			}
			40 = { }
		}
		stress_impact = {
			generous = medium_stress_impact_loss
			content = major_stress_impact_gain
			temperate = major_stress_impact_gain 
		}		
	}

	option = { # i'll cheat
		name = ek_yearly_events.0095.c
		trigger = { intrigue >= 9 }

		duel = {
			skill = intrigue
			value = decent_skill_rating
			10 = { # success
				desc = ek_yearly_events.0095.c.success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				add_gold = massive_gold_value
			}
			5 = {
				desc = ek_yearly_events.0095.c.failure
				if = {
					limit = {
						root = scope:feast_host
					}
					add_prestige = major_prestige_loss
				}
				else = {
					rightfully_imprison_character_effect = { 
						TARGET = root
						IMPRISONER = scope:feast_host
					}
				}
			}
		}

		stress_impact = { 
			content = major_stress_impact_gain
			temperate = major_stress_impact_gain
		}		
	}

	option = { # I'm good
		name = ek_yearly_events.0095.d
		
		stress_impact = {
			ambitious = medium_stress_impact_gain 
			greedy = medium_stress_impact_gain
			paranoid = medium_stress_impact_loss
		}		
	}

	after = {
		hidden_effect = {
			feast_wrap_up_or_fire_random_event_effect = yes
		}
	}
}

# Song of Alkosh's Champion
ek_yearly_events.0096 = {
	type = character_event
	title = ek_yearly_events.0096.t
	desc = ek_yearly_events.0096.desc
	theme = feast_activity
	
	left_portrait = {
		character = root
	}
	
	cooldown = { years = yearly_cooldown }

	trigger = {
		scope:activity.activity_owner = {
			NOT = {	culture = { has_cultural_pillar = heritage_goblinken } }
			faith = { has_doctrine = doctrine_pantheon_riddlethar }
		}
	}

	option = { # Bravo!
		name = ek_yearly_events.0096.a
		trigger = { faith = { has_doctrine = doctrine_pantheon_riddlethar } }
		
		stress_impact = { 
			base = -50
			arrogant = major_stress_impact_gain
			impatient = major_stress_impact_gain 
			cynical = major_stress_impact_gain
		}
		random_list = {
		   10 = { add_trait = holy_warrior }
		   90 = { }
		}		
	}

	option = { # Meh
		name = ek_yearly_events.0096.b
		trigger = { faith = { has_doctrine = doctrine_pantheon_riddlethar } }
		add_piety = minor_piety_loss
		stress_impact = { 
			zealous = medium_stress_impact_gain 
			compassionate = medium_stress_impact_gain		
		}

		random_list = {
			   10 = { add_secret = { type = secret_non_believer } }
			   90 = { }
			}						
	}

	option = { # ok
		name = ek_yearly_events.0096.c
		trigger = { faith = { NOT = { has_doctrine = doctrine_pantheon_riddlethar } } }
	}

	after = {
		hidden_effect = {
			feast_wrap_up_or_fire_random_event_effect = yes
		}
	}
}

# A Threnody to Lost Love
ek_yearly_events.0097 = {
	type = character_event
	title = {
		first_valid = {
			triggered_desc = {
				trigger = { current_month = 1 }
				desc = ek_yearly_events.0097.new_life.t 
			} 
			desc = ek_yearly_events.0097.t
		}
	}
	desc = { 
		desc = ek_yearly_events.0097.desc 

		triggered_desc = {
			trigger = {
				NOT = {
					exists = scope:lost_love_memory
					exists = scope:concerned_participant
				}
			}
			desc = ek_yearly_events.0097.desc.empty
		}

		triggered_desc = {
			trigger = {
				exists = scope:lost_love_memory
				NOT = {
					exists = scope:concerned_participant
				}
			}
			desc = ek_yearly_events.0097.desc.saddest
		}

		triggered_desc = {
			trigger = {
				exists = scope:lost_love_memory
				exists = scope:concerned_participant
			}
			desc = ek_yearly_events.0097.desc.friend
		}
	
	}
	theme = feast_activity
	
	left_portrait = {
		character = root
		triggered_animation = {
			trigger = {
				exists = scope:lost_love_memory
			}
			animation = grief
		}
		animation = idle
	}

	right_portrait = {
		trigger = { 
			exists = scope:concerned_participant 
			exists = scope:lost_love_memory
		}
		character = scope:concerned_participant
		animation = worry
	}	

	cooldown = { years = yearly_cooldown }

	trigger = {
		# EK TODO: figure out how this and star-eyed could be different
		#scope:activity.activity_owner = {
		#	culture = { NOT = { has_cultural_pillar = heritage_aldmeri } }
		#}
	}

	immediate = {
		scope:activity.activity_owner = {
			save_scope_as = feast_host
		}

		random_memory = {
			limit = {
				has_memory_category = negative
				has_memory_category = death
			}
		   save_scope_as = lost_love_memory
		}

		scope:activity = {
			random_participant = {
				limit = {
					OR = {
						has_any_good_relationship_with_root_trigger = yes
						has_personality_benevolent_trigger = yes
					}
					is_available_ai_adult = yes
					can_add_hook = {
						target = root
						type = favor_hook
					}
				}
				save_scope_as = concerned_participant
			}
		}
	}

	option = { # please, friend, talk to me.
		name = ek_yearly_events.0097.friend
		trigger = {
			exists = scope:lost_love_memory
			exists = scope:concerned_participant
		}

		#Big stress loss
		stress_impact = {
			base = minor_stress_impact_loss
			gregarious = medium_stress_impact_loss
			trusting = medium_stress_impact_loss
			arrogant = medium_stress_impact_gain
			paranoid = medium_stress_impact_gain
		}

		progress_towards_friend_effect = {
			REASON = friend_free_therapy
			CHARACTER = scope:concerned_participant
			OPINION = 0
		}

		ai_chance = {
			base = 100
			ai_value_modifier = {
				ai_sociability = 1  
			}
		}
	}

	option = { # leave me be
		name = ek_yearly_events.0097.denied
		trigger = {
			exists = scope:lost_love_memory
			exists = scope:concerned_participant
		}

		add_prestige = minor_prestige_gain
		stress_impact = {
			base = 10
			gregarious = medium_stress_impact_gain
		}
		hidden_effect = {
			random_list = {
				10 = { add_trait = depressed_1 }
				20 = { }
			}
		}

		ai_chance = {
			base = 100
			ai_value_modifier = {
				ai_sociability = -1  
			}
		}
	}

	option = { # well shit
		name = ek_yearly_events.0097.worst
		trigger = {
			exists = scope:lost_love_memory
			NOT = {
				exists = scope:concerned_participant
			}
		}

		add_prestige = medium_prestige_loss
		stress_impact = {
			base = 100
		}
		hidden_effect = {
			random_list = {
				20 = { add_trait = depressed_1 }
				10 = { }
			}
		}

		ai_chance = {
			base = 100
			ai_value_modifier = {
				ai_sociability = -1  
			}
		}
	}

	option = { # =/
		trigger = {
			NOT = {
				exists = scope:lost_love_memory
				exists = scope:concerned_participant
			}
		}
		name = ek_yearly_events.0097.a

		stress_impact = { 
			cynical = medium_stress_impact_gain	
			callous = medium_stress_impact_gain
		}		
	}
	
	option = { # boohoo
		trigger = {
			NOT = {
				exists = scope:lost_love_memory
				exists = scope:concerned_participant
			}
		}
		name = ek_yearly_events.0097.b

		add_dread = minor_dread_gain
		stress_impact = { 
			cynical = medium_stress_impact_loss
			callous = medium_stress_impact_loss
		}		
	}

	after = {
		hidden_effect = {
			feast_wrap_up_or_fire_random_event_effect = yes
		}
	}
}

# Nord War Song
ek_yearly_events.0098 = {
	type = character_event
	title = {
		first_valid = {
			triggered_desc = {
				trigger = { current_month = 1 }
				desc = ek_yearly_events.0098.new_life.t 
			} 
			desc = ek_yearly_events.0098.t
		}
	}
	desc = ek_yearly_events.0098.desc
	theme = feast_activity
	left_portrait = {
		character = root
	}

	cooldown = { years = yearly_cooldown }

	trigger = {
		scope:activity.activity_owner = {
			culture = { has_cultural_pillar = heritage_atmoran }
		}
		any_neighboring_and_across_water_top_liege_realm = { tier < root.primary_title.tier	}
	}

	immediate = {
		random_neighboring_and_across_water_top_liege_realm = {
			limit = { tier < root.primary_title.tier }
			save_scope_as = target_title
			holder = {
				save_scope_as = target_character
			}
		}
		scope:activity.activity_owner = {
			save_scope_as = feast_host
		}
	}


	option = { 
		name = {
			text = ek_yearly_events.0098.a.nord
			trigger = {
				culture = { has_cultural_pillar = heritage_atmoran }
			}
		}
		name = {
			text = ek_yearly_events.0098.a.not
			trigger = {
				culture = { NOT = { has_cultural_pillar = heritage_atmoran } }
			}
		}

		add_character_flag = temp_no_claim_war_cost
		start_war = {
			cb = county_conquest_cb
			target = scope:target_title.holder.top_liege
			target_title = scope:target_title
		}
		remove_character_flag = temp_no_claim_war_cost
	}

	option = {
		name = ek_yearly_events.0098.b
		trigger = {
			culture = { has_cultural_pillar = heritage_atmoran }
		}
		add_prestige = medium_prestige_loss
		scope:target_character = {
			add_opinion = {
				modifier = pleased_opinion
				target = root
				opinion = 20
			}
		}
	}

	option = {
		name = ek_yearly_events.0098.c
		trigger = {
			culture = { NOT = { has_cultural_pillar = heritage_atmoran } }
		}
		scope:target_character = {
			add_opinion = {
				modifier = pleased_opinion
				target = root
				opinion = 20
			}
		}
	}

	after = {
		hidden_effect = {
			feast_wrap_up_or_fire_random_event_effect = yes
		}
	}
}

# Old Nord Drinking Song
ek_yearly_events.0099 = {
	type = character_event
	title = {
		first_valid = {
			triggered_desc = {
				trigger = { current_month = 1 }
				desc = ek_yearly_events.0099.new_life.t 
			} 
			desc = ek_yearly_events.0099.t
		}
	}
	desc = ek_yearly_events.0099.desc
	theme = feast_activity
	
	left_portrait = {
		character = root
		animation = happiness
	}	

	cooldown = { years = yearly_cooldown }

	trigger = {
		scope:activity.activity_owner = {
			culture = { has_cultural_pillar = heritage_atmoran }
		}
	}

	option = { # Bravo!
		name = ek_yearly_events.0099.a
		stress_impact = {
			base = -50
			arrogant = medium_stress_impact_gain
			impatient = medium_stress_impact_gain 
			callous = medium_stress_impact_gain		
		}
		random_list = {
			   10 = { add_trait = drunkard }
			   90 = { }
		}		
	}

	option = { # Meh
		name = ek_yearly_events.0099.b
		stress_impact = { 
			humble = medium_stress_impact_gain 
			compassionate = medium_stress_impact_gain		
		}		
	}

	after = {
		hidden_effect = {
			feast_wrap_up_or_fire_random_event_effect = yes
		}
	}
}

# Frelytte and Pular: A Love Song
ek_yearly_events.0100 = {
	type = character_event
	title = {
		first_valid = {
			triggered_desc = {
				trigger = { current_month = 1 }
				desc = ek_yearly_events.0100.new_life.t 
			} 
			desc = ek_yearly_events.0100.t
		}
	}
	desc = ek_yearly_events.0100.desc
	theme = feast_activity
	
	left_portrait = {
		character = root
	}

	right_portrait = {
		character = scope:flirt
		animation = flirtation
	}	

	cooldown = { years = yearly_cooldown }

	trigger = {
		scope:activity.activity_owner = {
			culture = { has_cultural_pillar = heritage_atmoran }
		}
		scope:activity = {
			any_participant = {
				feast_default_participant_trigger = yes
				culture = { has_cultural_pillar = heritage_atmoran }
				OR = {
					is_attracted_to_gender_of = ROOT
					has_perk = unshackled_lust_perk
				}
				NOR = {
					has_trait = chaste
					has_trait = celibate
				}
			}
		}
	}

	immediate = {
		scope:activity = {
			random_participant = {
				limit = {
					feast_default_participant_trigger = yes
					culture = { has_cultural_pillar = heritage_atmoran }
					OR = {
					is_attracted_to_gender_of = ROOT
					has_perk = unshackled_lust_perk
					}
					NOR = {
					has_trait = chaste
					has_trait = celibate
					}
				}
			save_scope_as = flirt
			}
		}
	}
	
	option = { # oh yes
		name = ek_yearly_events.0100.a
		trigger = {
			is_attracted_to_gender_of = scope:flirt
		}

		progress_towards_lover_effect = {
			CHARACTER = scope:flirt
			OPINION = 15
			REASON = lover_feast_crush
		}
		
		if = {
			limit = {
				OR = {
					trait_is_shunned_in_faith_trigger = {
						TRAIT = adulterer
						GENDER_CHARACTER = root
						FAITH = root.faith
					}
					trait_is_criminal_in_faith_trigger = {
						TRAIT = adulterer
						GENDER_CHARACTER = root
						FAITH = root.faith
					}
				}
			}
			stress_impact = {
				zealous = major_stress_impact_gain
				chaste = major_stress_impact_gain
				callous = minor_stress_impact_gain
				cynical = minor_stress_impact_gain
				craven = minor_stress_impact_gain
			}
		}
		else = {
			stress_impact = {
				chaste = major_stress_impact_gain
				callous = minor_stress_impact_gain
				cynical = minor_stress_impact_gain
				craven = minor_stress_impact_gain
			}
		}	
	}

	option = { # sorry but
		name = ek_yearly_events.0100.b
		trigger = {
			NOT = { is_attracted_to_gender_of = scope:flirt }
		}
	}

	option = { # no thanks
		name = ek_yearly_events.0100.c
		trigger = {
			is_attracted_to_gender_of = scope:flirt
		}

		reverse_add_opinion = {
			modifier = disappointed_opinion
			target = scope:flirt
			opinion = -30
		}

		stress_impact = {
			base = 20
			lustful = major_stress_impact_gain
			chaste = massive_stress_impact_loss	
		}	
	}

	after = {
		hidden_effect = {
			feast_wrap_up_or_fire_random_event_effect = yes
		}
	}
}

# The Pale Man
ek_yearly_events.0101 = {
	type = character_event
	title = {
		first_valid = {
			triggered_desc = {
				trigger = { current_month = 1 }
				desc = ek_yearly_events.0101.new_life.t 
			} 
			desc = ek_yearly_events.0101.t
		}
	}
	desc = ek_yearly_events.0101.desc
	theme = feast_activity
	
	left_portrait = {
		character = root
	}	

	cooldown = { years = yearly_cooldown }

	trigger = {
		exists = location.county
		location.county.title_province = {
			geographical_region = mundus_tamriel_skyrim_the_pale
		}
	}

	option = { # shit's scary
		name = ek_yearly_events.0101.a

		trigger = {
			NOT = { has_trait = brave }
		}

		add_prestige = medium_prestige_loss
		
		stress_impact = { 
			craven = major_stress_impact_loss
		}	
	}
	
	option = { # brave option
		name = ek_yearly_events.0101.b

		trigger = {
			has_trait = brave
		}
		add_prestige = medium_prestige_gain
		stress_impact = { 
			base = -50
			craven = major_stress_impact_gain
		}		
	}

	option = { # pretend to be brave
		name = ek_yearly_events.0101.c

		trigger = {
			NOT = { has_trait = brave }
		}

		stress_impact = { 
			base = 50
			craven = major_stress_impact_gain
		}		
	}

	after = {
		hidden_effect = {
			feast_wrap_up_or_fire_random_event_effect = yes
		}
	}
}

# Hail to the Ancient Spirits
ek_yearly_events.0102 = {
	type = character_event
	title = ek_yearly_events.0102.t
	desc = ek_yearly_events.0102.desc
	theme = feast_activity
	
	left_portrait = {
		character = root
	}
	
	cooldown = { years = yearly_cooldown }

	trigger = {
		scope:activity.activity_owner = {
			NOT = {	culture = { has_cultural_pillar = heritage_goblinken } }
			has_religion = religion:reach_religion
		}
	}

	immediate = {
		scope:activity.activity_owner = {
			save_scope_as = feast_host
		}
	}

	option = { # Bravo!
		name = ek_yearly_events.0102.a
		trigger = { has_religion = religion:reach_religion }
		
		stress_impact = { 
			base = -50
			arrogant = major_stress_impact_gain
			impatient = major_stress_impact_gain 
			cynical = major_stress_impact_gain
		}
		random_list = {
		   10 = { add_trait = holy_warrior }
		   90 = { }
		}		
	}

	option = { # Meh
		name = ek_yearly_events.0102.b
		trigger = { has_religion = religion:reach_religion }
		add_piety = minor_piety_loss
		stress_impact = { 
			zealous = medium_stress_impact_gain 
			compassionate = medium_stress_impact_gain		
		}

		random_list = {
			10 = { add_secret = { type = secret_non_believer } }
			90 = { }
		}						
	}

	option = { # ok
		name = ek_yearly_events.0102.c
		trigger = { NOT = { has_religion = religion:reach_religion } }
	}

	after = {
		hidden_effect = {
			feast_wrap_up_or_fire_random_event_effect = yes
		}
	}
}

# Reach Hunting Hymn
ek_yearly_events.0103 = {
	type = character_event
	title = ek_yearly_events.0103.t
	desc = ek_yearly_events.0103.desc
	theme = feast_activity
	left_portrait = {
		character = root
	}

	cooldown = { years = yearly_cooldown }
		
	trigger = {
		scope:activity.activity_owner = {
			NOT = {	culture = { has_cultural_pillar = heritage_goblinken } }
			has_religion = religion:reach_religion
		}
	}

	option = { 
		name = ek_yearly_events.0103.a
		custom_tooltip = fp1_yearly.2400.free_hunt
		hidden_effect = {
			add_character_flag = {
				flag = free_hunt
			}
		}
	}

	option = {
		name = ek_yearly_events.0103.b
		trigger = {
			has_religion = religion:reach_religion
		}
		add_prestige = medium_prestige_loss
	}

	option = {
		name = ek_yearly_events.0103.c
		trigger = {
			NOT = { has_religion = religion:reach_religion }
		}
	}

	after = {
		hidden_effect = {
			feast_wrap_up_or_fire_random_event_effect = yes
		}
	}
}

# Reach Witch Chant
ek_yearly_events.0104 = {
	type = character_event
	title = ek_yearly_events.0104.t
	desc = ek_yearly_events.0104.desc
	theme = feast_activity
	
	left_portrait = {
		character = root
	}

	right_portrait = {
		character = scope:witch
	}
	
	cooldown = { years = yearly_cooldown }

	trigger = {
		scope:activity.activity_owner = {
			NOT = {	culture = { has_cultural_pillar = heritage_goblinken } }
			has_religion = religion:reach_religion
		}
		scope:activity = {
			any_participant = {
				feast_default_participant_trigger = yes
				has_religion = religion:reach_religion
				has_trait = witch
			}
		}
	}

	immediate = {
		scope:activity = {
			random_participant = {
				limit = {
					feast_default_participant_trigger = yes
					has_religion = religion:reach_religion
					has_trait = witch
				}
				save_scope_as = witch
			}
		}
	}

	option = { # Bravo!
		name = ek_yearly_events.0104.a
		trigger = { has_religion = religion:reach_religion }
		
		if = {
			limit = {
				has_trait = witch
			}
			add_piety = minor_piety_gain
		}
		else = {	
			add_trait = witch
		}
		scope:witch = {
			add_opinion = {
				modifier = impressed_opinion
				target = root
				opinion = 20
			}
		}
		
	}

	option = { # witching is cool
		name = ek_yearly_events.0104.b
		trigger = {
			NOT = {	
				faith = {
					has_doctrine_parameter = witchcraft_accepted
				}
			}
		}	

		scope:witch = {
			add_opinion = {
				modifier = impressed_opinion
				target = root
				opinion = 20
			}
		}		
		if = {
			limit = {
				NOR = {
					has_trait = witch
					any_secret = { secret_type = secret_witch }
				}
			}
			if = {
				limit = {
					NOT = {	
						faith = {
							has_doctrine_parameter = witchcraft_accepted
						}
					}
				}
				add_secret = {
					type = secret_witch
				}
			}
			else = {
				add_trait = witch
				add_piety_level = -1
			}	
		}
	}

	option = { # Meh
		name = ek_yearly_events.0104.c
		trigger = { has_religion = religion:reach_religion }
		add_piety = minor_piety_loss
		stress_impact = { 
			zealous = medium_stress_impact_gain 
		}

		reverse_add_opinion = {
			modifier = disappointed_opinion
			target = scope:witch
			opinion = -30
		}

		random_list = {
			10 = { add_secret = { type = secret_non_believer } }
			90 = { }
		}						
	}

	option = { # ok
		name = ek_yearly_events.0104.d
		trigger = { NOT = { has_religion = religion:reach_religion } }
	}

	after = {
		hidden_effect = {
			feast_wrap_up_or_fire_random_event_effect = yes
		}
	}
}

# Red Eagle's Song
ek_yearly_events.0105 = {
	type = character_event
	title = {
		first_valid = {
			triggered_desc = {
				trigger = { current_month = 1 }
				desc = ek_yearly_events.0105.new_life.t 
			} 
			desc = ek_yearly_events.0105.t
		}
	}
	desc = ek_yearly_events.0105.desc
	theme = feast_activity
	
	left_portrait = {
		character = root
	}
	
	cooldown = { years = yearly_cooldown }

	trigger = {
		NOT = {	culture = { has_cultural_pillar = heritage_goblinken } }
		scope:activity.activity_owner = {
			culture = { has_cultural_pillar = heritage_nedic_north }
		}
	}

	immediate = {
		scope:activity.activity_owner = {
			save_scope_as = feast_host
		}
	}

	option = { # fuck yeah faolan
		name = ek_yearly_events.0105.a
		trigger = {
			culture = { has_cultural_pillar = heritage_nedic_north }
		}
		add_prestige = medium_prestige_gain
		# EK TODO: trigger briarheart events through here as well
		stress_impact = { 
			base = -50
			arrogant = medium_stress_impact_gain
			impatient = medium_stress_impact_gain 
			cynical = medium_stress_impact_gain
		}
		random_list = {
		   10 = { add_trait = holy_warrior }
		   90 = { }
		}		
	}

	option = { # wtf
		name = ek_yearly_events.0105.b
		trigger = {
			culture = { NOT = { has_cultural_pillar = heritage_nedic_north } }
		}

		stress_impact = { 
			base = 50
			arrogant = medium_stress_impact_gain
			impatient = medium_stress_impact_gain 
			zealous = medium_stress_impact_gain
		}
		add_opinion = {
			target = scope:activity.activity_owner
			modifier = cruelty_opinion
			opinion = -20
		}
		add_piety = minor_piety_gain
	}

	option = { # is ok
		name = ek_yearly_events.0105.c
		add_piety = minor_piety_loss
		stress_impact = {
			compassionate = medium_stress_impact_loss	
		}						
	}

	after = {
		hidden_effect = {
			feast_wrap_up_or_fire_random_event_effect = yes
		}
	}
}

# Across the Niben Bar
ek_yearly_events.0106 = {
	type = character_event
	title = {
		first_valid = {
			triggered_desc = {
				trigger = { current_month = 1 }
				desc = ek_yearly_events.0106.new_life.t 
			} 
			desc = ek_yearly_events.0106.t
		}
	}
	desc = {
		desc = ek_yearly_events.0106.desc_opening
		first_valid = {
			triggered_desc = {
				trigger = {
					scope:adventurer = { is_close_family_of = root }
				}
				desc = ek_yearly_events.0106.desc_family
			}
			desc = ek_yearly_events.0106.desc
		}
		desc = ek_yearly_events.0106.desc_ending
	}
	theme = feast_activity
	left_portrait = {
		character = scope:adventurer
		animation = personality_bold
	}

	cooldown = { years = yearly_cooldown }
	
	trigger = {
		scope:activity = {
			any_participant = {
				feast_default_participant_trigger = yes
				is_alive = yes
				is_courtier_of = root
				ep1_is_valid_character_for_inspiration_trigger = yes
			}
		}
		scope:activity.activity_owner = {
			OR = {
				location = { geographical_region = custom_nativity_nibenay_basin }
				location = { geographical_region = custom_nativity_nibenese_lowlands }
			}
		}
	}

	on_trigger_fail = {
		# If it's just because they can't have an inspiration we trigger the "failure" event
		trigger_event = ek_yearly_events.0107
	}

	immediate = {
		scope:activity = {
			random_participant = {
				limit = {
					feast_default_participant_trigger = yes
					is_alive = yes
					is_courtier_of = root
					ep1_is_valid_character_for_inspiration_trigger = yes
				}
				save_scope_as = adventurer
			}
		}
		#We need to save the scopes to be able to use the fund inspiration effect properly
		save_scope_as = actor
		scope:adventurer = { save_scope_as = recipient }
	}

	option = { #Sponsor them
		name = ek_yearly_events.0106.a
		hidden_effect = { grant_inspiration_to_character_effect = { CHARACTER = scope:adventurer } }
		custom_tooltip = adventurer_inspiration
	}

	option = { #Don't sponsor
		name = ek_yearly_events.0106.b
		scope:adventurer = {
			add_opinion = {
				target = root
				modifier = disappointed_opinion
				opinion = -20
			}
		}
	}
	after = {
		hidden_effect = {
			feast_wrap_up_or_fire_random_event_effect = yes
		}
	}
}

# Across the Niben Bar - No Inspiration
ek_yearly_events.0107 = {
	type = character_event
	title = {
		first_valid = {
			triggered_desc = {
				trigger = { current_month = 1 }
				desc = ek_yearly_events.0107.new_life.t 
			} 
			desc = ek_yearly_events.0107.t
		}
	}
	desc = ek_yearly_events.0107.desc
	theme = feast_activity
	
	left_portrait = {
		character = root
		animation = happiness
	}	

	cooldown = { years = yearly_cooldown }

	trigger = {
		scope:activity.activity_owner = {
			OR = {
				location = { geographical_region = custom_nativity_nibenay_basin }
				location = { geographical_region = custom_nativity_nibenese_lowlands }
			}
		}
	}

	option = { # Bravo!
		name = ek_yearly_events.0107.a
		stress_impact = {
			base = -50
			arrogant = medium_stress_impact_gain
			impatient = medium_stress_impact_gain 
			callous = medium_stress_impact_gain		
		}
		random_list = {
			   10 = { add_trait = drunkard }
			   90 = { }
		}		
	}

	option = { # Meh
		name = ek_yearly_events.0107.b
		stress_impact = { 
			humble = medium_stress_impact_gain 
			compassionate = medium_stress_impact_gain		
		}		
	}

	after = {
		hidden_effect = {
			feast_wrap_up_or_fire_random_event_effect = yes
		}
	}
}

# Imperial Deception Song
ek_yearly_events.0108 = {
	type = character_event
	title = {
		first_valid = {
			triggered_desc = {
				trigger = { current_month = 1 }
				desc = ek_yearly_events.0108.new_life.t 
			} 
			desc = ek_yearly_events.0108.t
		}
	}
	desc = ek_yearly_events.0108.desc
	theme = feast_activity
	
	left_portrait = {
		character = root
		animation = happiness
	}	

	cooldown = { years = yearly_cooldown }

	trigger = {
		scope:activity.activity_owner = {
			culture = {
				OR = {
					this = culture:blackwood
					any_parent_culture_or_above = { this = culture:blackwood }
					this = culture:nibenese
					any_parent_culture_or_above = { this = culture:nibenese }
				}
			}
			OR = {
				location = { geographical_region = custom_nativity_nibenay_basin }
				location = { geographical_region = custom_nativity_nibenese_lowlands }
			}
		}
	}

	immediate = {
		scope:activity.activity_owner = {
			save_scope_as = feast_host
		}
		scope:activity.activity_owner = {
			primary_title = {
				save_scope_as = disputed_title
			}
		}
	}

	option = { # Bravo!
		name = ek_yearly_events.0108.a
		trigger = {
			NOT = { has_trait = cynical }
			ROOT = {
				culture = {
					OR = {
						this = culture:blackwood
						any_parent_culture_or_above = { this = culture:blackwood }
						this = culture:nibenese
						any_parent_culture_or_above = { this = culture:nibenese }
					}
				}
			}
		}
		add_character_modifier = {
			modifier = ek_yearly_events_sang_deception
			days = 3650
		}
		stress_impact = {
			base = -50
			cynical = medium_stress_impact_gain
			humble = medium_stress_impact_gain 
			compassionate = medium_stress_impact_gain
		}	
	}

	option = { # rather not
		name = ek_yearly_events.0108.b
		trigger = {
			ROOT = {
				culture = {
					OR = {
						this = culture:blackwood
						any_parent_culture_or_above = { this = culture:blackwood }
						this = culture:nibenese
						any_parent_culture_or_above = { this = culture:nibenese }
					}
				}
			}
		}
		
		stress_impact = {
			base = 50
			cynical = medium_stress_impact_loss
			humble = medium_stress_impact_loss
			compassionate = medium_stress_impact_loss
		}	
	}

	option = { # holy shit
		name = ek_yearly_events.0108.c
		trigger = {
			culture = {
				has_cultural_pillar = heritage_cyrodiilic
			}
			ROOT = {
				culture = {
					OR = {
						this = culture:blackwood
						any_parent_culture_or_above = { this = culture:blackwood }
						this = culture:nibenese
						any_parent_culture_or_above = { this = culture:nibenese }
					}
				}
			}
		}
		
		
		random_list = {
			10 = { add_unpressed_claim = scope:disputed_title }
			90 = { }
		}

		add_opinion = {
			modifier = insulted_opinion
			target = scope:activity.activity_owner
			opinion = -50
		}

		stress_impact = {
			base = 50
		}	
	}

	option = { # Meh
		name = ek_yearly_events.0108.d
		
		
		stress_impact = { 
			humble = medium_stress_impact_gain 
			compassionate = medium_stress_impact_gain	
			cynical = medium_stress_impact_loss	
		}		
	}

	after = {
		hidden_effect = {
			feast_wrap_up_or_fire_random_event_effect = yes
		}
	}
}

# May Disaster Turn Away
ek_yearly_events.0109 = {
	type = character_event
	title = {
		first_valid = {
			triggered_desc = {
				trigger = { current_month = 1 }
				desc = ek_yearly_events.0109.new_life.t 
			} 
			desc = ek_yearly_events.0109.t
		}
	}
	desc = ek_yearly_events.0109.desc
	theme = feast_activity
	
	left_portrait = {
		character = root
	}
	
	cooldown = { years = yearly_cooldown }

	trigger = {
		faith = {
			OR = {
				has_doctrine_parameter = worship_mehrunes_shunned_active
				has_doctrine_parameter = worship_mehrunes_criminal_active
			}
		}
		NOT = {	has_trait = p_ob_mehrunes }
		NOT = {	culture = { has_cultural_pillar = heritage_goblinken } }
	}


	option = { # Bravo!
		name = ek_yearly_events.0109.a
		small_praxis_increase_effect = yes
		
		stress_impact = { 
			base = medium_stress_impact_loss
			arrogant = medium_stress_impact_gain
			impatient = medium_stress_impact_gain 
			cynical = medium_stress_impact_gain
		}
		random_list = {
		   10 = {
				trigger = { exists = capital_county }
				capital_county = { change_development_level = 1 } 
			}
		   90 = { }
		}		
	}

	option = { # Meh
		name = ek_yearly_events.0109.b
		add_piety = minor_piety_loss
		stress_impact = { 
			zealous = medium_stress_impact_gain 
			compassionate = medium_stress_impact_gain		
		}
		random_list = {
			   10 = { add_character_modifier = mehrunes_attention }
			   90 = { }
			}						
	}

	after = {
		hidden_effect = {
			feast_wrap_up_or_fire_random_event_effect = yes
		}
	}
}

# On Topal Bay
ek_yearly_events.0110 = {
	type = character_event
	title = {
		first_valid = {
			triggered_desc = {
				trigger = { current_month = 1 }
				desc = ek_yearly_events.0110.new_life.t 
			} 
			desc = ek_yearly_events.0110.t
		}
	}
	desc = ek_yearly_events.0110.desc
	theme = feast_activity
	
	left_portrait = {
		character = root
	}	

	cooldown = { years = yearly_cooldown }

	trigger = {
		scope:activity.activity_owner = {
			OR = {
				location = { geographical_region = custom_nativity_nibenay_basin }
				location = { geographical_region = custom_nativity_nibenese_lowlands }
			}
		}
	}

	immediate = {
		scope:activity.activity_owner = {
			save_scope_as = feast_host
		}
	}

	option = { # to love on topal bay
		name = ek_yearly_events.0110.a

				
		stress_impact = { 
			base = medium_stress_impact_loss
			cynical = medium_stress_impact_gain
			callous = medium_stress_impact_gain
		}	
	}
	
	option = { # cope and seethe
		name = ek_yearly_events.0110.b


		stress_impact = { 
			cynical = medium_stress_impact_loss		
		}		
	}

	after = {
		hidden_effect = {
			feast_wrap_up_or_fire_random_event_effect = yes
		}
	}
}

# Old lady gives you a thankful gift
ek_yearly_events.0111 = {
	type = character_event
	title = ek_yearly_events.0111.t
	desc = ek_yearly_events.0111.desc
	theme = stewardship_domain_focus
	
	cooldown = { years = yearly_cooldown }

	left_portrait = {
		character = root
	}

	right_portrait = {
		character = scope:old_lady
		animation = happiness
	}	

	trigger = {
		any_artifact = {
			count < 1
			has_artifact_modifier = meridias_beacon_modifier
		}
		OR = {
			root.capital_county.county_opinion > 80
			has_character_modifier = meridias_attention
		}
	}

	weight_multiplier = {
		base = 1
		modifier = {
			add = 100
			has_trait = trusting
		}
	}

	immediate = {
		create_character = {
			location = root.capital_province
			age = { 55 65 }
			gender = female
			dynasty = none
			trait = education_learning_3
			trait = mystic_3
			trait = shrewd
			faith = faith:meridia_cult
			culture = root.culture
			learning = { 12 14 }
			save_scope_as = old_lady
		}
	}

	# thanks old lady!
	option = {
		name = ek_yearly_events.0111.a
		add_piety = minor_piety_loss
		create_artifact_meridias_beacon_effect = { OWNER = root }
		hidden_effect = {
			if = {
				limit = {
					OR = {
						is_necromancer = yes
						is_undead = yes
						is_vampire = yes
					}
				}
				random_list = {
					99 = { death = { death_reason = death_meridia }	}
					1 = { }
				}
			}
		}
		
	}

	# you need it more than i do
	option = {
		name = ek_yearly_events.0111.b
		add_piety = minor_piety_gain
		small_praxis_increase_effect = yes
	}

	# burn her
	option = {
		name = ek_yearly_events.0111.c
		add_dread = medium_dread_gain
		scope:old_lady = {
			death = {
				death_reason = death_burned
				killer = ROOT
			}
		}
	}
}

# Death-Maker
ek_yearly_events.0112 = { 
	type = character_event
	title = ek_yearly_events.0112.t
	desc = ek_yearly_events.0112.desc
	theme = dread
	left_portrait = root
	
	trigger = {
		
		OR = { # Has no nickname or a bad nickname
			has_any_nickname = no
			has_bad_nickname = yes
		}
		OR = { # high dread/torturer
			dread >= high_dread
			has_perk = torturer_perk
		}
		NOR = {
			has_character_flag = had_nickname_event
			has_trait = humble
			has_trait = content
			has_trait = shy
		}
		AND = {
			piety_level >= high_piety_level
			faith = {
				has_doctrine = tenet_human_sacrifice
			}
			culture = { has_cultural_pillar = heritage_argonian }
		}
	}

	weight_multiplier = {
		base = 1
		modifier = {
			factor = 3
			OR = {
				has_trait = arrogant
				has_trait = ambitious
			}
		}
	}
	
	immediate = {
		add_character_flag = {
			flag = had_nickname_event
		}
	}


	option = { # deathmaker
		name = ek_yearly_events.0112.a
		
		set_nickname_effect = { NICKNAME = nick_deathmaker }
		add_prestige = medium_prestige_gain
		
		ai_chance = {
			base = 100
		}
	}

	option = { # no thanks
		name = ek_yearly_events.0112.b
		
		add_piety = medium_piety_gain
	}
}

# An Unexpected Visit
ek_yearly_events.0113 = { 
	type = character_event
	title = ek_yearly_events.0113.t
	desc = ek_yearly_events.0113.desc
	theme = diplomacy
	left_portrait = root
	right_portrait = scope:chief
	
	cooldown = { years = yearly_cooldown }

	trigger = {
		NOT = {
			culture = { has_cultural_pillar = heritage_goblinken }
		}
		any_held_county = {
			any_neighboring_county = {
				culture = { has_cultural_pillar = heritage_goblinken }
			}
		}
		any_neighboring_top_liege_realm_owner = {
			culture = { has_cultural_pillar = heritage_goblinken }
			NOR =  {
				is_at_war_with = ROOT
				has_truce = ROOT
				is_allied_to = ROOT
			}
		}
	}

	immediate = {
		random_held_county = {
			limit = {
				any_neighboring_county = {
					culture = { has_cultural_pillar = heritage_goblinken }
				}
			}
			random_neighboring_county = {
				limit = { culture = { has_cultural_pillar = heritage_goblinken } }
				save_scope_as = chief_county
			}
		}
		random_neighboring_top_liege_realm_owner = {
			limit = {
				culture = { has_cultural_pillar = heritage_goblinken }
				NOR =  {
					is_at_war_with = ROOT
					has_truce = ROOT
					is_allied_to = ROOT
				}
			}
			save_scope_as = chief
		}
		if = { #EK EDIT, accounted for new Speaker court position
			limit = {
				employs_court_position = speaker_court_position
				any_court_position_holder = {
					type = speaker_court_position
					is_available_healthy_ai_adult = yes
				}
			}
			random_court_position_holder = {
				type = speaker_court_position
				limit = {
					is_available_healthy_ai_adult = yes
				}
				save_scope_as = speaker
			}
		}
	}


	option = { # offer them riches
		name = ek_yearly_events.0113.a
		remove_short_term_gold = medium_gold_value
		moderate_praxis_decrease_effect = yes
		duel = {
			skill = diplomacy
			value = decent_skill_rating
			10 = {
				desc = ek_yearly_events.0113.a.success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				send_interface_toast = {
					left_icon = root
					type = event_toast_effect_good
					title = tooltip.ek_yearly_events.0113.a.success
					add_prestige = medium_prestige_gain
					add_truce_both_ways = {
						character = scope:chief
						days = 3650
						name = TRUCE_RESPECTED_CULTURE
					}
					culture = {
						change_cultural_acceptance = {
							target = scope:chief.culture
							value = medium_positive_culture_acceptance
							desc = cultural_acceptance_event
						}
					}
				}
			}
			
			5 = {
				desc = ek_yearly_events.0113.a.failure
				send_interface_toast = {
					left_icon = root
					type = event_toast_effect_bad
					title = tooltip.ek_yearly_events.0113.a.failure
					add_prestige = medium_prestige_loss
					scope:chief = {
						add_unpressed_claim = root.primary_title
					}
					culture = {
						change_cultural_acceptance = {
							target = scope:chief.culture
							value = medium_negative_culture_acceptance
							desc = cultural_acceptance_event
						}
					}
				}
			}
		}
	}

	option = { # offer them riches - Speaker
		name = ek_yearly_events.0113.a.speaker
		remove_short_term_gold = medium_gold_value
		moderate_praxis_decrease_effect = yes
		flavor = ek_yearly_events.0113.a.speaker.flavor
		add_internal_flag = special
		trigger = {
			exists = scope:speaker
		}
		scope:speaker = {
			duel = {
				skill = diplomacy
				value = decent_skill_rating
				10 = {
					desc = ek_yearly_events.0113.a.success
					compare_modifier = {
						value = scope:duel_value
						multiplier = 1
					}
					send_interface_toast = {
						left_icon = root
						type = event_toast_effect_good
						title = tooltip.ek_yearly_events.0113.a.success
						root = {
							add_prestige = medium_prestige_gain
							add_truce_both_ways = {
								character = scope:chief
								days = 3650
								name = TRUCE_RESPECTED_CULTURE
							}
						}	
						root.culture = {
							change_cultural_acceptance = {
								target = scope:chief.culture
								value = medium_positive_culture_acceptance
								desc = cultural_acceptance_event
							}
						}
					}
				}
				
				5 = {
					desc = ek_yearly_events.0113.a.failure
					send_interface_toast = {
						left_icon = root
						type = event_toast_effect_bad
						title = tooltip.ek_yearly_events.0113.a.failure
						root = { add_prestige = medium_prestige_loss }
						scope:chief = {
							add_unpressed_claim = root.primary_title
						}
						root.culture = {
							change_cultural_acceptance = {
								target = scope:chief.culture
								value = medium_negative_culture_acceptance
								desc = cultural_acceptance_event
							}
						}
					}
				}
			}
			stress_impact = {
				shy = minor_stress_impact_loss	
			}
		}	
	}

	option = { # show them around
		name = ek_yearly_events.0113.b
		moderate_praxis_decrease_effect = yes
		culture = {
			change_cultural_acceptance = {
				target = scope:chief.culture
				value = low_positive_culture_acceptance
				desc = cultural_acceptance_event
			}
		}
	}

	option = { # just murder them on the spot
		name = ek_yearly_events.0113.c
		add_dread = medium_dread_gain
		scope:chief = {
			death = { killer = ROOT death_reason = death_murder } 
		}
		scope:chief = {
			add_unpressed_claim = root.primary_title
		}
		culture = {
			change_cultural_acceptance = {
				target = scope:chief.culture
				value = medium_negative_culture_acceptance
				desc = cultural_acceptance_event
			}
		}
	}
}

# An Unexpected Visit - Goblin Version
ek_yearly_events.0114 = { 
	type = character_event
	title = ek_yearly_events.0113.t
	desc = ek_yearly_events.0114.desc
	theme = diplomacy
	left_portrait = root
	right_portrait = scope:chief

	cooldown = { years = yearly_cooldown }
	
	trigger = {
		culture = { has_cultural_pillar = heritage_goblinken }
		any_held_county = {
			any_neighboring_county = {
				culture = { NOT = { has_cultural_pillar = heritage_goblinken } }
			}
		}
		any_neighboring_top_liege_realm_owner = {
			culture = { NOT = { has_cultural_pillar = heritage_goblinken } }
			NOR =  {
				is_at_war_with = ROOT
				has_truce = ROOT
				is_allied_to = ROOT
			}
		}
	}

	immediate = {
		capital_county = {
			random_neighboring_county = {
				limit = {culture = { NOT = { has_cultural_pillar = heritage_goblinken } }}
				save_scope_as = chief_county
			}
		}
		random_neighboring_top_liege_realm_owner = {
			limit = {
				culture = { NOT = { has_cultural_pillar = heritage_goblinken } }
				NOR =  {
					is_at_war_with = ROOT
					has_truce = ROOT
					is_allied_to = ROOT
				}
			}
			save_scope_as = chief
		}
	}


	option = { # offer them riches
		name = ek_yearly_events.0114.a
		remove_short_term_gold = medium_gold_value
		duel = {
			skill = diplomacy
			value = decent_skill_rating
			10 = {
				desc = ek_yearly_events.0114.a.success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				send_interface_toast = {
					left_icon = root
					type = event_toast_effect_good
					title = tooltip.ek_yearly_events.0113.a.success
					add_prestige = medium_prestige_gain
					add_truce_both_ways = {
						character = scope:chief
						days = 3650
						name = TRUCE_RESPECTED_CULTURE
					}
					culture = {
						change_cultural_acceptance = {
							target = scope:chief.culture
							value = medium_positive_culture_acceptance
							desc = cultural_acceptance_event
						}
					}
				}
			}
			
			5 = {
				desc = ek_yearly_events.0113.a.failure
				send_interface_toast = {
					left_icon = root
					type = event_toast_effect_bad
					title = tooltip.ek_yearly_events.0113.a.failure
					add_prestige = medium_prestige_loss
					scope:chief = {
						add_unpressed_claim = root.primary_title
					}
					death = { killer = scope:chief death_reason = death_murder }
					culture = {
						change_cultural_acceptance = {
							target = scope:chief.culture
							value = medium_negative_culture_acceptance
							desc = cultural_acceptance_event
						}
					}
				}
			}
		}
	}

	option = { # show them around
		name = ek_yearly_events.0114.b
		culture = {
			change_cultural_acceptance = {
				target = scope:chief.culture
				value = low_positive_culture_acceptance
				desc = cultural_acceptance_event
			}
		}
	}

	option = { # just murder them on the spot
		name = ek_yearly_events.0114.c
		add_dread = medium_dread_gain
		scope:chief = {
			death = { killer = ROOT death_reason = death_murder } 
		}
		scope:chief = {
			add_unpressed_claim = root.primary_title
		}
		culture = {
			change_cultural_acceptance = {
				target = scope:chief.culture
				value = medium_negative_culture_acceptance
				desc = cultural_acceptance_event
			}
		}
	}
}

# Rotmeth Dilemma

ek_yearly_events.0115 = { 
	type = character_event
	title = {
		first_valid = {
			triggered_desc = {
				trigger = { current_month = 1 }
				desc = ek_yearly_events.0115.new_life.t 
			} 
			desc = ek_yearly_events.0115.t
		}
	}
	desc = ek_yearly_events.0115.desc
	theme = feast_activity
	
	left_portrait = {
		character = root
		animation = happiness
	}	

	cooldown = { years = yearly_cooldown }

	trigger = {
		NOT = { 
			faith = { has_doctrine = tenet_green_pact }
			scope:activity.activity_owner = ROOT
		}
		scope:activity.activity_owner = {
			faith = { has_doctrine = tenet_green_pact }
		}
	}

	immediate = {
		scope:activity.activity_owner = {
			save_scope_as = feast_host
		}
	}
	
	option = { # ugh fine
		name = ek_yearly_events.0115.a
		trigger = {
			NOT = {
				has_trait = lifestyle_reveler
				has_trait = drunkard
			}
		}
		small_praxis_decrease_effect = yes
		scope:activity = {
			every_participant = {
				custom = ek_yearly_events.0115.a.gp
				limit = {
					feast_default_participant_trigger = yes
					faith = { has_doctrine = tenet_green_pact }
				}
				add_opinion = {
				modifier = pleased_opinion
				target = root
				opinion = 20
				}
			}
		}

		stress_impact = { 
			base = 50
			humble = major_stress_impact_loss
			compassionate = major_stress_impact_loss	
		}		
	}

	option = { # oh hell no
		name = ek_yearly_events.0115.b
		trigger = {
			NOT = {
				has_trait = lifestyle_reveler
				has_trait = drunkard
			}
		}
		scope:activity = {
			every_participant = {
				custom = ek_yearly_events.0115.a.gp
				limit = {
					feast_default_participant_trigger = yes
					faith = { has_doctrine = tenet_green_pact }
				}
				add_opinion = {
				modifier = disappointed_opinion
				target = root
				opinion = -20
				}
			}
		}
		
		stress_impact = { 
			arrogant = medium_stress_impact_loss
			callous = medium_stress_impact_loss		
		}		
	}

	option = { # sneaky sneaky
		name = ek_yearly_events.0115.c
		trait = drunkard
		trigger = {
			OR = {
				has_trait = lifestyle_reveler
				has_trait = drunkard
			}
		}
		add_prestige = minor_prestige_gain
		scope:activity = {
			every_participant = {
				custom = ek_yearly_events.0115.a.nongp
				limit = {
					feast_default_participant_trigger = yes
					faith = { NOT = { has_doctrine = tenet_green_pact } }
				}
				add_opinion = {
				modifier = pleased_opinion
				target = root
				opinion = 20
				}
			}
		}
		
		stress_impact = { 
			gregarious = medium_stress_impact_loss
		}		
	}

	after = {
		hidden_effect = {
			feast_wrap_up_or_fire_random_event_effect = yes
		}
	}
}

# Dreugh Egg Smugglers on Craglorn for some reason
ek_yearly_events.0116 = {
	type = character_event
	title = ek_yearly_events.0116.t
	desc = ek_yearly_events.0116.desc
	theme = corruption
	
	left_portrait = {
		character = root
		animation = worry
	}	

	cooldown = { years = yearly_cooldown }

	trigger = {
		location = { geographical_region = mundus_tamriel_hammerfell_craglorn }
		any_targeting_faction = {
			exists = yes
			NOT = { exists = faction_war }
			faction_is_type = crisis_bandit_faction
		}
	}

	immediate = {
		random_targeting_faction = {
			limit = {
				NOT = { exists = faction_war }
				faction_is_type = crisis_bandit_faction
			}
			save_scope_as = smuggling_faction
		}
	}
	
	option = { # let them be
		name = ek_yearly_events.0116.a
		hidden_effect = { 
			random_list = {
				50 = {
				   send_interface_toast = {
						left_icon = root
						type = event_toast_effect_good
						title = tooltip.ek_yearly_events.0116.a.success
						add_prestige = minor_prestige_gain
						root.capital_county = {
							add_county_modifier = { modifier = dreugh_smugglers_positive }
							change_county_control = -10
						}
						scope:smuggling_faction = {
							add_faction_discontent = -15
						}
			    	}
				}
				50 = {
				    send_interface_toast = {
						left_icon = root
						type = event_toast_effect_bad
						title = tooltip.ek_yearly_events.0116.a.failure
						add_prestige = minor_prestige_loss
						root.capital_county = {
							add_county_modifier = { modifier = dreugh_smugglers_negative }
							change_county_control = -10
						}
						scope:smuggling_faction = {
							add_faction_discontent = 15
						}
					}  
				}		 
			}
		}
	}


	option = { # shut them off
		name = ek_yearly_events.0116.b
		hidden_effect = { 
			random_list = {
			   25 = {
				   send_interface_toast = {
						left_icon = root
						type = event_toast_effect_good
						title = tooltip.ek_yearly_events.0116.b.success
						add_prestige = minor_prestige_gain
						add_dread = minor_dread_gain
						root.capital_county = {
							add_county_modifier = { modifier = dreugh_smugglers_dread_positive }
							change_county_control = 10
						}
						scope:smuggling_faction = {
							add_faction_discontent = -15
						}
					}
			    }
			   50 = {
				    send_interface_toast = {
						left_icon = root
						type = event_toast_effect_bad
						title = tooltip.ek_yearly_events.0116.b.failure
						add_prestige = minor_prestige_loss
						add_dread = minor_dread_gain
						root.capital_county = {
							add_county_modifier = { modifier = dreugh_smugglers_dread_negative }
							change_county_control = 10
						}
						scope:smuggling_faction = {
							add_faction_discontent = 15
						}
					}  
				}		 
			}
		}
	}

	option = { # make it legal
		name = ek_yearly_events.0116.c
		trigger = { stewardship > 9 }
		skill = stewardship
		send_interface_toast = {
			left_icon = root
			type = event_toast_effect_good
			title = tooltip.ek_yearly_events.0116.c.success
			add_prestige = minor_prestige_gain
			add_dread = minor_dread_gain
			root.capital_county = {
				add_county_modifier = { modifier = dreugh_smugglers_legal }
				change_county_control = 10
			}
			scope:smuggling_faction = {
				add_faction_discontent = -15
			}
		}
	}
}

# The Mystery of Razak
ek_yearly_events.0117 = {
	type = character_event
	title = ek_yearly_events.0117.t
	desc = ek_yearly_events.0117.desc
	theme = learning
	
	left_portrait = {
		character = root
	}

	right_portrait = {
		character = scope:scholarly_courtier
		animation = beg
	}

	cooldown = { years = yearly_cooldown }

	trigger = {
		NOT = { has_global_variable = ek_razak }
		has_title = title:c_onsi
		any_courtier = {
			is_available_ai_adult = yes
			learning > 10
		}
	}

	immediate = {
		random_courtier = {
			limit = {
				is_available_ai_adult = yes
				learning > 10
			}
			save_scope_as = scholarly_courtier
		}
	}

	option = { # accept
		name = ek_yearly_events.0117.a
		pay_short_term_gold = {
			target = scope:scholarly_courtier
			gold = medium_gold_value
		}
		scope:scholarly_courtier = {
			add_opinion = {
				modifier = pleased_opinion
				target = root
				opinion = 20
			}
		}

		stress_impact = { 
			lazy = medium_stress_impact_gain 
			content = medium_stress_impact_gain
			greedy = medium_stress_impact_gain
		}

		hidden_effect = { 
			random_list = {
				25 = {
					trigger_event = {
						id = ek_yearly_events.0118 # continue
						days = {2 4}
					} 
				}
				25 = {
					send_interface_toast = {
						type = event_toast_effect_bad
						left_icon = scope:scholarly_courtier
						title = tooltip.ek_yearly_events.0117.b.missing # courtier disappeared
						scope:scholarly_courtier = {
							silent_disappearance_effect = yes
						}
					} 
				}	 
			}
		}		
	}

	option = { # Meh
		name = ek_yearly_events.0117.b
		stress_impact = { 
			diligent = medium_stress_impact_gain
			lazy = medium_stress_impact_loss	
		}						
	}
}

# The Mystery of Razak - Part 2
ek_yearly_events.0118 = {
	type = character_event
	title = ek_yearly_events.0117.t
	desc = ek_yearly_events.0118.desc
	theme = learning
	
	left_portrait = {
		character = scope:scholarly_courtier
	}

	option = { # prowess
		name = ek_yearly_events.0118.a
		trigger = {
			scope:scholarly_courtier.prowess > 10
		}
		scope:scholarly_courtier = {
			duel = {
				skill = prowess
				value = high_skill_rating
				10 = {
					desc = ek_yearly_events.0118.a.success
					compare_modifier = {
						value = scope:duel_value
						multiplier = 1
					}
					root = {
						trigger_event = {
							id = ek_yearly_events.0119 # continue
							days = {2 4}
						}
					}
				}
				
				5 = {
					desc = ek_yearly_events.0118.a.failure
					root = {
						send_interface_toast = {
							type = event_toast_effect_bad
							left_icon = scope:scholarly_courtier
							title = tooltip.ek_yearly_events.0117.b.missing # courtier disappeared
							scope:scholarly_courtier = {
								silent_disappearance_effect = yes
							}
						}
					}
				}
			}
		}		
	}

	option = { # magic
		name = ek_yearly_events.0118.b
		trigger = {
			scope:scholarly_courtier.arcana > 10
		}
		scope:scholarly_courtier = {
			fake_duel = {
				skill = arcana
				value = average_skill_rating
				target = this
			}
		}
		random_list = {
			10 = { # success
				desc = ek_yearly_events.0118.b.success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				trigger_event = {
					id = ek_yearly_events.0119
					days = {2 4}
				}
			}
			12 = { #failure
				desc = ek_yearly_events.0118.b.failure
				send_interface_toast = {
					left_icon = root
					type = event_toast_effect_bad
					title = tooltip.ek_yearly_events.0118.b.failure
					add_prestige = minor_prestige_loss	
				}
			}
		}		
	}

	option = { # intrigue
		name = ek_yearly_events.0118.c
		trigger = {
			scope:scholarly_courtier.intrigue > 10
		}
		scope:scholarly_courtier = {
			duel = {
				skill = intrigue
				value = decent_skill_rating
				10 = {
					desc = ek_yearly_events.0118.c.success
					compare_modifier = {
						value = scope:duel_value
						multiplier = 1
					}
					root = {
						trigger_event = {
							id = ek_yearly_events.0119 # continue
							days = {2 4}
						}
					}
				}
				
				5 = {
					desc = ek_yearly_events.0118.c.failure
					root = {
						send_interface_toast = {
							type = event_toast_effect_bad
							left_icon = scope:scholarly_courtier
							title = tooltip.ek_yearly_events.0117.b.missing # courtier disappeared
							scope:scholarly_courtier = {
								silent_disappearance_effect = yes
							}
						}
					}
				}
			}
		}		
	}

	option = { # adventurer
		name = ek_yearly_events.0118.d
		trigger = {
			scope:scholarly_courtier = {
				has_trait = adventurer
			}
		}
		trigger_event = {
			id = ek_yearly_events.0119 # continue
			days = {2 4}
		}		
	}

	option = { # give up
		name = ek_yearly_events.0118.e
		add_prestige = minor_prestige_loss
	}
}

# The Mystery of Razak - Good Ending
ek_yearly_events.0119 = {
	type = character_event
	title = ek_yearly_events.0117.t
	desc = ek_yearly_events.0119.desc
	theme = learning
	
	left_portrait = {
		character = scope:scholarly_courtier
	}

	immediate = {
		play_music_cue = "mx_cue_touching_moment"
		title:c_onsi = {
			save_scope_as = razak_county
		}
		set_global_variable = {
			name = ek_razak
			value = yes
		}
	}

	option = { # army
		name = ek_yearly_events.0119.a
		custom_tooltip = unlock_razak_army
		set_global_variable = {
			name = ek_razak_army
			value = yes
		} 		
	}

	option = { # workers
		name = ek_yearly_events.0119.b
		scope:razak_county = {
			add_county_modifier = {
				modifier = razak_workers
			}
		}
	}
}

# event to prank a rival using an enchanted ring of noise
ek_yearly_events.0120 = {
	type = character_event
	title = ek_yearly_events.0120.t
	desc = ek_yearly_events.0120.desc
	theme = rival_relation
	
	left_portrait = {
		character = root
	}

	lower_right_portrait = {
		character = scope:noise_target
	}

	trigger = {
		NOT = { has_character_flag = ek_noise_off }
		arcana > 10
		any_living_character = {
			is_available_ai_adult = yes
			has_relation_rival = root
		}
	}

	immediate = {
		random_living_character = {
			limit = {
				has_relation_rival = root
			}
			save_scope_as = noise_target
		}
	}

	option = { # go along with it
		name = ek_yearly_events.0120.a
		remove_short_term_gold = medium_gold_value
		scope:noise_target = {
			add_character_flag = noise_ring
			trigger_event = {
				id = ek_yearly_events.0121
			}
		}

		add_character_flag = {
			flag = ek_noise_off
			years = 50
		}

		stress_impact = { 
			lazy = medium_stress_impact_gain 
			content = medium_stress_impact_gain
			greedy = medium_stress_impact_gain
		}		
	}

	option = { # Meh
		name = ek_yearly_events.0120.b
		add_character_flag = {
			flag = ek_noise_off
			years = 50
		}
		stress_impact = { 
			lazy = medium_stress_impact_loss	
			vengeful = medium_stress_impact_gain
		}						
	}

	option = { # forgive and forget
		name = ek_yearly_events.0120.c
		trigger = {
			has_trait = forgiving
		}
		remove_short_term_gold = medium_gold_value
		scope:noise_target = {
			add_character_flag = gift_ring
			trigger_event = {
				id = ek_yearly_events.0121
			}
		}
		add_character_flag = {
			flag = ek_noise_off
			years = 50
		}
		stress_impact = { 
			forgiving = major_stress_impact_loss
		}						
	}
}

# target receiving the prank/gift
ek_yearly_events.0121 = {
	type = character_event
	title = ek_yearly_events.0121.t
	desc = ek_yearly_events.0121.desc
	theme = rival_relation
	
	left_portrait = {
		character = root
	}

	lower_right_portrait = {
		character = scope:ring_rival
	}

	trigger = {
		any_living_character = {
			is_available_ai_adult = yes
			has_relation_rival = root
			has_character_flag = ek_noise_off
		}
	}

	immediate = {
		random_living_character = {
			limit = {
				is_available_ai_adult = yes
				has_relation_rival = root
				has_character_flag = ek_noise_off
			}
			save_scope_as = ring_rival
		}
	}

	option = { # go along with it
		name = ek_yearly_events.0121.a
		show_as_tooltip = {
			remove_relation_rival = scope:ring_rival
		}
		add_character_modifier = gift_ring

		hidden_effect = {
			if = {
				limit = {
					has_character_flag = gift_ring
				}
				remove_character_flag = gift_ring
				remove_relation_rival = scope:ring_rival
			}
			if = {
				limit = {
					has_character_flag = noise_ring
				}
				remove_character_flag = noise_ring
				trigger_event = {
					id = ek_yearly_events.0122
					days = {7 30}
				}
			}
		}

		stress_impact = { 
			forgiving = major_stress_impact_loss
			vengeful = major_stress_impact_gain
		}		
	}

	option = { # no thanks
		name = ek_yearly_events.0121.b
		set_relation_nemesis = { reason = nemesis_historical target = scope:ring_rival }
		stress_impact = { 
			forgiving = major_stress_impact_gain
			vengeful = major_stress_impact_loss
		}						
	}
}

# target realising the prank
ek_yearly_events.0122 = {
	type = character_event
	title = ek_yearly_events.0122.t
	desc = ek_yearly_events.0122.desc
	theme = mental_health
	
	left_portrait = {
		character = root
		animation = stress
	}

	immediate = {
		add_character_modifier = noise_ring
		moderate_praxis_decrease_effect = yes
	}

	option = { # ouch
		name = ek_yearly_events.0122.a
		
		stress_impact = { 
			base = major_stress_impact_gain
		}		
	}
}

#The player is asked to weigh in on the existence of Aldmeris
# by Tiefling
ek_yearly_events.0123 = { 
	type = character_event
	title = ek_yearly_events.0123.t
	desc =  ek_yearly_events.0123.desc
	theme = learning	

	left_portrait = {
		character = root
	}

	right_portrait = {
		character = scope:chaplain
	}

	cooldown = { years = yearly_cooldown }

	trigger = {
	 	culture = {
			OR = {
				has_cultural_pillar = heritage_aldmeri
				has_cultural_pillar = heritage_ayleid
				has_cultural_pillar = heritage_falmeri
				has_cultural_pillar = heritage_dwemeri
				has_cultural_pillar = heritage_bosmeri
				has_cultural_pillar = heritage_chimeri
				has_cultural_pillar = heritage_dunmeri
			}
		}
		exists = cp:councillor_court_chaplain #one could technically be without a chaplain so best to check for it
	}
	
	immediate = {
		cp:councillor_court_chaplain = {
			save_scope_as =  chaplain 
		}
	}
	
	option = { 
		name = ek_yearly_events.0123.a
		duel = {
			skill = learning
			target = scope:chaplain
			# If you win, you gain the approval of your chaplain
			50 = {
				compare_modifier = {
					value = 50
					multiplier = 3.5
					min = -40
				}
				desc = ek_yearly_events.0123.a.success
				send_interface_toast = {
					title = ek_yearly_events.0123.a.successtoast
					left_icon = scope:chaplain
					progress_towards_friend_effect = {
						REASON = friend_stated_orthodox_opinion
						CHARACTER = scope:chaplain
						OPINION = 30
					}
				}	
			}		
				# If you lose, your chaplain disapproves
			50 = {
				compare_modifier = {
					value = 50
					multiplier = -3.5
					min = -40
				}
				desc = ek_yearly_events.0123.a.failure
				send_interface_toast = {
					title = ek_yearly_events.0123.a.failuretoast
					left_icon = scope:chaplain
					progress_towards_rival_effect = {
						REASON = rival_stated_heterodox_opinion
						CHARACTER = scope:chaplain
						OPINION = -30
					}		
				}
			}
		}	
	}

	option = { 
		name = ek_yearly_events.0123.b
		send_interface_toast = {
			title = ek_yearly_events.0123.b.toast
			left_icon = scope:chaplain
			scope:chaplain = {
				add_opinion = {
					modifier = pleased_opinion
					target = root
					opinion = 15
				}
			}
		}
	}
}

#You're visited by a relative who is worried by your marriage to an outlander.
#by Tiefling
ek_yearly_events.0124 = { 
	type = character_event
	title = ek_yearly_events.0124.t
	desc = ek_yearly_events.0124.desc
	theme = family

	cooldown = { years = yearly_cooldown }

	trigger = {
		location = {
			geographical_region = mundus_tamriel_morrowind
		}
		culture = {
			has_cultural_pillar = heritage_dunmeri
		}
		any_close_family_member = {
			is_alive = yes
			culture = {
				has_cultural_pillar = heritage_dunmeri
			}
		}
		exists = primary_spouse
		primary_spouse = {
			culture = {
				NOT = { 
					has_cultural_pillar = heritage_dunmeri
				}
			}
		}
	}

	immediate = {
		primary_spouse = {
			save_scope_as = spouse
		}
		if = {
			limit = {
				is_independent_ruler = no
			}
			liege = { save_scope_as = family }
		}
		else = {
			random_close_family_member = {
				limit = {
					is_alive = yes
					culture = {
						has_cultural_pillar = heritage_dunmeri
					}
				}
			save_scope_as = family
			}
		}
	}

	left_portrait = {
		character = root
	}				

	right_portrait = {
		character = scope:family
	}

	lower_center_portrait = {
		character = scope:spouse
	}

	option = {
		name = ek_yearly_events.0124.a
		send_interface_toast = {
			title = ek_yearly_events.0124.a.toast_title
			left_icon = scope:spouse
			progress_towards_friend_effect = {
				REASON = spouse_defended_my_worth
				CHARACTER = scope:spouse
				OPINION = 30
			}
			progress_towards_rival_effect = {
				REASON = rival_rejected_my_counsel
				CHARACTER = scope:family
				OPINION = 30
			}
		}
	}
	option = {
		name = ek_yearly_events.0124.b
		send_interface_toast = {
			title = ek_yearly_events.0124.b.toast_title
			left_icon = scope:spouse
			divorce = scope:spouse
			progress_towards_rival_effect = {
				REASON = rival_insulted_my_worth
				CHARACTER = scope:spouse
				OPINION = -30
			}
			progress_towards_friend_effect = {
				REASON = friend_accepted_my_counsel
				CHARACTER = scope:family
				OPINION = 30
			}				
		}
	}
}

# Something is going wrong on a nearby mine
ek_yearly_events.0125 = { 
	type = letter_event
	opening = { desc = ek_yearly_events.0125.t }
	desc = ek_yearly_events.0125.desc
	
	sender = scope:steward

	cooldown = { years = yearly_cooldown }

	trigger = {
		exists = cp:councillor_steward
	}

	immediate = {
		cp:councillor_steward = {
			save_scope_as = steward
		}
	}

	option = {
		name = ek_yearly_events.0125.a
		random_list = {
			10 = {
				desc = ek_yearly_events.0125.a.success
				modifier = {
					add = { value = scope:steward.stewardship }
				}
				send_interface_toast = {
					title = ek_yearly_events.0125.a.toast_success
					left_icon = scope:steward
					root.capital_county = {
						add_county_modifier = { 
							modifier = narsis_mining_successful
							years = 5
						}
					}
				}
			}
			20 = {
				desc = ek_yearly_events.0125.a.failure
				hidden_effect = {
					send_interface_toast = {
						title = ek_yearly_events.0125.a.toast_failure
						left_icon = scope:steward
						root.capital_county = {
							add_county_modifier = { 
								modifier = narsis_mining_disaster 
								years = 5
							}
							change_county_control = -10
						}
					}
				}
			}
		}
		stress_impact = {
			craven = major_stress_impact_gain
		}
	}
	option = {
		name = ek_yearly_events.0125.b
		add_prestige = medium_prestige_loss
		stress_impact = {
			craven = major_stress_impact_loss
			greedy = major_stress_impact_gain
			ambitious = major_stress_impact_gain
		}
	}
}

# you're inspired by the sight of the Red Mountain
ek_yearly_events.0126 = { 
	type = character_event
	title = ek_yearly_events.0126.t
	desc = ek_yearly_events.0126.desc
	theme = crown
	override_background = { event_background = wilderness }

	cooldown = { years = yearly_cooldown }

	trigger = {
		location = {
			geographical_region = mundus_tamriel_morrowind_vvardenfell
		}
	}

	immediate = {
		culture = {save_scope_as = root_culture}
	}

	left_portrait = {
		character = root
		animation = shock
	}				

	option = { # this means our culture is superior
		name = ek_yearly_events.0126.a

		every_vassal = {
			custom = custom.every_same_culture_vassal
			limit = {
				culture = root.culture
			}
			add_opinion = {
				target = liege
				modifier = respect_opinion
				opinion = 20
			}
		}

		every_vassal = {
			custom = custom.every_different_culture_vassal
			limit = {
				NOT = {
					culture = root.culture
				}
			}
			add_opinion = {
				target = liege
				modifier = scared_opinion
				opinion = -20
			}
		}

		add_prestige = medium_prestige_gain

		stress_impact = {
			calm = medium_stress_impact_gain
			craven = medium_stress_impact_gain
			content = major_stress_impact_gain
			lazy = medium_stress_impact_gain
			impatient = medium_stress_impact_gain
		}

		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					has_trait = calm
					has_trait = craven
					has_trait = content
					has_trait = lazy
					has_trait = impatient
				}
			}
		}
	}

	option = { # Be humble
		name = ek_yearly_events.0126.b

		every_vassal = {
			limit = {
				culture = root.culture
			}
			add_opinion = {
				target = liege
				modifier = disappointed_opinion
				opinion = -20
			}
		}

		every_vassal = {
			limit = {
				NOT = {
					culture = root.culture
				}
			}
			add_opinion = {
				target = liege
				modifier = pleased_opinion
				opinion = 20
			}
		}

		add_piety = medium_piety_gain

		stress_impact = {
			ambitious = minor_stress_impact_loss
			calm = medium_stress_impact_gain
			craven = medium_stress_impact_gain
			content = major_stress_impact_gain
			lazy = medium_stress_impact_gain
			impatient = medium_stress_impact_gain
		}

		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					has_trait = calm
					has_trait = craven
					has_trait = content
					has_trait = lazy
					has_trait = impatient
				}
			}
		}
	}

	option = { #musings over the heart
		name = ek_yearly_events.0126.c

		trigger = {
			learning >= 12
		}

		skill = learning

		add_character_modifier = {
			modifier = heart_musings
			years = 20
		}

		ai_chance = {
			base = 100
		}
	}
}

# Arcane Shipbuilding
ek_yearly_events.0127 = {
	type = character_event
	title = ek_yearly_events.0127.t
	desc = ek_yearly_events.0127.desc
	theme = education
	override_background = { event_background = docks }
	
	left_portrait = {
		character = root
		animation = worry
	}	

	cooldown = { years = yearly_cooldown }

	trigger = {
		root.capital_county = {
			is_coastal_county = yes
		}
		culture = {
			has_innovation = innovation_master_field
		}
	}

	### EK NOTE: arcane_shipbuilding (naval_movement_speed_mult) does not work at the county scope - He9
	option = { # interesting shit
		name = ek_yearly_events.0127.a
		remove_short_term_gold = medium_gold_value
		add_character_modifier = { 
			modifier = arcane_shipbuilding
			years = 10
		}
	}

	option = { # our ships are good enough!
		name = ek_yearly_events.0127.b
		add_prestige = minor_prestige_gain
	}
}

# wow pet parrot how fun
ek_yearly_events.0128 = {
	type = character_event
	title = ek_yearly_events.0128.t
	desc = ek_yearly_events.0128.desc
	theme = friendly
	override_background = { event_background = docks }
	
	left_portrait = {
		character = root
		animation = laugh
	}

	right_portrait = {
		character = scope:parrot
		animation = rage
	}	

	cooldown = { years = yearly_cooldown }

	trigger = {
		has_government = pirate_government
		NOT = {
			any_owned_story = { story_type = story_cycle_pet_dog }
			any_owned_story = { story_type = story_cycle_pet_cat }
			any_owned_story = { story_type = story_cycle_pet_parrot }
			has_character_modifier = dog_story_modifier
			has_character_modifier = cat_story_modifier
			has_character_modifier = parrot_story_modifier
		}
		any_courtier_or_guest = {
			is_available_ai_adult = yes
			has_culture = root.culture
			OR = {
				opinion = {
					target = root
					value <= -20
				}
				has_relation_rival = root
				has_relation_potential_rival = root
				has_relation_victim = root
				has_relation_bully = root
			}
		}
	}

	immediate = { 
		random_courtier_or_guest = {
			limit = {
				is_available_ai_adult = yes
				has_culture = root.culture
				OR = {
					opinion = {
						target = root
						value <= -20
					}
					has_relation_rival = root
					has_relation_potential_rival = root
					has_relation_victim = root
					has_relation_bully = root
				}
			}
			save_scope_as = parrot
		}
	}

	option = { # accept it
		name = ek_yearly_events.0128.a
		start_parrot_story_cycle_effect = yes
	}


	option = { # sell it
		name = ek_yearly_events.0128.b
		add_gold = minor_gold_value
		stress_impact = {
			greedy = minor_stress_impact_loss
		}
	}
}

# Wild Animal wanders into house
ek_yearly_events.0129 = {
	type = character_event
	title = ek_yearly_events.0129.t
	desc = ek_yearly_events.0129.desc
	theme = hunting
	override_background = { event_background = corridor_day }
	
	left_portrait = {
		character = root
	}

	right_portrait = {
		character = scope:quester
		animation = fear
	}	

	cooldown = { years = yearly_cooldown }

	trigger = {
		any_courtier_or_guest = {
			is_available_ai_adult = yes
			prowess < 9
		}
	}

	immediate = {
		select_local_animal_effect = yes 
		set_signature_weapon_effect = yes
		random_courtier_or_guest = {
			limit = {
				is_available_ai_adult = yes
				prowess < 9
			}
			save_scope_as = quester
		}
	}

	option = { # fighters guild
		name = ek_yearly_events.0129.a
		trigger = { 
			capital_province = {
				OR = {
					geographical_region = mundus_tamriel_cyrodiil
					geographical_region = mundus_tamriel_elsweyr
					geographical_region = mundus_tamriel_high_rock
					geographical_region = mundus_tamriel_skyrim
					geographical_region = mundus_tamriel_valenwood
				}
			}	
		}
		remove_short_term_gold = minor_gold_value
		scope:quester = { 
			add_opinion = {
				modifier = grateful_opinion
				target = root
				opinion = 20
			} 
		}
		random_list = {
			60 = {
				send_interface_toast = {
					left_icon = scope:quester
					title = tooltip.ek_yearly_events.0129.a.success
				}
			}
			40 = {
				send_interface_toast = {
					left_icon = scope:quester
					title = tooltip.ek_yearly_events.0129.a.failure
					scope:quester = {
						random_list = {
							40 = { 
								death = { death_reason = death_eaten } 
							}
							60 = {
								increase_wounds_effect = {
									REASON = fight	
								} 
							}
						}
					}
				}
			}
		}
	}


	option = { # bounty
		name = ek_yearly_events.0129.b
		remove_short_term_gold = medium_gold_value
		scope:quester = { 
			add_opinion = {
				modifier = grateful_opinion
				target = root
				opinion = 20
			} 
		}
		random_list = {
			40 = {
				send_interface_toast = {
					left_icon = scope:quester
					title = tooltip.ek_yearly_events.0129.b.success
				}
			}
			60 = {
				send_interface_toast = {
					left_icon = scope:quester
					title = tooltip.ek_yearly_events.0129.b.failure
					scope:quester = {
						random_list = {
							40 = { 
								death = { death_reason = death_eaten } 
							}
							60 = {
								increase_wounds_effect = {
									REASON = fight	
								} 
							}
						}
					}
				}
			}
		}
	}

	option = { # i shall deal with that myself
		name = ek_yearly_events.0129.c
		trigger = {
			prowess > 9
		}
		duel = {
			skill = prowess
			value = average_skill_rating
			45 = {
				desc = hold_court.6201.a.success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 2
				}
				send_interface_toast = {
					title = hold_court.6200.b.success.tt
					left_icon = root
					root.capital_county = {
						add_county_modifier = {
							modifier = 6200_freed_by_beasts_county_modifier
							years = 5
						}
					}
					add_prestige = major_prestige_gain
					if = {
						limit = {
							has_trait = lifestyle_hunter
						}
						change_trait_rank = {
							trait = lifestyle_hunter
							rank = 1
						}
					}
					else = {
						add_trait = hunter_1
					}
					random = {
						chance = 5
						give_nickname = nick_the_hunter
					}
				}
			}
			50 = {
				desc = hold_court.6201.a.failure
				compare_modifier = {
					value = scope:duel_value
					multiplier = -2
				}
				send_interface_toast = {
					title = hold_court.6200.b.failure.tt
					left_icon = root
					root.capital_county = {
						add_county_modifier = {
							modifier = 6200_plagued_by_beasts_county_modifier
							years = 5
						}
					}
					increase_wounds_effect = { REASON = hunting_accident }
					add_prestige = medium_prestige_loss
				}
			}
			5 = {
				desc = hold_court.6201.a.crit_failure
				compare_modifier = {
					value = scope:duel_value
					multiplier = -4
				}
				send_interface_toast = {
					title = hold_court.6200.b.crit_failure.tt
					left_icon = root
					death = { death_reason = death_hunting_accident }
					root.capital_county = {
						add_county_modifier = {
							modifier = 6200_plagued_by_beasts_county_modifier
							years = 5
						}
					}
				}
			}
		}
	}

	option = { # nope
		name = ek_yearly_events.0129.d
		reverse_add_opinion = {
			modifier = disappointed_opinion
			target = scope:quester
			opinion = -30
		}

		random_list = {
			10 = {
				send_interface_toast = {
					left_icon = scope:quester
					title = tooltip.ek_yearly_events.0129.d.success
				}
			}
			90 = {
				send_interface_toast = {
					left_icon = scope:quester
					title = tooltip.ek_yearly_events.0129.d.failure
					scope:quester = {
						random_list = {
							40 = { 
								death = { death_reason = death_eaten } 
							}
							60 = {
								increase_wounds_effect = {
									REASON = fight	
								} 
							}
						}
					}
				}
			}
		}
	}
}

# Ovank'a
ek_yearly_events.0130 = {
	type = character_event
	title = ek_yearly_events.0130.t
	desc = ek_yearly_events.0130.desc
	theme = faith
	
	left_portrait = {
		character = root
	}

	cooldown = { years = yearly_cooldown }

	trigger = {
		culture = { has_cultural_pillar = heritage_yokudan }
		faith = { patron_dv_stendarr_valid = yes }
		current_month = 1
	}

	option = { # praise stendarr!
		name = ek_yearly_events.0130.c
		trigger = {
			has_trait = p_dv_stendarr
		}
		add_piety = major_piety_gain
		stress_impact = { 
			base = major_stress_impact_loss
			cynical = medium_stress_impact_gain 
		}
	}

	option = { # offer prayers
		name = ek_yearly_events.0130.a
		add_piety = medium_piety_gain
		stress_impact = { 
			cynical = medium_stress_impact_gain 
			p_dv_stendarr = medium_stress_impact_gain
		}
	}


	option = { # nah
		name = ek_yearly_events.0130.b
		add_prestige = minor_prestige_gain
		add_piety = minor_piety_loss
		stress_impact = { 
			zealous = medium_stress_impact_gain 
			p_dv_stendarr = medium_stress_impact_gain
		}
	}
}

# South Winds Prayer
ek_yearly_events.0131 = {
	type = character_event
	title = ek_yearly_events.0131.t
	desc = ek_yearly_events.0131.desc
	theme = faith
	
	left_portrait = {
		character = root
	}

	cooldown = { years = yearly_cooldown }

	trigger = {
		current_month = 1
		location = {
			NOT = {
				geographical_region = mundus_tamriel_yokuda
			}
		}
	}

	option = { # ask for healing
		name = ek_yearly_events.0131.c
		trigger = {
			OR = {
				has_trait = consumption
				has_trait = cancer
				has_trait = great_pox
				has_trait = gout_ridden
				has_trait = ill
				has_trait = pneumonic
				has_trait = typhus
				has_trait = smallpox
				has_trait = bubonic_plague
				has_trait = leper
				has_trait = sanguinare_vampiris
				has_trait = sanies_lupinus
			}
			
		}
		show_as_unavailable = {
			piety <= medium_piety_value
		}
		add_piety = medium_piety_loss
		custom_tooltip = ek_yearly_events.0131.tt
		hidden_effect = {
			if = {
				limit = { has_trait = ill }
				recover_from_disease_effect = { DISEASE = ill }
			}
			else_if = {
				limit = { has_trait = pneumonic }
				recover_from_disease_effect = { DISEASE = pneumonic }
			}
			else_if = {
				limit = { has_trait = gout_ridden }
				recover_from_disease_effect = { DISEASE = gout_ridden }
			}
			else_if = {
				limit = { has_trait = typhus }
				recover_from_disease_effect = { DISEASE = typhus }
			}
			else_if = {
				limit = { has_trait = consumption }
				recover_from_disease_effect = { DISEASE = consumption }
			}
			else_if = {
				limit = { has_trait = cancer }
				recover_from_disease_effect = { DISEASE = cancer }
			}
			else_if = {
				limit = { has_trait = great_pox }
				recover_from_disease_effect = { DISEASE = great_pox }
			}
			else_if = {
				limit = { has_trait = smallpox }
				recover_from_disease_effect = { DISEASE = smallpox }
			}
			else_if = {
				limit = { has_trait = bubonic_plague }
				recover_from_disease_effect = { DISEASE = bubonic_plague }
			}
			else_if = {
				limit = { has_trait = sanguinare_vampiris }
				recover_from_disease_effect = { DISEASE = sanguinare_vampiris }
			}
			else_if = {
				limit = { has_trait = sanies_lupinus }
				recover_from_disease_effect = { DISEASE = sanies_lupinus }
			}
			else_if = {
				limit = { has_trait = lovers_pox }
				remove_trait = lovers_pox
			}
		}
	}

	option = { # offer prayers
		name = ek_yearly_events.0130.a
		add_piety = medium_piety_gain
		stress_impact = { 
			cynical = medium_stress_impact_gain 
		}
	}


	option = { # nah
		name = ek_yearly_events.0130.b
		add_prestige = minor_prestige_gain
		add_piety = minor_piety_loss
		stress_impact = { 
			zealous = medium_stress_impact_gain 
		}
	}
}

# Day of Lights
ek_yearly_events.0132 = {
	type = character_event
	title = ek_yearly_events.0132.t
	desc = ek_yearly_events.0132.desc
	theme = faith
	
	left_portrait = {
		character = root
	}

	cooldown = { years = yearly_cooldown }

	trigger = {
		current_month = 1
		location = {
			geographical_region = mundus_tamriel_iliac_bay_hammerfell
		}
	}

	option = { # offer prayers
		name = ek_yearly_events.0130.a
		add_piety = medium_piety_gain
		stress_impact = { 
			cynical = medium_stress_impact_gain 
		}
	}


	option = { # nah
		name = ek_yearly_events.0130.b
		add_prestige = minor_prestige_gain
		add_piety = minor_piety_loss
		stress_impact = { 
			zealous = medium_stress_impact_gain 
		}
	}
}

# Festival of Lights
ek_yearly_events.0133 = {
	type = character_event
	title = ek_yearly_events.0133.t
	desc = ek_yearly_events.0133.desc
	theme = friendly
	override_background = { event_background = market }
	
	left_portrait = {
		character = root
	}

	cooldown = { years = yearly_cooldown }

	trigger = {
		culture = { has_cultural_pillar = heritage_atmoran }
		location = {
			geographical_region = mundus_tamriel_skyrim
		}
	}

	option = { # distribute candies
		name = ek_yearly_events.0133.a
		show_as_unavailable = {
			short_term_gold <= minor_gold_value
		}
		remove_short_term_gold = minor_gold_value
		add_piety = medium_piety_gain
		stress_impact = { 
			greedy = medium_stress_impact_gain 
		}
	}


	option = { # nah
		name = ek_yearly_events.0130.b
		add_prestige = minor_prestige_gain
		stress_impact = { 
			compassionate = medium_stress_impact_gain 
		}
	}
}

# Waking Day
ek_yearly_events.0134 = {
	type = character_event
	title = ek_yearly_events.0134.t
	desc = ek_yearly_events.0134.desc
	theme = faith
	override_background = { event_background = wilderness_scope }
	
	left_portrait = {
		character = root
	}

	cooldown = { years = yearly_cooldown }

	trigger = {
		current_month = 1
		culture = { has_cultural_pillar = heritage_breton }
		location = {
			geographical_region = mundus_tamriel_high_rock
		}
	}

	option = { # non old religion zealous option
		name = ek_yearly_events.0134.a
		trigger = {
			NOT = {
				faith = {
					has_doctrine = doctrine_pantheon_jephre
				}
			}
		}
		add_piety = medium_piety_gain
		add_dread = medium_dread_gain
		zealous_progression_effect = yes
		add_tyranny = medium_tyranny_value
	}

	option = { # non old religion cynical option
		name = ek_yearly_events.0134.b
		trigger = {
			NOT = {
				faith = {
					has_doctrine = doctrine_pantheon_jephre
				}
			}
		}
		cynical_progression_effect = yes
		add_piety = medium_piety_loss
	}

	option = { # old religion zealous option
		name = ek_yearly_events.0134.c
		trigger = {
			faith = {
				has_doctrine = doctrine_pantheon_jephre
			}
		}
		add_piety = medium_piety_gain
		add_dread = medium_dread_gain
		zealous_progression_effect = yes
		add_tyranny = medium_tyranny_value
	}

	option = { # non old religion cynical option
		name = ek_yearly_events.0134.d
		trigger = {
			faith = {
				has_doctrine = doctrine_pantheon_jephre
			}
		}
		cynical_progression_effect = yes
		add_piety = medium_piety_loss
	}

	option = { # nah
		name = ek_yearly_events.0130.b
		add_prestige = minor_prestige_gain
	}
}

# Day of Release
ek_yearly_events.0135 = {
	type = character_event
	title = ek_yearly_events.0135.t
	desc = ek_yearly_events.0135.desc
	theme = friendly
	override_background = { event_background = market }
	
	left_portrait = {
		character = root
	}

	lower_right_portrait = {
		character = scope:aiden
	}

	cooldown = { years = yearly_cooldown }

	trigger = {
		current_month = 2
		culture = { 
			OR = {
				has_cultural_pillar = heritage_breton 
				has_cultural_pillar = heritage_aldmeri
			}
		}
		location = {
			geographical_region = mundus_tamriel_high_rock
		}
	}

	immediate = { 
		character:direnni_103 = {
			save_scope_as = aiden
		}
	}

	option = { # elf dread option
		name = ek_yearly_events.0135.a
		trigger = { dynasty = dynasty:730000 }
		add_prestige = medium_prestige_gain
		add_dread = medium_dread_gain
		add_tyranny = medium_tyranny_value
	}

	option = { # elf nice option
		name = ek_yearly_events.0135.b
		trigger = { dynasty = dynasty:730000 }
		add_prestige = medium_prestige_loss
		add_character_modifier = {
			modifier = hold_court_8130_tolerance_modifier
			years = 5
		}
	}

	option = { # breton option
		name = ek_yearly_events.0135.c
		trigger = {
			culture = {
				has_cultural_pillar = heritage_breton
			}
		}
		add_prestige = medium_prestige_loss
		add_character_modifier = {
			modifier = hold_court_8130_tolerance_modifier
			years = 5
		}
	}

	option = { # nah
		name = ek_yearly_events.0130.b
		add_prestige = minor_prestige_gain
	}
}

# Heart's Day
ek_yearly_events.0136 = {
	type = character_event
	title = ek_yearly_events.0136.t
	desc = ek_yearly_events.0136.desc
	theme = love
	override_background = { event_background = bedchamber }
	
	left_portrait = {
		character = root
	}

	right_portrait = {
		trigger = {
			exists = scope:valentine
		}
		character = scope:valentine
		animation = love
	}

	cooldown = { years = yearly_cooldown }

	trigger = {
		current_month = 2
		age > 17
	}

	immediate = {
		play_music_cue = mx_cue_touching_moment
		if = {
			limit = {
				any_relation = {
					type = lover
					count >= 1
				}
			}
			random_relation = {
				type = lover
				save_scope_as = valentine
			}
		}
		else_if = {
			limit = {
				any_spouse = {
					is_alive = yes
				}
			}
			random_spouse = {
				save_scope_as = valentine
			}
		}
		else = {
			random_courtier_or_guest = {
				limit = { is_attracted_to_gender_of = root }
				save_scope_as = valentine
			}
		}
	}

	option = { # oooh sexy
		name = ek_yearly_events.0136.a
		had_sex_with_effect = { CHARACTER = scope:valentine PREGNANCY_CHANCE = pregnancy_chance }
		scope:valentine = {
            add_opinion = {
                modifier = pleased_opinion
                target = root
                opinion = 20
            }
            if = {
				limit = {
					can_set_relation_potential_lover_trigger = { CHARACTER = root }
				}
				set_relation_potential_lover = root
			}
			else_if = {
				limit = {
					can_set_relation_lover_trigger = { CHARACTER = root }
				}
				set_relation_lover = { reason = lover_hearts_day target = root }
			}
        }
		stress_impact = {
			lustful = medium_stress_impact_loss
			chaste = major_stress_impact_gain
			celibate = major_stress_impact_gain
			content = medium_stress_impact_gain
			temperate = minor_stress_impact_gain
			paranoid = minor_stress_impact_gain
			callous = minor_stress_impact_gain
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					has_trait = chaste
					has_trait = celibate
					has_trait = content
				}
			}
		}
	}

	option = { # no sex please
		name = ek_yearly_events.0136.b
		 scope:valentine = {
            add_opinion = {
                modifier = rejected_opinion
                target = root
                opinion = -50
            }
        }
		
		stress_impact = {
			lustful = major_stress_impact_gain
			rakish = major_stress_impact_gain
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					has_trait = lustful
					has_trait = rakish
				}
			}
		}
	}
}

# Aduros Nau
ek_yearly_events.0137 = {
	type = character_event
	title = ek_yearly_events.0137.t
	desc = ek_yearly_events.0137.desc
	theme = love
	override_background = { event_background = market }
	
	left_portrait = {
		character = root
	}

	trigger = {
		current_month = 2
		age > 17
		location = {
			geographical_region = mundus_tamriel_hammerfell
		}
	}

	cooldown = { years = yearly_cooldown }

	immediate = {
		if = { # Reclusive ( Frequently withdrawn, risking damage to relationships.)
			limit = {
				OR = {
					can_be_reclusive = yes
					has_trait = reclusive
				}
			}
			# Taking this option will also likely damage a relationship that the character has with someone.
			reclusive_get_relationships_effect = yes

		}
	}

	option = { # is rakish
		name = ek_yearly_events.0137.a
		trigger = {
			has_trait = rakish
		}
		trait = rakish
		if = {
			limit = {
				faith = { trait_is_virtue = lustful }
			}
			add_piety = major_piety_gain
		}
		else_if = {
			limit = {
				faith = { trait_is_sin = lustful }
			}
			add_piety = major_piety_loss
		}
		rakish_brothel_night_effect = yes
	}

	option = { # becomes rakish
		name = ek_yearly_events.0137.b
		trigger = {
			can_be_rakish = yes
		}
		if = {
			limit = {
				faith = { trait_is_virtue = lustful }
			}
			add_piety = major_piety_gain
		}
		else_if = {
			limit = {
				faith = { trait_is_sin = lustful }
			}
			add_piety = major_piety_loss
		}
		add_trait = rakish
		trait = rakish

		rakish_brothel_night_effect = yes
	}

	option = { # is reclusive
		name = ek_yearly_events.0137.c
		trigger = {
			has_trait = reclusive
		}
		trait = reclusive
		if = {
			limit = {
				faith = { trait_is_virtue = shy }
			}
			add_piety = major_piety_gain
		}
		else_if = {
			limit = {
				faith = { trait_is_sin = shy }
			}
			add_piety = major_piety_loss
		}
		reclusive_damage_relationships_effect = yes # Stress reduction is included in this effect.
	}

	option = { # becomes reclusive
		name = ek_yearly_events.0137.d
		trigger = {
			can_be_reclusive = yes
		}
		if = {
			limit = {
				faith = { trait_is_virtue = shy }
			}
			add_piety = major_piety_gain
		}
		else_if = {
			limit = {
				faith = { trait_is_sin = shy }
			}
			add_piety = major_piety_loss
		}
		add_trait = reclusive
		trait = reclusive

		reclusive_damage_relationships_effect = yes # Stress reduction is included in this effect.
	}

	option = { # is irritable
		name = ek_yearly_events.0137.e
		trigger = {
			has_trait = irritable
		}
		trait = irritable
		if = {
			limit = {
				faith = { trait_is_virtue = wrathful }
			}
			add_piety = major_piety_gain
		}
		else_if = {
			limit = {
				faith = { trait_is_sin = wrathful }
			}
			add_piety = major_piety_loss
		}
		add_tyranny = minor_tyranny_value
		add_stress = minor_stress_loss
	}

	option = { # becomes irritable
		name = ek_yearly_events.0137.f
		trigger = {
			can_be_irritable = yes
		}
		if = {
			limit = {
				faith = { trait_is_virtue = wrathful }
			}
			add_piety = major_piety_gain
		}
		else_if = {
			limit = {
				faith = { trait_is_sin = wrathful }
			}
			add_piety = major_piety_loss
		}
		add_trait = irritable
		trait = irritable
		add_tyranny = minor_tyranny_value
		add_stress = minor_stress_loss
	}

	option = { # is flagellant
		name = ek_yearly_events.0137.g
		trigger = {
			has_trait = flagellant
		}
		trait = flagellant

		increase_wounds_effect = {REASON = whipping}
		add_stress = medium_stress_impact_loss
	}

	option = { # becomes flagellant
		name = ek_yearly_events.0137.h
		trigger = {
			can_be_flagellant = yes
		}
		add_trait = flagellant
		trait = flagellant
		increase_wounds_effect = {REASON = whipping}
		add_stress = medium_stress_impact_loss
	}

	option = { # is profligate
		name = ek_yearly_events.0137.i
		trigger = {
			has_trait = profligate
		}
		trait = profligate

		remove_short_term_gold = medium_gold_value
		add_stress = medium_stress_loss
	}

	option = { # becomes profligate
		name = ek_yearly_events.0137.j
		trigger = {
			can_be_profligate = yes
		}
		add_trait = profligate
		trait = profligate
		remove_short_term_gold = medium_gold_value
		add_stress = medium_stress_loss
	}

	option = { # is improvident
		name = ek_yearly_events.0137.k
		trigger = {
			has_trait = improvident
		}
		trait = improvident

		remove_short_term_gold = major_gold_value
		add_stress = medium_stress_impact_loss
	}

	option = { # becomes improvident
		name = ek_yearly_events.0137.l
		trigger = {
			can_be_improvident = yes
		}
		add_trait = improvident
		trait = improvident
		remove_short_term_gold = major_gold_value
		add_stress = medium_stress_impact_loss
	}

	option = { # is comfort_eater
		name = ek_yearly_events.0137.m
		trigger = {
			has_trait = comfort_eater
		}
		trait = comfort_eater

		remove_short_term_gold = minor_gold_value
		add_stress = medium_stress_loss
	}

	option = { # becomes comfort_eater
		name = ek_yearly_events.0137.n
		trigger = {
			can_be_comfort_eater = yes
		}
		add_trait = comfort_eater
		trait = comfort_eater
		remove_short_term_gold = minor_gold_value
		add_stress = medium_stress_loss
	}

	option = { # is inappetetic
		name = ek_yearly_events.0137.o
		trigger = {
			has_trait = inappetetic
		}
		trait = inappetetic

		if = {
			limit = {
				has_trait = inappetetic
			}
			inappetetic_advance_starvation_effect = yes
		}
		add_stress = medium_stress_impact_loss
	}

	option = { # becomes inappetetic
		name = ek_yearly_events.0137.p
		trigger = {
			can_be_inappetetic = yes
		}
		add_trait = inappetetic
		trait = inappetetic
		add_stress = medium_stress_impact_loss
	}

	option = { # is drunkard
		name = ek_yearly_events.0137.q
		trigger = {
			has_trait = drunkard
		}
		trait = drunkard

		add_character_modifier = {
			modifier = stress_drinking_binge
			years = 3
		}
		
		add_stress = medium_stress_impact_loss
	}

	option = { # becomes drunkard
		name = ek_yearly_events.0137.r
		trigger = {
			can_be_drunkard = yes
		}
		add_trait = drunkard
		trait = drunkard
		add_stress = medium_stress_impact_loss
	}

	option = { # is skooma_drinker
		name = ek_yearly_events.0137.u
		trigger = {
			has_trait = skooma_drinker
		}
		trait = skooma_drinker

		add_character_modifier = {
			modifier = stress_skooma_stupor
			years = 2
		}
		add_stress = medium_stress_loss
	}

	option = { # becomes skooma_drinker
		name = ek_yearly_events.0137.v
		trigger = {
			can_be_skooma_drinker = yes
		}
		add_trait = skooma_drinker
		trait = skooma_drinker
		add_stress = medium_stress_impact_loss
	}

	option = { # no please
		name = ek_yearly_events.0137.nope
		
		stress_impact = {
			base = major_stress_impact_gain
		}
	}
}

# First Planting
ek_yearly_events.0138 = {
	type = character_event
	title = ek_yearly_events.0138.t
	desc = ek_yearly_events.0138.desc
	theme = friendly
	override_background = { event_background = market }
	
	left_portrait = {
		character = root
	}

	right_portrait = {
		trigger = {
			exists = scope:rival
		}
		character = scope:rival
	}

	cooldown = { years = yearly_cooldown }

	trigger = {
		current_month = 3
	}

	immediate = {
		play_music_cue = mx_cue_banquet
		random_relation = {
			type = rival
			limit = {
				opinion = {
					target = root
					value >= 20
				}
				is_ai = yes
			}
			alternative_limit = {
				opinion = {
					target = root
					value >= 10
				}
				is_ai = yes
			}
			save_scope_as = rival
		}
	}

	option = { # forgive and forget
		name = ek_yearly_events.0138.a
		trigger = { exists = scope:rival }
		show_as_tooltip = {
			remove_relation_rival = scope:rival
		}
		hidden_effect = {
			scope:rival = {
				trigger_event = rivalry.0002
			}
		}
	}

	option = { # ask for healing
		name = ek_yearly_events.0131.c
		trigger = {
			OR = {
				has_trait = consumption
				has_trait = cancer
				has_trait = great_pox
				has_trait = gout_ridden
				has_trait = ill
				has_trait = pneumonic
				has_trait = typhus
				has_trait = smallpox
				has_trait = bubonic_plague
				has_trait = leper
				has_trait = sanguinare_vampiris
				has_trait = sanies_lupinus
			}
			
		}
		show_as_unavailable = {
			piety <= medium_piety_value
		}
		add_piety = medium_piety_loss
		custom_tooltip = ek_yearly_events.0131.tt
		hidden_effect = {
			if = {
				limit = { has_trait = ill }
				recover_from_disease_effect = { DISEASE = ill }
			}
			else_if = {
				limit = { has_trait = pneumonic }
				recover_from_disease_effect = { DISEASE = pneumonic }
			}
			else_if = {
				limit = { has_trait = gout_ridden }
				recover_from_disease_effect = { DISEASE = gout_ridden }
			}
			else_if = {
				limit = { has_trait = typhus }
				recover_from_disease_effect = { DISEASE = typhus }
			}
			else_if = {
				limit = { has_trait = consumption }
				recover_from_disease_effect = { DISEASE = consumption }
			}
			else_if = {
				limit = { has_trait = cancer }
				recover_from_disease_effect = { DISEASE = cancer }
			}
			else_if = {
				limit = { has_trait = great_pox }
				recover_from_disease_effect = { DISEASE = great_pox }
			}
			else_if = {
				limit = { has_trait = smallpox }
				recover_from_disease_effect = { DISEASE = smallpox }
			}
			else_if = {
				limit = { has_trait = bubonic_plague }
				recover_from_disease_effect = { DISEASE = bubonic_plague }
			}
			else_if = {
				limit = { has_trait = sanguinare_vampiris }
				recover_from_disease_effect = { DISEASE = sanguinare_vampiris }
			}
			else_if = {
				limit = { has_trait = sanies_lupinus }
				recover_from_disease_effect = { DISEASE = sanies_lupinus }
			}
			else_if = {
				limit = { has_trait = lovers_pox }
				remove_trait = lovers_pox
			}
		}
	}

	option = { # offer prayers
		name = ek_yearly_events.0138.b
		add_piety = medium_piety_gain
		stress_impact = { 
			cynical = medium_stress_impact_gain 
		}
	}


	option = { # nah
		name = ek_yearly_events.0130.b
		add_prestige = minor_prestige_gain
		add_piety = minor_piety_loss
		stress_impact = { 
			zealous = medium_stress_impact_gain 
		}
	}
}

# Day of Waiting
ek_yearly_events.0139 = {
	type = character_event
	title = ek_yearly_events.0139.t
	desc = ek_yearly_events.0139.desc
	theme = death
	override_background = { event_background = bedchamber }
	
	left_portrait = {
		character = root
	}

	cooldown = { years = yearly_cooldown }

	trigger = {
		location = {
			geographical_region = mundus_tamriel_hammerfell_dragontail
		}
		current_month = 3
	}

	option = { # hide
		name = ek_yearly_events.0139.a
		add_prestige = minor_prestige_loss
		stress_impact = { 
			brave = medium_stress_impact_gain 
		}
	}


	option = { # nah
		name = ek_yearly_events.0139.b
		add_internal_flag = dangerous
		add_prestige = minor_prestige_gain
		custom_tooltip = ek_yearly_events.0139.b.tooltip
		hidden_effect = {
			random = {
				chance = 1
				death = { death_reason = death_eaten } 
			}
		}
		stress_impact = { 
			craven = medium_stress_impact_gain 
		}
	}
}

# Flower Day
ek_yearly_events.0140 = {
	type = character_event
	title = ek_yearly_events.0140.t
	desc = ek_yearly_events.0140.desc
	theme = love
	override_background = { event_background = market }
	
	left_portrait = {
		character = root
	}

	cooldown = { years = yearly_cooldown }

	trigger = {
		current_month = 3
		location = {
			geographical_region = mundus_tamriel_high_rock
		}
	}

	immediate = {
		play_music_cue = mx_cue_banquet 
	}

	option = { # dance and sing!
		name = ek_yearly_events.0140.a
		add_prestige = minor_prestige_loss
		stress_impact = { 
			base = medium_stress_impact_loss
			callous = major_stress_impact_gain 
			shy = major_stress_impact_gain 
		}
	}


	option = { # nah
		name = ek_yearly_events.0130.b
		add_prestige = minor_prestige_gain
		stress_impact = { 
			gregarious = medium_stress_impact_gain 
		}
	}
}

# Festival of Blades - Burning Effigy
ek_yearly_events.0141 = {
	type = character_event
	title = ek_yearly_events.0141.t
	desc = ek_yearly_events.0141.desc
	theme = war
	override_background = { event_background = bp1_bonfire }
	
	left_portrait = {
		character = root
	}

	cooldown = { years = yearly_cooldown }

	trigger = {
		current_month = 3
		location = {
			geographical_region = mundus_tamriel_hammerfell_alikr_desert
		}
	}

	immediate = {
		play_music_cue = mx_cue_banquet 
	}

	option = { # burn the effigy!
		name = ek_yearly_events.0141.a
		add_prestige = minor_prestige_loss
		stress_impact = { 
			base = medium_stress_impact_loss
			callous = major_stress_impact_gain 
			shy = major_stress_impact_gain 
		}
	}


	option = { # nah
		name = ek_yearly_events.0130.b
		add_prestige = minor_prestige_gain
		stress_impact = { 
			gregarious = medium_stress_impact_gain 
		}
	}
}

# Gardtide
ek_yearly_events.0142 = {
	type = character_event
	title = ek_yearly_events.0142.t
	desc = ek_yearly_events.0142.desc
	theme = love
	override_background = { event_background = market }
	
	left_portrait = {
		character = root
	}

	cooldown = { years = yearly_cooldown }

	trigger = {
		current_month = 4
		location = {
			geographical_region = mundus_tamriel_high_rock
		}
	}

	immediate = {
		play_music_cue = mx_cue_banquet 
	}

	option = { # praise the flowers!
		name = ek_yearly_events.0142.a
		add_piety = minor_piety_loss
		stress_impact = { 
			base = medium_stress_impact_loss
			callous = major_stress_impact_gain 
			shy = major_stress_impact_gain 
		}
	}


	option = { # nah
		name = ek_yearly_events.0130.b
		add_piety = minor_piety_gain
		add_prestige = minor_prestige_gain
		stress_impact = { 
			gregarious = medium_stress_impact_gain
			humble = major_stress_impact_gain 
		}
	}
}

# Day of the Dead
ek_yearly_events.0143 = {
	type = character_event
	title = ek_yearly_events.0143.t
	desc = ek_yearly_events.0143.desc
	theme = death
	override_background = { event_background = bedchamber }
	
	left_portrait = {
		character = root
	}

	cooldown = { years = yearly_cooldown }

	trigger = {
		current_month = 4
		location = {
			geographical_region = mundus_tamriel_high_rock
		}
	}

	option = { # ask the temple for a ritual
		name = ek_yearly_events.0143.a
		remove_short_term_gold = minor_gold_value
		add_prestige = minor_prestige_loss
		stress_impact = { 
			brave = medium_stress_impact_gain 
		}
	}


	option = { # nah
		name = ek_yearly_events.0143.b
		add_internal_flag = dangerous
		add_prestige = minor_prestige_gain
		custom_tooltip = ek_yearly_events.0139.b.tooltip
		hidden_effect = {
			random = {
				chance = 30
				random_held_title = {
					limit = {
						tier = tier_county
					}
					title_create_faction = {
						type = crisis_undead_faction
						target = root
					}
				}
			}
		}
		stress_impact = { 
			craven = medium_stress_impact_gain 
		}
	}
}

# Lady/Lord of Misrule
ek_yearly_events.0144 = {
	type = character_event
	title = ek_yearly_events.0144.t
	desc = ek_yearly_events.0144.desc
	theme = friendly
	override_background = { event_background = market }
	
	left_portrait = {
		character = root
	}

	trigger = {
		nickname_already_given_list_trigger = { NICKNAME = nick_lady_lord_misrule }
		current_month = 4
		exists = var:jesters_festival_count
		var:jesters_festival_count >= 3

	}

	immediate = {
		play_music_cue = mx_cue_banquet 
	}

	option = { # accept it
		name = ek_yearly_events.0144.a
		set_epithet_effect = { NICKNAME = nick_lady_lord_misrule }
	}

	option = { # nah
		name = ek_yearly_events.0144.b
		add_prestige = minor_prestige_gain
		add_dread = minor_dread_gain
	}
}

# Second Planting
ek_yearly_events.0145 = {
	type = character_event
	title = ek_yearly_events.0145.t
	desc = ek_yearly_events.0145.desc
	theme = friendly
	override_background = { event_background = market }
	
	left_portrait = {
		character = root
	}

	cooldown = { years = yearly_cooldown }

	trigger = {
		current_month = 5
	}

	immediate = {
		play_music_cue = mx_cue_banquet
	}

	option = { # ask for healing
		name = ek_yearly_events.0131.c
		trigger = {
			OR = {
				has_trait = consumption
				has_trait = cancer
				has_trait = great_pox
				has_trait = gout_ridden
				has_trait = ill
				has_trait = pneumonic
				has_trait = typhus
				has_trait = smallpox
				has_trait = bubonic_plague
				has_trait = sanguinare_vampiris
				has_trait = sanies_lupinus
				has_trait = leper
			}
			
		}
		show_as_unavailable = {
			piety <= medium_piety_value
		}
		add_piety = medium_piety_loss
		custom_tooltip = ek_yearly_events.0131.tt
		hidden_effect = {
			if = {
				limit = { has_trait = ill }
				recover_from_disease_effect = { DISEASE = ill }
			}
			else_if = {
				limit = { has_trait = pneumonic }
				recover_from_disease_effect = { DISEASE = pneumonic }
			}
			else_if = {
				limit = { has_trait = gout_ridden }
				recover_from_disease_effect = { DISEASE = gout_ridden }
			}
			else_if = {
				limit = { has_trait = typhus }
				recover_from_disease_effect = { DISEASE = typhus }
			}
			else_if = {
				limit = { has_trait = consumption }
				recover_from_disease_effect = { DISEASE = consumption }
			}
			else_if = {
				limit = { has_trait = cancer }
				recover_from_disease_effect = { DISEASE = cancer }
			}
			else_if = {
				limit = { has_trait = great_pox }
				recover_from_disease_effect = { DISEASE = great_pox }
			}
			else_if = {
				limit = { has_trait = smallpox }
				recover_from_disease_effect = { DISEASE = smallpox }
			}
			else_if = {
				limit = { has_trait = bubonic_plague }
				recover_from_disease_effect = { DISEASE = bubonic_plague }
			}
			else_if = {
				limit = { has_trait = sanguinare_vampiris }
				recover_from_disease_effect = { DISEASE = sanguinare_vampiris }
			}
			else_if = {
				limit = { has_trait = sanies_lupinus }
				recover_from_disease_effect = { DISEASE = sanies_lupinus }
			}
			else_if = {
				limit = { has_trait = lovers_pox }
				remove_trait = lovers_pox
			}
		}
	}

	option = { # toast peace
		name = ek_yearly_events.0145.b
		add_piety = medium_piety_gain
		stress_impact = { 
			cynical = medium_stress_impact_gain 
		}
	}


	option = { # nah
		name = ek_yearly_events.0130.b
		add_prestige = minor_prestige_gain
		add_piety = minor_piety_loss
		stress_impact = { 
			zealous = medium_stress_impact_gain 
		}
	}
}

# Marukh's Day
ek_yearly_events.0146 = {
	type = character_event
	title = ek_yearly_events.0146.t
	desc = ek_yearly_events.0146.desc
	theme = faith
	override_background = { event_background = market }
	
	left_portrait = {
		character = root
	}

	cooldown = { years = yearly_cooldown }

	trigger = {
		current_month = 5
		location = {
			geographical_region = mundus_tamriel_high_rock
		}
	}

	immediate = {
		play_music_cue = mx_cue_banquet
	}

	option = { # praise marukh!
		name = ek_yearly_events.0146.a
		add_piety = minor_piety_loss
		stress_impact = { 
			base = medium_stress_impact_loss
			callous = major_stress_impact_gain 
			shy = major_stress_impact_gain 
		}
	}


	option = { # nah
		name = ek_yearly_events.0146.b
		add_piety = minor_piety_gain
		add_tyranny = medium_tyranny_value
		stress_impact = { 
			gregarious = medium_stress_impact_gain
			humble = major_stress_impact_gain 
		}
	}
}

# Koomu Alezer'i
ek_yearly_events.0147 = {
	type = character_event
	title = ek_yearly_events.0147.t
	desc = ek_yearly_events.0147.desc
	theme = friendly
	override_background = { event_background = market }
	
	left_portrait = {
		character = root
	}

	lower_right_portrait = {
		character = scope:yaghoub
	}

	cooldown = { years = yearly_cooldown }

	trigger = {
		current_month = 5		
		location = {
			geographical_region = mundus_tamriel_hammerfell_sentinel
		}
	}

	immediate = { 
		character:nisewan_100 = {
			save_scope_as = yaghoub
		}
	}

	option = { # redguard dread option
		name = ek_yearly_events.0147.a
		trigger = { 
			culture = { 
				has_cultural_pillar = heritage_yokudan
			} 
		}
		add_prestige = medium_prestige_gain
		add_dread = medium_dread_gain
		add_tyranny = medium_tyranny_value
	}

	option = { # redguard nice option
		name = ek_yearly_events.0147.b
		trigger = { 
			culture = { 
				has_cultural_pillar = heritage_yokudan
			} 
		}
		add_prestige = medium_prestige_loss
		add_character_modifier = {
			modifier = hold_court_8130_tolerance_modifier
			years = 5
		}
	}

	option = { # non redguard option
		name = ek_yearly_events.0147.c
		trigger = { 
			culture = { 
				NOT = {
					has_cultural_pillar = heritage_yokudan
				}
			} 
		}
		add_prestige = medium_prestige_loss
		add_character_modifier = {
			modifier = hold_court_8130_tolerance_modifier
			years = 5
		}
	}

	option = { # nah
		name = ek_yearly_events.0130.b
		add_prestige = minor_prestige_gain
	}
}

# Fire Festival
ek_yearly_events.0148 = {
	type = character_event
	title = ek_yearly_events.0148.t
	desc = ek_yearly_events.0148.desc
	theme = friendly
	override_background = { event_background = market }
	
	left_portrait = {
		character = root
	}

	cooldown = { years = yearly_cooldown }

	trigger = {
		current_month = 5
		location = {
			geographical_region = mundus_tamriel_high_rock
		}
	}

	immediate = {
		play_music_cue = mx_cue_banquet
	}

	option = { # martial option
		name = ek_yearly_events.0148.a
		add_martial_lifestyle_xp = medium_lifestyle_xp
	}

	option = { # magic option
		name = ek_yearly_events.0148.b
		add_magic_lifestyle_xp = medium_lifestyle_xp
	}

	option = { # enjoy the festival
		name = ek_yearly_events.0148.c
		add_stress = medium_stress_loss
	}


	option = { # nah
		name = ek_yearly_events.0130.b
		add_prestige = minor_prestige_gain
	}
}

# Fishing Day
ek_yearly_events.0149 = {
	type = character_event
	title = ek_yearly_events.0149.t
	desc = ek_yearly_events.0149.desc
	theme = friendly
	override_background = { event_background = docks }
	
	left_portrait = {
		character = root
	}

	right_portrait = {
		trigger = {
			exists = scope:fishing_friend
		}
		character = scope:fishing_friend
	}

	cooldown = { years = yearly_cooldown }

	trigger = {
		current_month = 5		
		location = {
			geographical_region = mundus_tamriel_iliac_bay
		}
	}

	immediate = {
		random_courtier_or_guest = {
			limit = {
				has_any_good_relationship_with_root_trigger = yes
				is_available_ai_adult = yes
				can_add_hook = {
					target = root
					type = favor_hook
				}
			}
			save_scope_as = fishing_friend
		} 
	}

	option = { # fishing with friend option
		name = ek_yearly_events.0149.a
		trigger = {
			exists = scope:fishing_friend
		}
		#Big stress loss
		stress_impact = {
			base = minor_stress_impact_loss
			gregarious = medium_stress_impact_loss
			trusting = medium_stress_impact_loss
			arrogant = medium_stress_impact_gain
			paranoid = medium_stress_impact_gain
		}

		progress_towards_friend_effect = {
			REASON = friend_fishing_day
			CHARACTER = scope:fishing_friend
			OPINION = 0
		}

		ai_chance = {
			base = 100
			ai_value_modifier = {
				ai_sociability = 1  
			}
		}
	}

	option = { # fish alone
		name = ek_yearly_events.0149.b
		add_prestige = medium_prestige_gain
		stress_impact = {
			base = minor_stress_impact_loss
			gregarious = medium_stress_impact_gain
		}
		ai_chance = {
			base = 100
			ai_value_modifier = {
				ai_sociability = -1  
			}
		}
	}

	option = { # nah
		name = ek_yearly_events.0130.b
	}
}

# Drigh R'Zimb
ek_yearly_events.0150 = {
	type = character_event
	title = ek_yearly_events.0150.t
	desc = ek_yearly_events.0150.desc
	theme = friendly
	override_background = { event_background = market }
	
	left_portrait = {
		character = root
	}

	cooldown = { years = yearly_cooldown }

	trigger = {
		current_month = 6		
		location = {
			geographical_region = mundus_tamriel_hammerfell
		}
	}

	option = { # redguard dread option
		name = ek_yearly_events.0150.a
		trigger = { 
			culture = { 
				has_cultural_pillar = heritage_yokudan
			} 
		}
		add_prestige = medium_prestige_gain
		add_dread = medium_dread_gain
		add_tyranny = medium_tyranny_value
	}

	option = { # redguard nice option
		name = ek_yearly_events.0150.b
		trigger = { 
			culture = { 
				has_cultural_pillar = heritage_yokudan
			} 
		}
		add_prestige = medium_prestige_loss
		add_character_modifier = {
			modifier = hold_court_8130_tolerance_modifier
			years = 5
		}
	}

	option = { # non redguard option
		name = ek_yearly_events.0150.c
		trigger = { 
			culture = { 
				NOT = {
					has_cultural_pillar = heritage_yokudan
				}
			} 
		}
		add_prestige = medium_prestige_loss
		add_character_modifier = {
			modifier = hold_court_8130_tolerance_modifier
			years = 5
		}
	}

	option = { # nah
		name = ek_yearly_events.0130.b
		add_prestige = minor_prestige_gain
	}
}

# Merchant's Festival
ek_yearly_events.0151 = {
	type = character_event
	title = ek_yearly_events.0151.t
	desc = ek_yearly_events.0151.desc
	theme = friendly
	override_background = { event_background = market }
	
	left_portrait = {
		character = root
	}

	cooldown = { years = yearly_cooldown }

	trigger = {
		current_month = 7
	}

	immediate = {
		play_music_cue = mx_cue_banquet
	}

	option = { # stewardship option
		name = ek_yearly_events.0151.a
		add_stewardship_lifestyle_xp = medium_lifestyle_xp
	}

	option = { # enjoy the festival
		name = ek_yearly_events.0148.c
		add_stress = medium_stress_loss
	}

	option = { # nah
		name = ek_yearly_events.0130.b
		add_prestige = minor_prestige_gain
	}
}

# Divad Etep't
ek_yearly_events.0152 = {
	type = character_event
	title = ek_yearly_events.0152.t
	desc = ek_yearly_events.0152.desc
	theme = friendly
	override_background = { event_background = market }
	
	left_portrait = {
		character = root
	}

	lower_right_portrait = {
		character = scope:divad
	}

	cooldown = { years = yearly_cooldown }

	trigger = {
		current_month = 7		
		location = {
			geographical_region = mundus_tamriel_hammerfell
		}
	}

	immediate = { 
		character:hunding_101 = {
			save_scope_as = divad
		}
	}

	option = { # cynical option
		name = ek_yearly_events.0152.a
		trigger = { 
			OR = {
				learning > 9
				has_trait = cynical
			} 
		}
		add_piety = medium_piety_loss
		add_learning_lifestyle_xp = medium_lifestyle_xp
	}

	option = { # redguard option
		name = ek_yearly_events.0152.b
		trigger = { 
			culture = { 
				has_cultural_pillar = heritage_yokudan
			} 
		}
		add_prestige = medium_prestige_gain
		add_piety = medium_piety_gain
	}

	option = { # non redguard option
		name = ek_yearly_events.0152.c
		trigger = { 
			culture = { 
				NOT = {
					has_cultural_pillar = heritage_yokudan
				}
			} 
		}
		add_prestige = medium_prestige_loss
		add_character_modifier = {
			modifier = hold_court_8130_tolerance_modifier
			years = 5
		}
	}

	option = { # nah
		name = ek_yearly_events.0130.b
		add_prestige = minor_prestige_gain
	}
}

# Sun's Rest
ek_yearly_events.0153 = {
	type = character_event
	title = ek_yearly_events.0153.t
	desc = ek_yearly_events.0153.desc
	theme = friendly
	override_background = { event_background = market }
	
	left_portrait = {
		character = root
	}

	cooldown = { years = yearly_cooldown }

	trigger = {
		current_month = 7
	}

	immediate = {
		play_music_cue = mx_cue_banquet
	}

	option = { # rest
		name = ek_yearly_events.0153.a
		stress_impact = {
			base = medium_stress_impact_loss
			diligent = major_stress_impact_gain
			lazy = major_stress_impact_loss
		}
	}

	option = { # i make the rules
		name = ek_yearly_events.0153.b
		root.capital_county = {
			add_county_modifier = {
				modifier = governance_peasants_overworked_modifier
				days = 3650
			}
			add_county_modifier = {
				modifier = stewardship_domain_county_worked_to_death_modifier
				years = 20
			}
		}
		add_dread = medium_dread_gain
		stress_impact = {
			compassionate = minor_stress_impact_gain
		}
	}

	option = { # nah
		name = ek_yearly_events.0130.b
		add_prestige = minor_prestige_gain
		stress_impact = {
			base = medium_stress_impact_gain
			lazy = major_stress_impact_gain
		}
	}
}

# Fiery Night
ek_yearly_events.0154 = {
	type = character_event
	title = ek_yearly_events.0154.t
	desc = ek_yearly_events.0154.desc
	theme = friendly
	override_background = { event_background = bp1_bonfire }
	
	left_portrait = {
		character = root
	}

	cooldown = { years = yearly_cooldown }

	trigger = {
		current_month = 7
		any_held_county = {
			culture = { has_innovation = innovation_native_alikr }
		}
	}

	immediate = {
		play_music_cue = mx_cue_banquet
	}

	option = { # enjoy the festival
		name = ek_yearly_events.0148.c
		add_stress = medium_stress_loss
	}

	option = { # nah
		name = ek_yearly_events.0130.b
		add_prestige = minor_prestige_gain
	}
}

# Maiden Katrica
ek_yearly_events.0155 = {
	type = character_event
	title = ek_yearly_events.0155.t
	desc = ek_yearly_events.0155.desc
	theme = friendly
	override_background = { event_background = market }
	
	left_portrait = {
		character = root
	}

	cooldown = { years = yearly_cooldown }

	trigger = {
		current_month = 8
		culture = { 
			has_cultural_pillar = heritage_yokudan
		}
		has_title = title:c_ayasofya
	}

	option = { # al-katrica dread option
		name = ek_yearly_events.0135.a
		trigger = { dynasty = dynasty:210005 }
		add_prestige = medium_prestige_gain
		add_dread = medium_dread_gain
		add_tyranny = medium_tyranny_value
	}

	option = { # al-katrica nice option
		name = ek_yearly_events.0135.b
		trigger = { dynasty = dynasty:210005 }
		add_prestige = minor_prestige_gain
	}

	option = { # non-katrica option
		name = ek_yearly_events.0155.c
		add_prestige = medium_prestige_loss
		add_character_modifier = {
			modifier = hold_court_8130_tolerance_modifier
			years = 5
		}
	}

	option = { # nah
		name = ek_yearly_events.0130.b
	}
}

# Feast of the Tiger
ek_yearly_events.0156 = {
	type = character_event
	title = ek_yearly_events.0156.t
	desc = ek_yearly_events.0156.desc
	theme = friendly
	override_background = { event_background = market }
	
	left_portrait = {
		character = root
	}

	cooldown = { years = yearly_cooldown }

	trigger = {
		current_month = 8
		location = {
			geographical_region = mundus_tamriel_hammerfell_hallin
		}
	}

	immediate = {
		play_music_cue = mx_cue_banquet
	}

	option = { # enjoy the festival
		name = ek_yearly_events.0148.c
		add_stress = medium_stress_loss
	}

	option = { # nah
		name = ek_yearly_events.0130.b
		add_prestige = minor_prestige_gain
	}
}

# Bug Off!
ek_yearly_events.0157 = {
	type = character_event
	title = ek_yearly_events.0157.t
	desc = ek_yearly_events.0157.desc
	theme = healthcare
	
	left_portrait = {
		character = root
	}

	cooldown = { years = yearly_cooldown }

	trigger = {
		NOT = {
			has_character_flag = race_argonian
		}
		location = {
			geographical_region = mundus_tamriel_black_marsh
		}
	}

	immediate = {
	}

	option = { # purchase a repellent candle
		name = ek_yearly_events.0157.a
		remove_short_term_gold = minor_gold_value
		add_character_modifier = {
			modifier = bug_repellent
			years = 5
		}
	}

	option = { # make a repellent candle
		name = ek_yearly_events.0157.b
		duel = {
			skill = learning
			value = decent_skill_rating
			10 = { # success
				desc = ek_yearly_events.0157.b.success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				send_interface_toast = {
					type = event_toast_effect_good
					left_icon = root
					title = tooltip.ek_yearly_events.0157.b.success
					add_character_modifier = {
						modifier = bug_repellent
						years = 5
					}
				}
			}

		10 = { #failure
				desc = ek_yearly_events.0157.b.failure
				send_interface_toast = {
					type = event_toast_effect_bad
					left_icon = scope:ek_scholar
					title = tooltip.ek_yearly_events.0157.b.failure
					add_character_modifier = {
						modifier = bug_bitten
						years = 5
					}
					random = {
						chance = 30
						contract_disease_effect = { DISEASE = typhus TREATMENT_EVENT = yes }
					}
				}
			}
		}
	}

	option = { # aquila non capit muscas
		name = ek_yearly_events.0157.c
		add_prestige = minor_prestige_gain
		add_character_modifier = {
			modifier = bug_bitten
			years = 5
		}
		random = {
			chance = 30
			contract_disease_effect = { DISEASE = typhus TREATMENT_EVENT = yes }
		}
	}
}

# Appreciation Day
ek_yearly_events.0158 = {
	type = character_event
	title = ek_yearly_events.0158.t
	desc = ek_yearly_events.0158.desc
	theme = faith
	
	left_portrait = {
		character = root
	}

	cooldown = { years = yearly_cooldown }

	trigger = {
		location = {
			geographical_region = mundus_tamriel_high_rock_glenumbra
		}
		faith = { patron_dv_mara_valid = yes }
		current_month = 8
	}

	option = { # praise mara!
		name = ek_yearly_events.0158.a
		trigger = {
			has_trait = p_dv_mara
		}
		trait = p_dv_mara
		add_piety = major_piety_gain
		stress_impact = { 
			base = major_stress_impact_loss
			cynical = medium_stress_impact_gain 
		}
	}

	option = { # offer prayers
		name = ek_yearly_events.0158.b
		add_piety = medium_piety_gain
		stress_impact = { 
			cynical = medium_stress_impact_gain 
			p_dv_mara = medium_stress_impact_gain
		}
	}


	option = { # nah
		name = ek_yearly_events.0158.c
		add_prestige = minor_prestige_gain
		add_piety = minor_piety_loss
		stress_impact = { 
			zealous = medium_stress_impact_gain 
			p_dv_mara = medium_stress_impact_gain
		}
	}
}

# Harvest's End
ek_yearly_events.0159 = {
	type = character_event
	title = ek_yearly_events.0159.t
	desc = ek_yearly_events.0159.desc
	theme = friendly
	override_background = { event_background = market }
	
	left_portrait = {
		character = root
	}

	cooldown = { years = yearly_cooldown }

	trigger = {
		current_month = 8
		faith = { NOT = { has_doctrine = doctrine_pantheon_green_pact } }
	}

	immediate = {
		play_music_cue = mx_cue_banquet
	}

	option = { # enjoy the festival
		name = ek_yearly_events.0148.c
		add_stress = medium_stress_loss
	}

	option = { # nah
		name = ek_yearly_events.0130.b
		add_prestige = minor_prestige_gain
	}
}

# Harvest's End: The Bad Man
ek_yearly_events.0160 = {
	type = character_event
	title = ek_yearly_events.0160.t
	desc = ek_yearly_events.0160.desc
	theme = friendly
	override_background = { event_background = bp1_bonfire }
	
	left_portrait = {
		character = root
	}

	cooldown = { years = yearly_cooldown }

	trigger = {
		current_month = 8
		culture = { has_cultural_pillar = heritage_breton }
	}

	immediate = {
		play_music_cue = mx_cue_banquet 
	}

	option = { # burn it!
		name = ek_yearly_events.0141.a
		remove_short_term_gold = minor_gold_value
		root.capital_county = {
			add_county_modifier = {
				modifier = harvests_end_sacrifice
				years = 5
			}
		}
		stress_impact = { 
			base = medium_stress_impact_loss
			callous = major_stress_impact_gain 
			shy = major_stress_impact_gain 
		}
	}


	option = { # nah
		name = ek_yearly_events.0130.b
		add_prestige = minor_prestige_gain
		stress_impact = { 
			gregarious = medium_stress_impact_gain 
		}
	}
}

# Muskfly Infestation
ek_yearly_events.0161 = {
	type = character_event
	title = ek_yearly_events.0161.t
	desc = ek_yearly_events.0161.desc
	theme = stewardship_domain_focus
		
	left_portrait = {
		character = root
	}

	right_portrait = {
		character = scope:steward
		animation = worry
	}

	cooldown = { years = yearly_cooldown }

	trigger = {
		location = { geographical_region = mundus_tamriel_morrowind }
		any_realm_province = {
			has_holding_type = city_holding
		}
		exists = cp:councillor_steward
	}

	immediate = {
		cp:councillor_steward = {
			save_scope_as = steward
		}
		random_realm_province = {
			limit = { has_holding_type = city_holding }
			save_scope_as = province
		}
		scope:province = {
			county = {
				add_county_modifier = {
					modifier = muskfly_infestation
					years = 5
				}
			}
		}
	}

	option = { # i'll deal with this myself
		name = ek_yearly_events.0161.a
		duel = {
			skill = stewardship
			value = decent_skill_rating
			10 = { # success
				desc = ek_yearly_events.161.a.success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				send_interface_toast = {
					type = event_toast_effect_good
					left_icon = root
					title = tooltip.ek_yearly_events.0161.a.success
					scope:province = {
						county = {
							remove_county_modifier = muskfly_infestation
						}
					}
				}
			}

			10 = { #failure
				desc = ek_yearly_events.0161.a.failure
				send_interface_toast = {
					type = event_toast_effect_bad
					left_icon = root
					title = tooltip.ek_yearly_events.0161.a.failure
					add_prestige = minor_prestige_loss	
				}
			}
		}
		stress_impact = { 
			diligent = medium_stress_impact_loss
			lazy = major_stress_impact_gain 
		}
	}


	option = { # you deal with it
		name = ek_yearly_events.0161.b
		scope:steward = {
			duel = {
				skill = stewardship
				value = decent_skill_rating
				10 = { # success
					desc = ek_yearly_events.161.b.success
					compare_modifier = {
						value = scope:duel_value
						multiplier = 1
					}
					root = {
						send_interface_toast = {
							type = event_toast_effect_good
							left_icon = scope:steward
							title = tooltip.ek_yearly_events.0161.b.success
							scope:province = {
								county = {
									remove_county_modifier = muskfly_infestation
								}
							}
						}
					}
				}

				10 = { #failure
					desc = ek_yearly_events.0161.b.failure
					root = {
						send_interface_toast = {
							type = event_toast_effect_bad
							left_icon = root
							title = tooltip.ek_yearly_events.0161.b.failure
							scope:steward = { add_prestige = minor_prestige_loss }
						}
					}
				}
			}
		}
		stress_impact = { 
			diligent = medium_stress_impact_gain
			lazy = major_stress_impact_loss
		}
	}
	option = { # nah
		name = ek_yearly_events.0161.c
		add_dread = medium_dread_gain
		add_tyranny = medium_tyranny_value
		stress_impact = { 
			compassionate = medium_stress_impact_gain 
			callous = medium_stress_impact_loss
			sadistic = major_stress_impact_loss
		}
	}
}

# Guar Hide Squeeze
ek_yearly_events.0162 = {
	type = character_event
	title = ek_yearly_events.0162.t
	desc = ek_yearly_events.0162.desc
	theme = stewardship
		
	left_portrait = {
		character = root
	}

	right_portrait = {
		character = scope:competing_ruler
	}

	cooldown = { years = yearly_cooldown }

	trigger = {
		culture = {
			has_cultural_tradition = tradition_philosophy_of_trade
		}
		any_held_county = {
			any_neighboring_county = {
				NOT = { culture = root.culture }
				holder = { this.culture = { NOT = { this = root.culture } } }
			}
		}
	}

	immediate = {
		cp:councillor_steward = {
			save_scope_as = steward
		}
		random_held_county = {
			limit = {
				any_neighboring_county = {
					NOT = { culture = root.culture }
				}
			}
			save_scope_as = county
			random_neighboring_county = {
				limit = { NOT = { culture = root.culture } }
				save_scope_as = competing_county
				holder = {
					if = {
						limit = {
							this.culture = { NOT = { this = root.culture } }
							NOR =  {
								is_allied_to = ROOT
							}
						}
						save_scope_as = competing_ruler
					}	
				}
			}
		}
	}

	option = { # i'll convince them myself
		name = ek_yearly_events.0162.a
		duel = {
			skill = stewardship
			value = decent_skill_rating
			10 = { # success
				desc = ek_yearly_events.162.a.success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 1
				}
				send_interface_toast = {
					type = event_toast_effect_good
					left_icon = root
					title = tooltip.ek_yearly_events.0162.a.success
					scope:county = {
						add_county_modifier = { 
							modifier = hide_trade
							years = 5
						}
					}
				}
			}

			10 = { #failure
				desc = ek_yearly_events.0162.a.failure
				send_interface_toast = {
					type = event_toast_effect_bad
					left_icon = root
					title = tooltip.ek_yearly_events.0162.a.failure
					add_prestige = minor_prestige_loss	
				}
			}
		}
		stress_impact = { 
			diligent = medium_stress_impact_loss
			lazy = major_stress_impact_gain 
		}
	}


	option = { # my steward can deal with it
		name = ek_yearly_events.0162.b
		scope:steward = {
			duel = {
				skill = stewardship
				value = decent_skill_rating
				10 = { # success
					desc = ek_yearly_events.162.b.success
					compare_modifier = {
						value = scope:duel_value
						multiplier = 1
					}
					root = {
						send_interface_toast = {
							type = event_toast_effect_good
							left_icon = scope:steward
							title = tooltip.ek_yearly_events.0162.b.success
							scope:county = {
								add_county_modifier ={ 
									modifier = hide_trade
									years = 5
								}
							}
						}
					}
				}

				10 = { #failure
					desc = ek_yearly_events.0162.b.failure
					root = {
						send_interface_toast = {
							type = event_toast_effect_bad
							left_icon = root
							title = tooltip.ek_yearly_events.0161.b.failure
							scope:steward = { add_prestige = minor_prestige_loss }
						}
					}
				}
			}
		}
		stress_impact = { 
			diligent = medium_stress_impact_gain
		}
	}
	option = { # nah
		name = ek_yearly_events.0162.c
		
		stress_impact = { 
			ambitious = medium_stress_impact_gain 
			diligent = medium_stress_impact_gain
			lazy = medium_stress_impact_loss
		}
	}
}

# Commotion in [city.GetNameNoTierNoTooltip]
ek_yearly_events.0163 = {
	type = character_event
	title = ek_yearly_events.0163.t
	desc = ek_yearly_events.0163.desc
	theme = pet
		
	left_portrait = {
		character = root
	}

	cooldown = { years = yearly_cooldown }

	trigger = {
		location = { geographical_region = mundus_tamriel_morrowind }
		any_realm_province = {
			has_holding_type = city_holding
		}
    NOT = { has_character_flag = had_bantam_story }
	}

	immediate = {
		random_realm_province = {
			limit = { has_holding_type = city_holding }
			save_scope_as = province
		}
	}

	option = { # i'll take one of those
		name = ek_yearly_events.0163.a
		start_bantam_story_cycle_effect = yes
		stress_impact = { 
			compassionate = medium_stress_impact_loss
			diligent = medium_stress_impact_loss
			lazy = major_stress_impact_gain 
		}
	}

	option = { # i'll donate some gold
		name = ek_yearly_events.0163.b
		remove_short_term_gold = medium_gold_value
		stress_impact = { 
			compassionate = medium_stress_impact_gain
			diligent = medium_stress_impact_loss
			lazy = medium_stress_impact_loss
		}
	}
	option = { # this is not my concern
		name = ek_yearly_events.0163.c
		add_tyranny = medium_tyranny_gain
		add_dread = minor_dread_gain
		
		stress_impact = { 
			compassionate = major_stress_impact_gain
			diligent = medium_stress_impact_gain
			lazy = major_stress_impact_loss
		}
	}
}

# The Vvardvark Experiment
ek_yearly_events.0164 = {
	type = character_event
	title = ek_yearly_events.0164.t
	desc = ek_yearly_events.0164.desc
	theme = pet
	override_background = { event_background = study }
		
	left_portrait = {
		character = root
	}

	cooldown = { years = yearly_cooldown }

	trigger = {
		location = { geographical_region = mundus_tamriel_morrowind }
		can_magic_trigger = yes
   		NOT = { has_character_flag = had_vvardvark_story }
	}

	option = { # i'll attempt to transmute it
		name = ek_yearly_events.0164.a
		fake_duel = {
				skill = arcana
				value = average_skill_rating
				target = this
			}
		random_list = {
			10 = { # success
				desc = ek_yearly_events.0164.a.success
				compare_modifier = {
					value = scope:fake_duel_value
					multiplier = 1
				}
				send_interface_toast = {
					type = event_toast_effect_good
					left_icon = root
					title = tooltip.ek_yearly_events.0164.a.success
					add_magic_lifestyle_xp = medium_lifestyle_xp
					start_vvardvark_story_cycle_effect = yes
				}
			}
			12 = { #failure
				desc = ek_yearly_events.0164.a.failure
				send_interface_toast = {
					left_icon = root
					type = event_toast_effect_bad
					title = tooltip.ek_yearly_events.0164.a.failure
					add_magic_lifestyle_xp = medium_lifestyle_xp
					add_stress = medium_stress_gain	
				}
			}
		}
		stress_impact = { 
			lazy = major_stress_impact_gain 
			callous = major_stress_impact_gain
		}
	}

	option = { # this is foolish
		name = ek_yearly_events.0164.b
		stress_impact = { 
			compassionate = major_stress_impact_gain
			diligent = medium_stress_impact_gain
		}
	}
}

# Seven Graces
ek_yearly_events.0165 = {
	type = character_event
	title = ek_yearly_events.0165.t
	desc = {
		desc = ek_yearly_events.0165.start.desc
		first_valid = {
			triggered_desc = {
				trigger = {
					has_trait = p_tr_vivec
				}
				desc = ek_yearly_events.0165.vivec.desc
			}
			triggered_desc = {
				trigger = {
					has_trait = p_tr_almalexia
				}
				desc = ek_yearly_events.0165.almalexia.desc
			}
			triggered_desc = {
				trigger = {
					has_trait = p_tr_sotha
				}
				desc = ek_yearly_events.0165.sotha.desc
			}
		}
		desc = ek_yearly_events.0165.end.desc
	}
	theme = pilgrimage_activity
	override_icon = {
		reference = "gfx/interface/icons/event_types/type_faith.dds"
	}
	override_background = { event_background = temple }
	
	left_portrait = {
		character = root
		animation = personality_zealous
	}

	right_portrait = {
		character = cp:councillor_court_chaplain
		animation = pride
	}

	trigger = {
		exists = var:pilgrims_path_count
		var:pilgrims_path_count >= 7
		NOT = { has_character_flag = had_seven_graces }
	}

	immediate = {
		play_music_cue = mx_cue_faith_conversion
		cp:councillor_court_chaplain = {
			save_scope_as = chaplain
		}
		add_character_flag = had_seven_graces
	}

	option = { # accept it
		name = ek_yearly_events.0165.a
		add_piety_level = 1
		if = {
			limit = {
				has_trait = p_tr_vivec
			}
			create_artifact_36_sermons_effect = { OWNER = root }
		}
		if = {
			limit = {
				has_trait = p_tr_almalexia
			}
			create_artifact_almalexia_lock_effect = { OWNER = root }
		}
		if = {
			limit = {
				has_trait = p_tr_sotha
			}
			create_artifact_sotha_gear_effect = { OWNER = root }
		}
	}
}